(()=>{"use strict";var t,i,s,h,e={3099:(t,i,s)=>{s.t(i,{i:()=>M});var h=s(2790),e=s(8078),n=s(2028),r=s(2383),l=s(1995),o=(s(1527),s(9080)),a=s(7221),c=s(3909),f=s(3693),u=s(4191),d=s(9345),w=s(6121),y=s(2991),m=s(1840),p=s(312),A=s(9178),I=s(8067),g=s(8934),_=s(8809),C=s(1519),E=s(5810),T=s(3584),b=s(7958),v=s(2441),O=s(8056),L=s(551),S=s(1089),k=s(2157),R=s(8762);class M extends l.s{static h=225;static e=10;static n=0;static r=!0;static l=!1;static o='';static a='';static c=!1;static f='https://raw.githubusercontent.com/2004scape/Server/main';static u=58778699976184461502525193738213253649000149147835990136706041084440742975821n;static d=7162900525229798032761816791230527296329313291232324290237849263501208207972894053929065636522363163621000728841182238772712427862772219676577293600221789n;static w=0;static y=0;static m=0;static p=0;static A=0;static I=0;static g=0;static _=0;static C=0;static E=0;static T=0;static b=0;static v=0;static O=0;static L=0;static S=()=>{a.s.l=!1,e.s.l=!1,M.l=!1,c.s.l=!1};static k=()=>{a.s.l=!0,e.s.l=!0,M.l=!0,c.s.l=!0};R=2048;M=2047;x=!1;N=!1;P=!1;D=!1;F=null;U=0;B=!1;G=[];H=null;W=r.s.Z(1);Y=r.s.Z(1);V=r.s.Z(1);z=0n;X=0;j=0;q=0;$=null;K=0;J=0;Q=0;tt=0;it=0;st=null;ht=!0;et=0;nt=0;rt=null;lt=null;ot=null;at=null;ct=null;ft=null;ut=null;dt=null;wt=null;yt=null;mt=null;pt='';At='';It='';gt='';_t=null;Ct=null;Et=null;Tt=null;bt=[];vt=!1;Ot=null;Lt=null;St=null;kt=null;Rt=null;Mt=null;xt=null;Nt=null;Pt=null;Dt=null;Ft=new Int32Array(256);Ut=0;Bt=0;Gt=0;Ht=null;Wt=null;Zt=null;Yt=null;Vt=null;zt=null;Xt=null;jt=null;qt=null;$t=null;Kt=null;Jt=null;Qt=null;ti=null;ii=null;si=null;hi=null;ei=null;ni=null;ri=null;li=null;oi=new Int32Array(33);ai=new Int32Array(33);ci=new Int32Array(151);fi=new Int32Array(151);ui=null;di=null;wi=null;yi=null;mi=null;pi=null;Ai=new d.Ii(13,null);gi=null;_i=null;Ci=new d.Ii(50,null);Ei=new d.Ii(50,null);Ti=new d.Ii(20,null);bi=new d.Ii(20,null);vi=null;Oi=new d.Ii(8,null);Li=null;Si=null;ki=null;Ri=null;Mi=null;xi=null;Ni=null;Pi=null;Di=null;Fi=null;Ui=null;Bi=null;Gi=null;Hi=null;Wi=null;Zi=null;Yi=null;Vi=null;zi=new d.Ii(1e3,null);Xi=!1;ji=!1;qi=!1;$i=!1;Ki=-1;Ji=0;Qi=0;ts=0;is=0;ss=0;hs=0;es=!1;ns=0;rs=0;ls=0;os=0;as=0;cs=0;fs=[];us=-1;ds=-1;ws=new h.s;ys=78;ms=0;ps=0;As=[];Is=0;gs=0;_s=0;Cs=0;Es=0;Ts=0;bs=0;vs=0;Os=[];Ls=[];Ss=[];ks=[];Rs=null;Ms=-1;xs=3;Ns=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Ps=0;Ds=0;Fs=0;Us=!1;Bs=0;Gs=!1;Hs='';Ws='';Zs=0;Ys='';Vs=!1;zs=-1;Xs=new d.Ii(100,null);js=new d.Ii(100,null);qs=new Int32Array(100);$s=new Int32Array(100);Ks=0;Js=0;Qs=0;th='';ih=0;sh=0;hh=0;eh=0;nh=0;rh=0;lh=0;oh=0;ah=0;ch=!1;fh=0;uh=0;dh=0;wh=0;yh=null;mh=0;ph=0;Ah=0;Ih=0;gh=!1;_h=[];Ch=[];Eh=0;Th=0;bh=0;vh=null;Oh=0;Lh=new Int32Array(500);Sh=new Int32Array(500);kh=new Int32Array(500);Rh=new Int32Array(500);Mh=0;xh=0;Nh=0;Ph='';Dh=!1;Fh=-1;Uh=0;Bh=0;Gh=0;Hh=0;Wh=0;Zh=new Int32Array(1e3);Yh=new Int32Array(1e3);Vh=null;zh=0;Xh=0;jh=0;qh=0;$h=0;Kh=!1;Jh=0;Qh=0;te=0;ie=0;se=2;he=2;ee=1;ne=new Int32Array(5);re=new d.Ii(5,!1);le=new Int32Array(5);oe=new Int32Array(5);ae=new Int32Array(5);ce=0;fe=0;ue=0;de=0;we=0;ye=0;me=0;pe=0;Ae=0;Ie=1;ge=2;_e=-1;Ce=0;Ee=0;Te=0;be=0;ve=0;Oe=0;Le=null;Se=null;ke=null;Re=0;Me=0;xe=new Int8Array(16384);Ne=new d.Ii(f.s.Pe,null);De=0;Fe=0;Ue=128;Be=0;Ge=0;He=0;We=0;Ze=0;Ye=null;Ve=null;ze=new d.Xe(f.s.je,f.s.je);qe=0;$e=0;Ke=0;Je=0;Qe=0;tn=0;in=0;sn=0;hn=0;en=0;nn=0;rn=0;ln=new d.Ii(this.R,null);on=0;an=new Int32Array(this.R);cn=0;fn=0;un=new Int32Array(this.R);dn=new Int32Array(1e3);wn=new d.Ii(this.R,null);yn=new d.Ii(8192,null);mn=0;pn=new Int32Array(8192);An=new o.s;In=new o.s;gn=new o.s;_n=new o.s;Cn=new d.En(f.s.Pe,f.s.je,f.s.je,null);Tn=new o.s;bn=new Int32Array(4e3);vn=new Int32Array(4e3);On=new Int32Array(f.s.je*f.s.je);Ln=new Int32Array(f.s.je*f.s.je);Sn=0;kn=null;Rn=0;Mn=0;xn=-1;Nn=0;Pn=0;Dn=0;Fn=0;Un=!1;Bn=!0;Gn=!1;Hn=new Int32Array(7);Wn=new Int32Array(5);Zn=0;Yn=0;static Vn=50;zn=new Int32Array(M.Vn);Xn=new Int32Array(M.Vn);jn=new Int32Array(M.Vn);qn=new Int32Array(M.Vn);$n=new Int32Array(M.Vn);Kn=new Int32Array(M.Vn);Jn=new Int32Array(M.Vn);Qn=new d.Ii(M.Vn,null);tr=new d.Ii(100,null);ir=new BigInt64Array(100);sr=new Int32Array(100);hr=null;er=0;nr=!0;rr=new Int32Array(50);lr=new Int32Array(50);or=new Int32Array(50);ar=192;cr=-1;fr=-1;ur=0;dr=0;wr=0;yr=!0;mr=null;pr=0;Ar=0;Ir=192;gr=()=>{try{this.H&&this.H._r()}catch(t){}this.H=null,(0,T.Cr)(),this.Y=null,this.V=null,this.W=null,this.ke=null,this.Le=null,this.Se=null,this.Ye=null,this.Ve=null,this.Vh=null,this.Ne=null,this.On=null,this.Ln=null,this.bn=null,this.vn=null,this.xe=null,this.Wt=null,this.Zt=null,this.Yt=null,this.Vt=null,this.zt=null,this.Xt=null,this.jt=null,this.qt=null,this.$t=null,this.Kt=null,this.Jt=null,this.Qt=null,this.ti=null,this.ii=null,this.si=null,this.hi=null,this.ei=null,this.ui=null,this.wi=null,this.di=null,this.yi=null,this.mi=null,this.pi=null,this.Ai=null,this.Ni=null,this.Pi=null,this.Di=null,this.Fi=null,this.Ui=null,this.Bi=null,this.Gi=null,this.Hi=null,this.Wi=null,this.Zi=null,this._i=null,this.Ti=null,this.bi=null,this.Oi=null,this.Li=null,this.Si=null,this.ki=null,this.Ri=null,this.Ci=null,this.Ei=null,this.ze=null,this.ln=null,this.an=null,this.un=null,this.wn=null,this.dn=null,this.yn=null,this.pn=null,this.Cn=null,this.Tn=null,this._n=null,this.An=null,this.In=null,this.gn=null,this.kh=null,this.Rh=null,this.Lh=null,this.Sh=null,this.fs=null,this._h=null,this.Zh=null,this.Yh=null,this.zi=null,this.gi=null,this.tr=null,this.ir=null,this.sr=null,this.at=null,this.ct=null,this.rt=null,this.lt=null,this.ot=null,this.ft=null,this.ut=null,this.dt=null,this.wt=null,this.Er(),b.s.gr(),v.s.gr(),m.s.gr(),O.s.Tr=null,_.s.Tr=null,h.s.Tr=null,I.s.Tr=null,L.s.Tr=null,L.s.br=null,S.s.Tr=null,this.vr=null,u.s.br=null,e.s.gr(),a.s.gr(),A.s.gr(),k.s.Tr=[],R.s.Tr=[]};Er=()=>{this.vt=!1,this.Ht&&(clearInterval(this.Ht),this.Ht=null),this.yt=null,this.mt=null,this.bt=[],this.xt=null,this.Nt=null,this.Pt=null,this.Dt=null,this.kt=null,this.St=null,this.Rt=null,this.Mt=null,this.Ot=null,this.Lt=null};Or=async(t,i,s,h)=>{let e=5,l=await(this.F?.Lr(t));if(l&&r.s.Sr(l)!==s&&(l=void 0),l)return new n.s(l);for(;!l;){await this.kr(h,`Requesting ${i}`);try{l=await(0,C.Rr)(`${M.a}/${t}${s}`)}catch(t){l=void 0;for(let t=e;t>0;t--)await this.kr(h,`Error loading - Will retry in ${t} secs.`),await(0,C.Mr)(1e3);e*=2,e>60&&(e=60)}}return await(this.F?.xr(t,l)),new n.s(l)};Nr=async(t,i,s)=>{let h=await(this.F?.Lr(t+'.mid'));if(h&&12345678!==i&&r.s.Sr(h)!==i&&(h=void 0),!h)try{h=await(0,C.Rr)(`${M.a}/${t}_${i}.mid`),s!==h.Pr&&(h=h.Dr(0,s))}catch(t){}if(!h)return;await(this.F?.xr(t+'.mid',h));const e=new r.s(Uint8Array.from(h)).Fr,n=E.s.Ur(e,h,s,4);(0,T.Br)(n,this.Ir)};Gr=()=>{if(w.Wr.Hr='black',w.Wr.Zr(0,0,this.Yr,this.Vr),this.zr(1),this.P){this.vt=!1,w.Wr.Xr='bold 16px helvetica, sans-serif',w.Wr.jr='left',w.Wr.Hr='yellow';let t=35;w.Wr.qr('Sorry, an error has occured whilst loading RuneScape',30,t),t+=50,w.Wr.Hr='white',w.Wr.qr('To fix this try the following (in order):',30,t),t+=50,w.Wr.Xr='bold 12px helvetica, sans-serif',w.Wr.qr('1: Try closing ALL open web-browser windows, and reloading',30,t),t+=30,w.Wr.qr('2: Try clearing your web-browsers cache from tools->internet options',30,t),t+=30,w.Wr.qr('3: Try using a different game-world',30,t),t+=30,w.Wr.qr('4: Try rebooting your computer',30,t),t+=30,w.Wr.qr('5: Try selecting a different version of Java from the play-game menu',30,t)}if(this.D&&(this.vt=!1,w.Wr.Xr='bold 20px helvetica, sans-serif',w.Wr.jr='left',w.Wr.Hr='white',w.Wr.qr('Error - unable to load game!',50,50),w.Wr.qr('To play RuneScape make sure you play from',50,100),w.Wr.qr('https://2004scape.org',50,150)),this.N){this.vt=!1,w.Wr.Xr='bold 13px helvetica, sans-serif',w.Wr.jr='left',w.Wr.Hr='yellow';let t=35;w.Wr.qr('Error a copy of RuneScape already appears to be loaded',30,t),t+=50,w.Wr.Hr='white',w.Wr.qr('To fix this try the following (in order):',30,t),t+=50,w.Wr.Xr='bold 12px helvetica, sans-serif',w.Wr.qr('1: Try closing ALL open web-browser windows, and reloading',30,t),t+=30,w.Wr.qr('2: Try rebooting your computer, and reloading',30,t)}};$r=t=>{if(!t.Kr)return!1;for(let i=0;i<t.Kr.Pr;i++){const s=this.Jr(t,i);if(!t.Qr)return!1;const h=t.Qr[i];if(2===t.Kr[i]){if(s>=h)return!1}else if(3===t.Kr[i]){if(s<=h)return!1}else if(4===t.Kr[i]){if(s===h)return!1}else if(s!==h)return!1}return!0};tl=(t,i,s,h,e)=>{this.Mi?.il(t,i),this.xi?.il(t,i+e-16),y.s.Zr(t,i+16,16,e-32,p.s.sl);let n=(e-32)*e/h|0;n<8&&(n=8);const r=(e-n-32)*s/(h-e)|0;y.s.Zr(t,i+r+16,16,n,p.s.hl),y.s.el(t,i+r+16,p.s.nl,n),y.s.el(t+1,i+r+16,p.s.nl,n),y.s.rl(t,i+r+16,p.s.nl,16),y.s.rl(t,i+r+17,p.s.nl,16),y.s.el(t+15,i+r+16,p.s.ll,n),y.s.el(t+14,i+r+17,p.s.ll,n-1),y.s.rl(t,i+r+n+15,p.s.ll,16),y.s.rl(t+1,i+r+n+14,p.s.ll,15)};ol=(t,i)=>{let s=!1;const e=h.s.Tr[t];if(!e.al)return!1;for(let t=0;t<e.al.Pr&&-1!==e.al[t];t++){const n=h.s.Tr[e.al[t]];if(1===n.cl&&(s||=this.ol(n.fl,i)),6===n.cl&&(-1!==n.ul||-1!==n.dl)){let t;if(t=this.$r(n)?n.dl:n.ul,-1!==t){const h=I.s.Tr[t];if(n.wl+=i,h.yl)for(;n.wl>h.yl[n.ml];)n.wl-=h.yl[n.ml]+1,n.ml++,n.ml>=h.pl&&(n.ml-=h.Al,(n.ml<0||n.ml>=h.pl)&&(n.ml=0)),s=!0}}}return s};Il=(t,i,s,n,r=!1)=>{if(0!==t.cl||!t.al||t.gl&&this.ih!==t.fl&&this.sh!==t.fl&&this.hh!==t.fl)return;const l=y.s._l,o=y.s.Cl,a=y.s.El,c=y.s.Tl;y.s.bl(i,s,i+t.Yr,s+t.Vr);const f=t.al.Pr;for(let l=0;l<f;l++){if(!t.vl||!t.Ol)continue;let o=t.vl[l]+i,a=t.Ol[l]+s-n;const c=h.s.Tr[t.al[l]];if(o+=c.Ll,a+=c.Sl,r&&y.s.kl(o,a,c.Yr,c.Vr,p.s.Rl),c.Ml>0&&this.xl(c),c.cl===h.s.Nl)c.Pl>c.Dl-c.Vr&&(c.Pl=c.Dl-c.Vr),c.Pl<0&&(c.Pl=0),this.Il(c,o,a,c.Pl,r),c.Dl>c.Vr&&this.tl(o+c.Yr,a,c.Pl,c.Dl,c.Vr);else if(c.cl===h.s.Fl){let t=0;for(let i=0;i<c.Vr;i++)for(let s=0;s<c.Yr;s++){if(!(c.Ul&&c.Bl&&c.Gl&&c.Hl))continue;let h=o+s*(c.Wl+32),e=a+i*(c.Zl+32);if(t<20&&(h+=c.Ul[t],e+=c.Bl[t]),c.Gl[t]>0){let i=0,s=0;const n=c.Gl[t]-1;if(h>=-32&&h<=512&&e>=-32&&e<=334||0!==this.rh&&this.nh===t){const r=m.s.Yl(n,c.Hl[t]);if(0!==this.rh&&this.nh===t&&this.eh===c.fl?(i=this.Vl-this.lh,s=this.zl-this.oh,i<5&&i>-5&&(i=0),s<5&&s>-5&&(s=0),this.ah<5&&(i=0,s=0),r.Xl(128,h+i,e+s)):0!==this.mh&&this.ph===t&&this.Ah===c.fl?r.Xl(128,h,e):r.il(h,e),33===r.jl||1!==c.Hl[t]){const n=c.Hl[t];this._t?.ql(h+i+1,e+10+s,this.$l(n),p.s.Kl),this._t?.ql(h+i,e+9+s,this.$l(n),p.s.Jl)}}}else if(c.Ql&&t<20){const i=c.Ql[t];i?.il(h,e)}t++}}else if(c.cl===h.s.to)c.io?y.s.Zr(o,a,c.Yr,c.Vr,c.so):y.s.kl(o,a,c.Yr,c.Vr,c.so);else if(c.cl===h.s.ho){const t=c.Xr;let i=c.so,s=c.eo;if(this.hh!==c.fl&&this.sh!==c.fl&&this.ih!==c.fl||0===c.no||(i=c.no),this.$r(c)&&(i=c.ro,c.lo&&c.lo.Pr>0&&(s=c.lo)),c.oo===h.s.ao&&this.gh&&(s='Please wait...',i=c.so),!t||!s)continue;for(let h=a+t.Vr;s.Pr>0;h+=t.Vr){if(-1!==s.co('%')){for(;;){const t=s.co('%1');if(-1===t)break;s=s.fo(0,t)+this.uo(this.Jr(c,0))+s.fo(t+2)}for(;;){const t=s.co('%2');if(-1===t)break;s=s.fo(0,t)+this.uo(this.Jr(c,1))+s.fo(t+2)}for(;;){const t=s.co('%3');if(-1===t)break;s=s.fo(0,t)+this.uo(this.Jr(c,2))+s.fo(t+2)}for(;;){const t=s.co('%4');if(-1===t)break;s=s.fo(0,t)+this.uo(this.Jr(c,3))+s.fo(t+2)}for(;;){const t=s.co('%5');if(-1===t)break;s=s.fo(0,t)+this.uo(this.Jr(c,4))+s.fo(t+2)}}const e=s.co('\\n');let n;-1!==e?(n=s.fo(0,e),s=s.fo(e+2)):(n=s,s=''),c.do?t.wo(o+(c.Yr/2|0),h,n,i,c.yo):t.mo(o,h,n,i,c.yo)}}else if(c.cl===h.s.po){let t;t=this.$r(c)?c.Ao:c.Io,t?.il(o,a)}else if(c.cl===h.s.go){const t=e.s._o,i=e.s.Co;e.s._o=o+(c.Yr/2|0),e.s.Co=a+(c.Vr/2|0);const s=e.s.Eo[c.To]*c.bo>>16,h=e.s.vo[c.To]*c.bo>>16,n=this.$r(c);let r;r=n?c.dl:c.ul;let l=null;if(-1===r)l=c.Oo(-1,-1,n);else{const t=I.s.Tr[r];t.Lo&&t.So&&(l=c.Oo(t.Lo[c.ml],t.So[c.ml],n))}l&&l.ko(0,c.Ro,0,c.To,0,s,h),e.s._o=t,e.s.Co=i}else if(c.cl===h.s.Mo){const t=c.Xr;if(!t||!c.Gl||!c.Hl)continue;let i=0;for(let s=0;s<c.Vr;s++)for(let h=0;h<c.Yr;h++){if(c.Gl[i]>0){const e=m.s.xo(c.Gl[i]-1);let n=e.No;if((e.Po||1!==c.Hl[i])&&(n=n+' x'+this.Do(c.Hl[i])),!n)continue;const r=o+h*(c.Wl+115),l=a+s*(c.Zl+12);c.do?t.wo(r+(c.Yr/2|0),l,n,c.so,c.yo):t.mo(r,l,n,c.so,c.yo)}i++}}}y.s.bl(l,o,a,c)};xl=t=>{let i=t.Ml;if(i>=h.s.Fo&&i<=h.s.Uo)i--,i>=this.Zn?(t.eo='',t.oo=0):(t.eo=this.tr[i],t.oo=1);else if(i>=h.s.Bo&&i<=h.s.Go)i-=h.s.Bo,i>=this.Zn?(t.eo='',t.oo=0):(0===this.sr[i]?t.eo='@red@Offline':this.sr[i]===M.e?t.eo='@gre@World-'+(this.sr[i]-9):t.eo='@yel@World-'+(this.sr[i]-9),t.oo=1);else if(i===h.s.Ho)t.Dl=15*this.Zn+20,t.Dl<=t.Vr&&(t.Dl=t.Vr+1);else if(i>=h.s.Wo&&i<=h.s.Zo)i-=h.s.Wo,i>=this.ps?(t.eo='',t.oo=0):(t.eo=g.s.Yo(g.s.Vo(this.As[i])),t.oo=1);else if(i===h.s.zo)t.Dl=15*this.ps+20,t.Dl<=t.Vr&&(t.Dl=t.Vr+1);else if(i===h.s.Xo){if(t.To=150,t.Ro=2047&(256*Math.Eo(this.U/40)|0),this.Gn){this.Gn=!1;const i=new d.Ii(7,null);let s=0;for(let t=0;t<7;t++){const h=this.Hn[t];h>=0&&(i[s++]=_.s.Tr[h].Oo())}const h=A.s.jo(i,s);for(let t=0;t<5;t++)0!==this.Wn[t]&&(h.qo(u.s.$o[t][0],u.s.$o[t][this.Wn[t]]),1===t&&h.qo(u.s.Ko[0],u.s.Ko[this.Wn[t]]));if(this.kn){const i=I.s.Tr[this.kn.Jo].Lo;i&&(h.Qo(),h.ta(i[0]),h.ia(64,850,-30,-50,-30,!0),t.sa=h)}}}else if(i===h.s.ha)this.Yi||(this.Yi=t.Io,this.Vi=t.Ao),this.Bn?t.Io=this.Vi:t.Io=this.Yi;else if(i===h.s.ea)this.Yi||(this.Yi=t.Io,this.Vi=t.Ao),this.Bn?t.Io=this.Yi:t.Io=this.Vi;else if(i===h.s.na)t.eo=this.Ph,this.U%20<10?t.eo=t.eo+'|':t.eo=t.eo+' ';else if(i===h.s.ra)this.Un?this.Dh?(t.so=p.s.la,t.eo='Moderator option: Mute player for 48 hours: <ON>'):(t.so=p.s.Rl,t.eo='Moderator option: Mute player for 48 hours: <OFF>'):t.eo='';else if(i===h.s.oa||i===h.s.aa)if(0===this.Uh)t.eo='';else{let i;i=0===this.Bh?'earlier today':1===this.Bh?'yesterday':this.Bh+' days ago',t.eo='You last logged in '+i+' from: '+g.s.ca(this.Uh)}else if(i===h.s.fa)0===this.Hh&&(t.eo='0 unread messages',t.so=p.s.Jl),1===this.Hh&&(t.eo='1 unread message',t.so=p.s.ua),this.Hh>1&&(t.eo=this.Hh+' unread messages',t.so=p.s.ua);else if(i===h.s.da)if(201===this.Gh)t.eo='';else if(200===this.Gh)t.eo='You have not yet set any password recovery questions.';else{let i;i=0===this.Gh?'Earlier today':1===this.Gh?'Yesterday':this.Gh+' days ago',t.eo=i+' you changed your recovery questions'}else i===h.s.wa?201===this.Gh?t.eo='':200===this.Gh?t.eo='We strongly recommend you do so now to secure your account.':t.eo='If you do not remember making this change then cancel it immediately':i===h.s.ya&&(201===this.Gh?t.eo='':(this.Gh,t.eo="Do this from the 'account management' area on our front webpage"))};Jr=(t,i)=>{if(!t.ma||i>=t.ma.Pr)return-2;try{const s=t.ma[i];if(!s)return-1;let e=0,n=0;for(;;){const t=s[n++];if(0===t)return e;if(1===t)e+=this.Ls[s[n++]];else if(2===t)e+=this.Ss[s[n++]];else if(3===t)e+=this.Os[s[n++]];else if(4===t){const t=h.s.Tr[s[n++]],i=s[n++]+1;if(t.Gl&&t.Hl)for(let s=0;s<t.Gl.Pr;s++)t.Gl[s]===i&&(e+=t.Hl[s]);else e+=0}else if(5===t)e+=this._h[s[n++]];else if(6===t)e+=this.ks[this.Ss[s[n++]]-1];else if(7===t)e+=100*this._h[s[n++]]/46875|0;else if(8===t)e+=this.kn?.pa||0;else if(9===t)for(let t=0;t<19;t++)18===t&&(t=20),e+=this.Ss[t];else if(10===t){const t=h.s.Tr[s[n++]],i=s[n++]+1;for(let s=0;s<t.Gl.Pr;s++)if(t.Gl[s]===i){e+=999999999;break}}else if(11===t)e+=this.Rn;else if(12===t)e+=this.Nn;else if(13===t){const t=this._h[s[n++]];e+=0==(t&1<<s[n++])?0:1}}}catch(t){return-1}};uo=t=>t<999999999?String(t):'*';Do=t=>{let i=String(t);for(let t=i.Pr-3;t>0;t-=3)i=i.fo(0,t)+','+i.fo(t);return i.Pr>8?i='@gre@'+i.fo(0,i.Pr-8)+' million @whi@('+i+')':i.Pr>4&&(i='@cya@'+i.fo(0,i.Pr-4)+'K @whi@('+i+')'),' '+i};$l=t=>t<1e5?String(t):t<1e7?(t/1e3|0)+'K':(t/1e6|0)+'M'}},1803:(t,i,s)=>{s.t(i,{Aa:()=>r});var h=s(1995),e=s(3099),n=s(1519);async function r(){const t=window.location.Ia,i=window.location._a.ga('https');0===h.s.Ca('world').Pr&&h.s.Ea('world','1'),0===h.s.Ca('detail').Pr&&h.s.Ea('detail','high'),0===h.s.Ca('method').Pr&&h.s.Ea('method','0'),'localhost'===t&&'0'===h.s.Ca('world')?(e.i.o='http://localhost',e.i.a='http://localhost',e.i.n=0):await async function(t){const i=await l(t,parseInt(h.s.Ca('world'),10)),s=new URL(i.Ta);e.i.e=10+i.fl-1,e.i.o=`${s._a}//${s.Ia}`,e.i.a=`${s._a}//${s.Ia}:${s.ba}`,t||(e.i.o=e.i.o.va('https:','http:'));e.i.n=i.n,e.i.r=!0===i?.r}(i),'low'===h.s.Ca('detail')?e.i.k():e.i.S()}async function l(t,i,s=0){if(s>=10)throw new Error('could not find world to connect!');const h=t?'https:':'http:';let e;try{e=JSON.parse(await(0,n.Oa)(`${h}//2004scape.org/api/v1/worldlist`))}catch(h){return await(0,n.Mr)(1e3),l(t,i,++s)}const r=e.La((t=>t.fl===i));return r||l(t,i,10)}},1979:(t,i,s)=>{s.Sa(t,(async(t,i)=>{try{var h=s(8067),e=s(7958),n=s(1840),r=s(2441),l=s(8809),o=s(551),a=s(1089),c=s(2790),f=s(651),u=s(2991),d=s(8078),w=s(664),y=s(6542),m=s(4628),p=s(9178),A=s(312),I=s(2383),g=s(1812),_=s(741),C=s(7576),E=s(8432),T=s(9782),b=s(9995),v=s(9897),O=s(6054),L=s(6970),S=(s(1527),s(5810)),k=s(9080),R=s(8934),M=s(6884),x=s(7221),N=s(3909),P=s(3714),D=s(1908),F=s(5534),U=s(6150),B=s(7396),G=s(3693),H=s(8603),W=s(4191),Z=s(1353),Y=s(7973),V=s(682),z=s(1810),X=s(5659),j=s(3584),q=s(1519),$=s(9345),K=s(3099),J=s(2157),Q=s(8762),tt=s(8056),it=s(1803);class t extends K.i{ka=async()=>{if(this.x)this.N=!0;else{this.x=!0;try{await this.kr(10,'Connecting to fileserver'),await S.s.ka(await(await fetch('bz2.wasm')).Ra()),this.F=new E.s(await E.s.Ma());const t=new I.s(new Uint8Array(await(0,q.Rr)(`${K.i.a}/crc`)));for(let i=0;i<9;i++)this.G[i]=t.Fr;K.i.l||await this.Nr('scape_main',12345678,4e4);const i=await this.Or('title','title screen',this.G[1],10);this.st=i,this._t=m.s.xa(i,'p11'),this.Ct=m.s.xa(i,'p12'),this.Et=m.s.xa(i,'b12'),this.Tt=m.s.xa(i,'q8'),await this.Na(),this.Pa();const s=await this.Or('config','config',this.G[2],15),u=await this.Or('interface','interface',this.G[3],20),A=await this.Or('media','2d graphics',this.G[4],30),g=await this.Or('models','3d graphics',this.G[5],40),_=await this.Or('textures','textures',this.G[6],60),C=await this.Or('wordenc','chat system',this.G[7],65),T=await this.Or('sounds','sound effects',this.G[8],70);this.Ve=new $.Da(G.s.Pe,G.s.je,G.s.je),this.Ye=new $.Fa(G.s.Pe,G.s.je+1,G.s.je+1),this.Ye&&(this.Vh=new x.s(this.Ye,G.s.je,G.s.Pe,G.s.je));for(let t=0;t<G.s.Pe;t++)this.Ne[t]=new G.s;this.gi=new y.s(512,512),await this.kr(75,'Unpacking media'),this.ui=w.s.xa(A,'invback',0),this.di=w.s.xa(A,'chatback',0),this.wi=w.s.xa(A,'mapback',0),this.yi=w.s.xa(A,'backbase1',0),this.mi=w.s.xa(A,'backbase2',0),this.pi=w.s.xa(A,'backhmid1',0);for(let t=0;t<13;t++)this.Ai[t]=w.s.xa(A,'sideicons',t);this._i=y.s.xa(A,'compass',0);try{for(let t=0;t<50;t++)this.Ci[t]=w.s.xa(A,'mapscene',t)}catch(t){}try{for(let t=0;t<50;t++)this.Ei[t]=y.s.xa(A,'mapfunction',t)}catch(t){}try{for(let t=0;t<20;t++)this.Ti[t]=y.s.xa(A,'hitmarks',t)}catch(t){}try{for(let t=0;t<20;t++)this.bi[t]=y.s.xa(A,'headicons',t)}catch(t){}this.vi=y.s.xa(A,'mapflag',0);for(let t=0;t<8;t++)this.Oi[t]=y.s.xa(A,'cross',t);this.Li=y.s.xa(A,'mapdots',0),this.Si=y.s.xa(A,'mapdots',1),this.ki=y.s.xa(A,'mapdots',2),this.Ri=y.s.xa(A,'mapdots',3),this.Mi=w.s.xa(A,'scrollbar',0),this.xi=w.s.xa(A,'scrollbar',1),this.Ni=w.s.xa(A,'redstone1',0),this.Pi=w.s.xa(A,'redstone2',0),this.Di=w.s.xa(A,'redstone3',0),this.Fi=w.s.xa(A,'redstone1',0),this.Fi?.Ua(),this.Ui=w.s.xa(A,'redstone2',0),this.Ui?.Ua(),this.Bi=w.s.xa(A,'redstone1',0),this.Bi?.Ba(),this.Gi=w.s.xa(A,'redstone2',0),this.Gi?.Ba(),this.Hi=w.s.xa(A,'redstone3',0),this.Hi?.Ba(),this.Wi=w.s.xa(A,'redstone1',0),this.Wi?.Ua(),this.Wi?.Ba(),this.Zi=w.s.xa(A,'redstone2',0),this.Zi?.Ua(),this.Zi?.Ba();const b=y.s.xa(A,'backleft1',0);this.qt=new f.s(b.Yr,b.Vr),b.Ga(0,0);const O=y.s.xa(A,'backleft2',0);this.$t=new f.s(O.Yr,O.Vr),O.Ga(0,0);const k=y.s.xa(A,'backright1',0);this.Kt=new f.s(k.Yr,k.Vr),k.Ga(0,0);const R=y.s.xa(A,'backright2',0);this.Jt=new f.s(R.Yr,R.Vr),R.Ga(0,0);const M=y.s.xa(A,'backtop1',0);this.Qt=new f.s(M.Yr,M.Vr),M.Ga(0,0);const N=y.s.xa(A,'backtop2',0);this.ti=new f.s(N.Yr,N.Vr),N.Ga(0,0);const P=y.s.xa(A,'backvmid1',0);this.ii=new f.s(P.Yr,P.Vr),P.Ga(0,0);const D=y.s.xa(A,'backvmid2',0);this.si=new f.s(D.Yr,D.Vr),D.Ga(0,0);const F=y.s.xa(A,'backvmid3',0);this.hi=new f.s(F.Yr,F.Vr),F.Ga(0,0);const U=y.s.xa(A,'backhmid2',0);this.ei=new f.s(U.Yr,U.Vr),U.Ga(0,0);const B=(21*Math.Ha()|0)-10,H=(21*Math.Ha()|0)-10,W=(21*Math.Ha()|0)-10,Z=(41*Math.Ha()|0)-20;for(let t=0;t<50;t++)this.Ei[t]&&this.Ei[t]?.Wa(B+Z,H+Z,W+Z),this.Ci[t]&&this.Ci[t]?.Wa(B+Z,H+Z,W+Z);await this.kr(80,'Unpacking textures'),d.s.Za(_),d.s.Ya(.8),d.s.Va(20),await this.kr(83,'Unpacking models'),p.s.za(g),J.s.za(g),Q.s.za(g),await this.kr(86,'Unpacking config'),h.s.za(s),e.s.za(s),tt.s.za(s),n.s.za(s,K.i.r),r.s.za(s),l.s.za(s),o.s.za(s),a.s.za(s),K.i.l||(await this.kr(90,'Unpacking sounds'),L.s.za(T)),await this.kr(92,'Unpacking interfaces'),c.s.za(u,A,[this._t,this.Ct,this.Et,this.Tt]),await this.kr(97,'Preparing game engine');for(let t=0;t<33;t++){let i=999,s=0;for(let h=0;h<35;h++)if(0===this.wi.Xa[h+t*this.wi.Yr])999===i&&(i=h);else if(999!==i){s=h;break}this.oi[t]=i,this.ai[t]=s-i}for(let t=9;t<160;t++){let i=999,s=0;for(let h=10;h<168;h++)if(0===this.wi.Xa[h+t*this.wi.Yr]&&(h>34||t>34))999===i&&(i=h);else if(999!==i){s=h;break}this.ci[t-9]=i-21,this.fi[t-9]=s-i}d.s.ja(479,96),this.ni=d.s.qa,d.s.ja(190,261),this.ri=d.s.qa,d.s.ja(512,334),this.li=d.s.qa;const Y=new Int32Array(9);for(let t=0;t<9;t++){const i=32*t+128+15,s=3*i+600,h=d.s.Eo[i];Y[t]=s*h>>16}x.s.$a(512,334,500,800,Y),v.s.za(C),this.Ka()}catch(t){console.Ja(t),this.P=!0}}};Qa=async()=>{this.N||this.P||this.D||(this.U++,this.B?await this.tc():await this.ic())};il=async()=>{this.N||this.P||this.D?this.Gr():(this.B?this.sc():await this.hc(),this.Ji=0)};ec=()=>{this.ht=!0};kr=async(t,i)=>{if(console.log(`${t}%: ${i}`),await this.nc(),!this.st)return void await super.kr(t,i);this.ot?.rc();this.Et?.lc(180,54,'RuneScape is loading - please wait...',A.s.Rl);u.s.kl(28,62,304,34,A.s.oc),u.s.kl(29,63,302,32,A.s.Kl),u.s.Zr(30,64,3*t,30,A.s.oc),u.s.Zr(30+3*t,64,300-3*t,30,A.s.Kl),this.Et?.lc(180,85,i,A.s.Rl),this.ot?.il(214,186),this.ht&&(this.ht=!1,this.vt||(this.at?.il(0,0),this.ct?.il(661,0)),this.rt?.il(128,0),this.lt?.il(214,386),this.ft?.il(0,265),this.ut?.il(574,265),this.dt?.il(128,186),this.wt?.il(574,186)),await(0,q.Mr)(5)};ac=()=>{this.vt&&(this.cc(),this.cc(),this.fc())};nc=async()=>{this.rt||(this.vr=null,this.Vt=null,this.Zt=null,this.Wt=null,this.Yt=null,this.zt=null,this.Xt=null,this.jt=null,this.at=new f.s(128,265),u.s.uc(),this.ct=new f.s(128,265),u.s.uc(),this.rt=new f.s(533,186),u.s.uc(),this.lt=new f.s(360,146),u.s.uc(),this.ot=new f.s(360,200),u.s.uc(),this.ft=new f.s(214,267),u.s.uc(),this.ut=new f.s(215,267),u.s.uc(),this.dt=new f.s(86,79),u.s.uc(),this.wt=new f.s(87,79),u.s.uc(),this.st&&(await this.Na(),this.Pa()),this.ht=!0)};Na=async()=>{if(!this.st)return;const t=await y.s.dc(this.st,'title');this.at?.rc(),t.Ga(0,0),this.ct?.rc(),t.Ga(-661,0),this.rt?.rc(),t.Ga(-128,0),this.lt?.rc(),t.Ga(-214,-386),this.ot?.rc(),t.Ga(-214,-186),this.ft?.rc(),t.Ga(0,-265),this.ut?.rc(),t.Ga(-128,-186),this.dt?.rc(),t.Ga(-128,-186),this.wt?.rc(),t.Ga(-574,-186),t.Ua(),this.at?.rc(),t.Ga(394,0),this.ct?.rc(),t.Ga(-267,0),this.rt?.rc(),t.Ga(266,0),this.lt?.rc(),t.Ga(180,-386),this.ot?.rc(),t.Ga(180,-186),this.ft?.rc(),t.Ga(394,-265),this.ut?.rc(),t.Ga(-180,-265),this.dt?.rc(),t.Ga(212,-186),this.wt?.rc(),t.Ga(-180,-186);const i=y.s.xa(this.st,'logo');this.rt?.rc(),i.il((this.Yr/2|0)-(i.Yr/2|0)-128,18)};wc=t=>{if(!this.kt||!this.St)return;this.kt.io(0);for(let t=0;t<5e3;t++){const t=128*Math.Ha()*256|0;this.kt[t]=256*Math.Ha()|0}for(let t=0;t<20;t++){for(let t=1;t<255;t++)for(let i=1;i<127;i++){const s=i+(t<<7);this.St[s]=(this.kt[s-1]+this.kt[s+1]+this.kt[s-128]+this.kt[s+128])/4|0}const t=this.kt;this.kt=this.St,this.St=t}if(t){let i=0;for(let s=0;s<t.Vr;s++)for(let h=0;h<t.Yr;h++)if(0!==t.Xa[i++]){const i=h+t.yc+16+(s+t.mc+16<<7);this.kt[i]=0}}};Pa=()=>{if(this.st){this.yt=w.s.xa(this.st,'titlebox'),this.mt=w.s.xa(this.st,'titlebutton');for(let t=0;t<12;t++)this.bt[t]=w.s.xa(this.st,'runes',t);this.Ot=new y.s(128,265),this.Lt=new y.s(128,265),this.at&&(0,q.pc)(this.at.Xa,0,this.Ot.Xa,0,33920),this.ct&&(0,q.pc)(this.ct.Xa,0,this.Lt.Xa,0,33920),this.Nt=new Int32Array(256);for(let t=0;t<64;t++)this.Nt[t]=262144*t;for(let t=0;t<64;t++)this.Nt[t+64]=1024*t+A.s.la;for(let t=0;t<64;t++)this.Nt[t+128]=4*t+A.s.Jl;for(let t=0;t<64;t++)this.Nt[t+192]=A.s.Rl;this.Pt=new Int32Array(256);for(let t=0;t<64;t++)this.Pt[t]=1024*t;for(let t=0;t<64;t++)this.Pt[t+64]=4*t+A.s.ua;for(let t=0;t<64;t++)this.Pt[t+128]=262144*t+A.s.Ac;for(let t=0;t<64;t++)this.Pt[t+192]=A.s.Rl;this.Dt=new Int32Array(256);for(let t=0;t<64;t++)this.Dt[t]=4*t;for(let t=0;t<64;t++)this.Dt[t+64]=262144*t+A.s.Ic;for(let t=0;t<64;t++)this.Dt[t+128]=1024*t+A.s.gc;for(let t=0;t<64;t++)this.Dt[t+192]=A.s.Rl;this.xt=new Int32Array(256),this.kt=new Int32Array(32768),this.St=new Int32Array(32768),this.wc(null),this.Rt=new Int32Array(32768),this.Mt=new Int32Array(32768),this.kr(10,'Connecting to fileserver')._c((()=>{this.vt||(this.vt=!0,this.Ht=setInterval(this.ac,35))}))}};ic=async()=>{if(0===this.et){let t=(this.Yr/2|0)-80,i=20+(this.Vr/2|0);i+=20,1===this.Cc&&this.Ec>=t-75&&this.Ec<=t+75&&this.Tc>=i-20&&this.Tc<=i+20&&(this.et=3,this.nt=0),t=80+(this.Yr/2|0),1===this.Cc&&this.Ec>=t-75&&this.Ec<=t+75&&this.Tc>=i-20&&this.Tc<=i+20&&(this.pt='',this.At='Enter your username & password.',this.et=2,this.nt=0)}else if(2===this.et){let t=(this.Vr/2|0)-40;t+=30,t+=25,1===this.Cc&&this.Tc>=t-15&&this.Tc<t&&(this.nt=0),t+=15,1===this.Cc&&this.Tc>=t-15&&this.Tc<t&&(this.nt=1);let i=(this.Yr/2|0)-80,s=50+(this.Vr/2|0);for(s+=20,1===this.Cc&&this.Ec>=i-75&&this.Ec<=i+75&&this.Tc>=s-20&&this.Tc<=s+20&&await this.bc(this.It,this.gt,!1),i=80+(this.Yr/2|0),1===this.Cc&&this.Ec>=i-75&&this.Ec<=i+75&&this.Tc>=s-20&&this.Tc<=s+20&&(this.et=0,this.It='',this.gt='');;){const t=this.vc();if(-1===t)return;let i=!1;for(let s=0;s<m.s.Oc.Pr;s++)if(String.fromCharCode(t)===m.s.Oc.Lc(s)){i=!0;break}0===this.nt?(8===t&&this.It.Pr>0&&(this.It=this.It.fo(0,this.It.Pr-1)),9!==t&&10!==t&&13!==t||(this.nt=1),i&&(this.It=this.It+String.fromCharCode(t)),this.It.Pr>12&&(this.It=this.It.fo(0,12))):1===this.nt&&(8===t&&this.gt.Pr>0&&(this.gt=this.gt.fo(0,this.gt.Pr-1)),9!==t&&10!==t&&13!==t||(this.nt=0),i&&(this.gt=this.gt+String.fromCharCode(t)),this.gt.Pr>20&&(this.gt=this.gt.fo(0,20)))}}else if(3===this.et){const t=this.Yr/2|0;let i=50+(this.Vr/2|0);i+=20,1===this.Cc&&this.Ec>=t-75&&this.Ec<=t+75&&this.Tc>=i-20&&this.Tc<=i+20&&(this.et=0)}};hc=async()=>{await this.nc(),this.ot?.rc(),this.yt?.il(0,0);if(0===this.et){let t=180,i=80;this.Et?.wo(t,i,'Welcome to RuneScape',A.s.Jl,!0),t=100,i=120,this.mt?.il(t-73,i-20),this.Et?.wo(t,i+5,'New user',A.s.Rl,!0),t=260,this.mt?.il(t-73,i-20),this.Et?.wo(t,i+5,'Existing User',A.s.Rl,!0)}else if(2===this.et){let t=100,i=60;this.pt.Pr>0?(this.Et?.wo(180,i-15,this.pt,A.s.Jl,!0),this.Et?.wo(180,i,this.At,A.s.Jl,!0),i+=30):(this.Et?.wo(180,i-7,this.At,A.s.Jl,!0),i+=30),this.Et?.mo(90,i,`Username: ${this.It}${0===this.nt&&this.U%40<20?'@yel@|':''}`,A.s.Rl,!0),i+=15,this.Et?.mo(92,i,`Password: ${R.s.Sc(this.gt)}${1===this.nt&&this.U%40<20?'@yel@|':''}`,A.s.Rl,!0),i=150,this.mt?.il(t-73,i-20),this.Et?.wo(t,i+5,'Login',A.s.Rl,!0),t=260,this.mt?.il(t-73,i-20),this.Et?.wo(t,i+5,'Cancel',A.s.Rl,!0)}else if(3===this.et){this.Et?.wo(180,40,'Create a free account',A.s.Jl,!0);const t=180;let i=65;this.Et?.wo(180,i,'To create a new account you need to',A.s.Rl,!0),i+=15,this.Et?.wo(180,i,'go back to the main RuneScape webpage',A.s.Rl,!0),i+=15,this.Et?.wo(180,i,"and choose the red 'create account'",A.s.Rl,!0),i+=15,this.Et?.wo(180,i,'button at the top right of that page.',A.s.Rl,!0),i=150,this.mt?.il(t-73,i-20),this.Et?.wo(t,i+5,'Cancel',A.s.Rl,!0)}this.ot?.il(214,186),this.ht&&(this.ht=!1,this.rt?.il(128,0),this.lt?.il(214,386),this.ft?.il(0,265),this.ut?.il(574,265),this.dt?.il(128,186),this.wt?.il(574,186))};bc=async(t,i,s)=>{try{s||(this.pt='',this.At='Connecting to server...',await this.hc()),this.H=new g.s(await g.s.kc({Rc:K.i.o,ba:43594+K.i.n})),await(this.H?.Mc(this.W.xc,0,8)),this.W.Nc=0,this.z=this.W.Pc;const h=new Int32Array([Math.floor(99999999*Math.Ha()),Math.floor(99999999*Math.Ha()),Number(this.z>>32n),Number(this.z&BigInt(4294967295))]);this.Y.Nc=0,this.Y.Dc(10),this.Y.Fc(h[0]),this.Y.Fc(h[1]),this.Y.Fc(h[2]),this.Y.Fc(h[3]),this.Y.Fc(0),this.Y.Uc(t),this.Y.Uc(i),this.Y.Bc(K.i.d,K.i.u),this.V.Nc=0,s?this.V.Dc(18):this.V.Dc(16),this.V.Dc(this.Y.Nc+36+1+1),this.V.Dc(K.i.h),this.V.Dc(K.i.l?1:0);for(let t=0;t<9;t++)this.V.Fc(this.G[t]);this.V.Gc(this.Y.xc,this.Y.Nc,0),this.Y.Ha=new C.s(h);for(let t=0;t<4;t++)h[t]+=50;this.$=new C.s(h),this.H?.Hc(this.V.xc,this.V.Nc,0);const e=await this.H.Ur();if(1===e)return await(0,q.Mr)(2e3),void await this.bc(t,i,s);if(2===e||18===e){this.Un=18===e,M.s.Wc(),this.B=!0,this.Y.Nc=0,this.W.Nc=0,this.K=-1,this.Q=-1,this.tt=-1,this.it=-1,this.J=0,this.X=0,this.q=0,this.j=0,this.Is=0,this.cs=0,this.es=!1,this.Zc=0;for(let t=0;t<100;t++)this.Xs[t]=null;this.fh=0,this.Eh=0,this.zh=0,this.er=0,this.Qh=(100*Math.Ha()|0)-50,this.te=(110*Math.Ha()|0)-55,this.ie=(80*Math.Ha()|0)-40,this.pe=(120*Math.Ha()|0)-60,this.Ae=(30*Math.Ha()|0)-20,this.Be=(20*Math.Ha()|0)-10&2047,this._e=-1,this.qh=0,this.$h=0,this.on=0,this.mn=0;for(let t=0;t<this.R;t++)this.ln[t]=null,this.wn[t]=null;for(let t=0;t<8192;t++)this.yn[t]=null;this.kn=this.ln[this.M]=new W.s,this.An.uc(),this.In.uc(),this._n.uc();for(let t=0;t<G.s.Pe;t++)for(let i=0;i<G.s.je;i++)for(let s=0;s<G.s.je;s++)this.Cn[t][i][s]=null;this.Tn=new k.s,this.Zn=0,this.zs=-1,this.ds=-1,this.Ki=-1,this.us=-1,this.gh=!1,this.xs=3,this.Vs=!1,this.es=!1,this.Gs=!1,this.Rs=null,this.Mn=0,this.Ms=-1,this.Bn=!0,this.Yc();for(let t=0;t<5;t++)this.Wn[t]=0;return K.i.A=0,K.i.E=0,K.i._=0,K.i.I=0,K.i.p=0,K.i.C=0,K.i.O=0,K.i.b=0,K.i.T=0,void this.Vc()}if(3===e)return this.pt='',void(this.At='Invalid username or password.');if(4===e)return this.pt='Your account has been disabled.',void(this.At='Please check your message-centre for details.');if(5===e)return this.pt='Your account is already logged in.',void(this.At='Try again in 60 secs...');if(6===e)return this.pt='RuneScape has been updated!',void(this.At='Please reload this page.');if(7===e)return this.pt='This world is full.',void(this.At='Please use a different world.');if(8===e)return this.pt='Unable to connect.',void(this.At='Login server offline.');if(9===e)return this.pt='Login limit exceeded.',void(this.At='Too many connections from your address.');if(10===e)return this.pt='Unable to connect.',void(this.At='Bad session id.');if(11===e)return this.At='Login server rejected session.',void(this.At='Please try again.');if(12===e)return this.pt='You need a members account to login to this world.',void(this.At='Please subscribe, or use a different world.');if(13===e)return this.pt='Could not complete login.',void(this.At='Please try using a different world.');if(14===e)return this.pt='The server is being updated.',void(this.At='Please wait 1 minute and try again.');if(15===e)return this.B=!0,this.Y.Nc=0,this.W.Nc=0,this.K=-1,this.Q=-1,this.tt=-1,this.it=-1,this.J=0,this.X=0,this.q=0,this.cs=0,void(this.es=!1);if(16===e)return this.pt='Login attempts exceeded.',void(this.At='Please wait 1 minute and try again.');17===e&&(this.pt='You are standing in a members-only area.',this.At='To play on this world move to a free area first')}catch(t){console.log(t),this.pt='',this.At='Error connecting to server.'}};tc=async()=>{if(null!==this.ln){this.q>1&&this.q--,this.j>0&&this.j--;for(let t=0;t<5&&await this.Ur();t++);if(this.B){for(let t=0;t<this.er;t++)if(this.or[t]<=0){try{const i=L.s.zc(this.rr[t],this.lr[t]);if(!i)throw new Error;Date.now()+(i.Nc/22|0)>this.dr+(this.ur/22|0)&&(this.ur=i.Nc,this.dr=Date.now(),this.cr=this.rr[t],this.fr=this.lr[t],await(0,j.Xc)(i.xc.Dr(0,i.Nc),this.ar))}catch(t){console.Ja(t)}this.er--;for(let i=t;i<this.er;i++)this.rr[i]=this.rr[i+1],this.lr[i]=this.lr[i+1],this.or[i]=this.or[i+1];t--}else this.or[t]--;this.wr>0&&(this.wr-=20,this.wr<0&&(this.wr=0),0===this.wr&&this.yr&&!K.i.l&&this.mr&&await this.Nr(this.mr,this.pr,this.Ar));const t=M.s.jc();if(t&&(this.Y.qc(b.s.$c),this.Y.Kc(t.Nc),this.Y.Gc(t.xc,t.Nc,0),t.Jc()),this.X++,this.X>750&&await this.Qc(),this.tf(),this.if(),this.sf(),this.hf(),(1===this.ef[1]||1===this.ef[2]||1===this.ef[3]||1===this.ef[4])&&this.Fe++>5&&(this.Fe=0,this.Y.qc(b.s.nf),this.Y.Kc(this.Ue),this.Y.Kc(this.Be),this.Y.Dc(this.pe),this.Y.Dc(this.Ae)),this.Xh++,0!==this.Qi&&(this.ts+=20,this.ts>=400&&(this.Qi=0)),0!==this.mh&&(this.Ih++,this.Ih>=15&&(2===this.mh&&(this.Xi=!0),3===this.mh&&(this.ji=!0),this.mh=0)),0!==this.rh&&(this.ah++,(this.Vl>this.lh+5||this.Vl<this.lh-5||this.zl>this.oh+5||this.zl<this.oh-5)&&(this.ch=!0),0===this.rf)){if(2===this.rh&&(this.Xi=!0),3===this.rh&&(this.ji=!0),this.rh=0,this.ch&&this.ah>=5){if(this.Mh=-1,this.lf(),this.Mh===this.eh&&this.xh!==this.nh){const t=c.s.Tr[this.eh];if(t.Gl){const i=t.Gl[this.xh];t.Gl[this.xh]=t.Gl[this.nh],t.Gl[this.nh]=i}if(t.Hl){const i=t.Hl[this.xh];t.Hl[this.xh]=t.Hl[this.nh],t.Hl[this.nh]=i}this.Y.qc(b.s.of),this.Y.Kc(this.eh),this.Y.Kc(this.nh),this.Y.Kc(this.xh)}}else(1===this.Oh||this.af(this.cs-1))&&this.cs>2?this.cf():this.cs>0&&await this.ff(this.cs-1);this.Ih=10,this.Cc=0}if(K.i.w++,K.i.w>127&&(K.i.w=0,this.Y.qc(b.s.uf),this.Y.df(4991788)),-1!==x.s.wf&&this.kn){const t=x.s.wf,i=x.s.yf,s=this.mf(this.kn.pf[0],this.kn.Af[0],t,i,0,0,0,0,0,0,!0);x.s.wf=-1,s&&(this.is=this.Ec,this.ss=this.Tc,this.Qi=1,this.ts=0)}1===this.Cc&&this.Rs&&(this.Rs=null,this.ji=!0,this.Cc=0),await this.If(),this.gf(),this._f(),this.Cf(),1!==this.rf&&1!==this.Cc||this.Ji++,2===this.zh&&this.Ef(),2===this.zh&&this.Kh&&this.Tf();for(let t=0;t<5;t++)this.ne[t]++;if(await this.bf(),this.Zc++,this.Zc>4500&&(this.j=250,this.Zc-=500,this.Y.qc(b.s.vf)),this.Jh++,this.Jh>500){this.Jh=0;const t=8*Math.Ha()|0;1==(1&t)&&(this.Qh+=this.se),2==(2&t)&&(this.te+=this.he),4==(4&t)&&(this.ie+=this.ee)}if(this.Qh<-50&&(this.se=2),this.Qh>50&&(this.se=-2),this.te<-55&&(this.he=2),this.te>55&&(this.he=-2),this.ie<-40&&(this.ee=1),this.ie>40&&(this.ee=-1),this.me++,this.me>500){this.me=0;const t=8*Math.Ha()|0;1==(1&t)&&(this.pe+=this.ge),2==(2&t)&&(this.Ae+=this.Ie)}this.pe<-60&&(this.ge=2),this.pe>60&&(this.ge=-2),this.Ae<-20&&(this.Ie=1),this.Ae>10&&(this.Ie=-1),K.i.y++,K.i.y>110&&(K.i.y=0,this.Y.qc(b.s.Of),this.Y.Fc(0)),this.Pn++,this.Pn>50&&this.Y.qc(b.s.Lf);try{this.H&&this.Y.Nc>0&&(this.H.Hc(this.Y.xc,this.Y.Nc,0),this.Y.Nc=0,this.Pn=0)}catch(t){console.log(t),await this.Qc()}}}};sc=()=>{if(null===this.ln)return;this.ht&&(this.ht=!1,this.qt?.il(0,11),this.$t?.il(0,375),this.Kt?.il(729,5),this.Jt?.il(752,231),this.Qt?.il(0,0),this.ti?.il(561,0),this.ii?.il(520,11),this.si?.il(520,231),this.hi?.il(501,375),this.ei?.il(0,345),this.Xi=!0,this.ji=!0,this.qi=!0,this.$i=!0,2!==this.zh&&(this.Yt?.il(8,11),this.Zt?.il(561,5))),2===this.zh&&this.Sf(),this.es&&1===this.ns&&(this.Xi=!0);let t=!1;if(-1!==this.us&&(t=this.ol(this.us,this.Xh),t&&(this.Xi=!0)),2===this.mh&&(this.Xi=!0),2===this.rh&&(this.Xi=!0),this.Xi&&(this.kf(),this.Xi=!1),-1===this.ds){this.ws.Pl=this.ys-this.ms-77,this.Vl>453&&this.Vl<565&&this.zl>350&&this.Rf(this.Vl-22,this.zl-375,this.ys,77,!1,463,0,this.ws);let t=this.ys-this.ws.Pl-77;t<0&&(t=0),t>this.ys-77&&(t=this.ys-77),this.ms!==t&&(this.ms=t,this.ji=!0)}-1!==this.ds&&(t=this.ol(this.ds,this.Xh),t&&(this.ji=!0)),3===this.mh&&(this.ji=!0),3===this.rh&&(this.ji=!0),this.Rs&&(this.ji=!0),this.es&&2===this.ns&&(this.ji=!0),this.ji&&(this.Mf(),this.ji=!1),2===this.zh&&(this.xf(),this.Zt?.il(561,5)),-1!==this.Ms&&(this.qi=!0),this.qi&&(-1!==this.Ms&&this.Ms===this.xs&&(this.Ms=-1,this.Y.qc(b.s.Nf),this.Y.Dc(this.xs)),this.qi=!1,this.jt?.rc(),this.pi?.il(0,0),-1===this.us&&(-1!==this.Ns[this.xs]&&(0===this.xs?this.Ni?.il(29,30):1===this.xs?this.Pi?.il(59,29):2===this.xs?this.Pi?.il(87,29):3===this.xs?this.Di?.il(115,29):4===this.xs?this.Ui?.il(156,29):5===this.xs?this.Ui?.il(184,29):6===this.xs&&this.Fi?.il(212,30)),-1!==this.Ns[0]&&(0!==this.Ms||this.U%20<10)&&this.Ai[0]?.il(35,34),-1!==this.Ns[1]&&(1!==this.Ms||this.U%20<10)&&this.Ai[1]?.il(59,32),-1!==this.Ns[2]&&(2!==this.Ms||this.U%20<10)&&this.Ai[2]?.il(86,32),-1!==this.Ns[3]&&(3!==this.Ms||this.U%20<10)&&this.Ai[3]?.il(121,33),-1!==this.Ns[4]&&(4!==this.Ms||this.U%20<10)&&this.Ai[4]?.il(157,34),-1!==this.Ns[5]&&(5!==this.Ms||this.U%20<10)&&this.Ai[5]?.il(185,32),-1!==this.Ns[6]&&(6!==this.Ms||this.U%20<10)&&this.Ai[6]?.il(212,34)),this.jt?.il(520,165),this.Xt?.rc(),this.mi?.il(0,0),-1===this.us&&(-1!==this.Ns[this.xs]&&(7===this.xs?this.Bi?.il(49,0):8===this.xs?this.Gi?.il(81,0):9===this.xs?this.Gi?.il(108,0):10===this.xs?this.Hi?.il(136,1):11===this.xs?this.Zi?.il(178,0):12===this.xs?this.Zi?.il(205,0):13===this.xs&&this.Wi?.il(233,0)),-1!==this.Ns[8]&&(8!==this.Ms||this.U%20<10)&&this.Ai[7]?.il(80,2),-1!==this.Ns[9]&&(9!==this.Ms||this.U%20<10)&&this.Ai[8]?.il(107,3),-1!==this.Ns[10]&&(10!==this.Ms||this.U%20<10)&&this.Ai[9]?.il(142,4),-1!==this.Ns[11]&&(11!==this.Ms||this.U%20<10)&&this.Ai[10]?.il(179,2),-1!==this.Ns[12]&&(12!==this.Ms||this.U%20<10)&&this.Ai[11]?.il(206,2),-1!==this.Ns[13]&&(13!==this.Ms||this.U%20<10)&&this.Ai[12]?.il(230,2)),this.Xt?.il(501,492),this.Yt?.rc()),this.$i&&(this.$i=!1,this.zt?.rc(),this.yi?.il(0,0),this.Ct?.wo(57,33,'Public chat',A.s.Rl,!0),0===this.Ps&&this.Ct?.wo(57,46,'On',A.s.ua,!0),1===this.Ps&&this.Ct?.wo(57,46,'Friends',A.s.Jl,!0),2===this.Ps&&this.Ct?.wo(57,46,'Off',A.s.la,!0),3===this.Ps&&this.Ct?.wo(57,46,'Hide',A.s.Ac,!0),this.Ct?.wo(186,33,'Private chat',A.s.Rl,!0),0===this.Ds&&this.Ct?.wo(186,46,'On',A.s.ua,!0),1===this.Ds&&this.Ct?.wo(186,46,'Friends',A.s.Jl,!0),2===this.Ds&&this.Ct?.wo(186,46,'Off',A.s.la,!0),this.Ct?.wo(326,33,'Trade/duel',A.s.Rl,!0),0===this.Fs&&this.Ct?.wo(326,46,'On',A.s.ua,!0),1===this.Fs&&this.Ct?.wo(326,46,'Friends',A.s.Jl,!0),2===this.Fs&&this.Ct?.wo(326,46,'Off',A.s.la,!0),this.Ct?.wo(462,38,'Report abuse',A.s.Rl,!0),this.zt?.il(0,471),this.Yt?.rc()),this.Xh=0};Sf=()=>{if(this.jh++,this.Pf(),this.Df(),this.Ff(),this.Uf(),this.Bf(),!this.Kh){let t=this.Ue;(this.ye/256|0)>t&&(t=this.ye/256|0),this.re[4]&&this.oe[4]+128>t&&(t=this.oe[4]+128);const i=this.Be+this.ie&2047;if(this.kn&&this.Gf(this.We,this.Hf(this.De,this.kn.Ll,this.kn.Wf)-50,this.Ze,i,t,3*t+600),K.i.g++,K.i.g>1802){K.i.g=0,this.Y.qc(b.s.Zf),this.Y.Dc(0);const t=this.Y.Nc;this.Y.Kc(29711),this.Y.Dc(70),this.Y.Dc(256*Math.Ha()|0),this.Y.Dc(242),this.Y.Dc(186),this.Y.Dc(39),this.Y.Dc(61),0==(2*Math.Ha()|0)&&this.Y.Dc(13),0==(2*Math.Ha()|0)&&this.Y.Kc(57856),this.Y.Kc(65536*Math.Ha()|0),this.Y.Yf(this.Y.Nc-t)}}let t;t=this.Kh?this.Vf():this.zf();const i=this.ce,s=this.fe,h=this.ue,e=this.de,n=this.we;let r;for(let t=0;t<5;t++)this.re[t]&&(r=Math.Ha()*(2*this.le[t]+1)-this.le[t]+Math.Eo(this.ne[t]*(this.ae[t]/100))*this.oe[t]|0,0===t&&(this.ce+=r),1===t&&(this.fe+=r),2===t&&(this.ue+=r),3===t&&(this.we=this.we+r&2047),4===t&&(this.de+=r,this.de<128&&(this.de=128),this.de>383&&(this.de=383)));r=d.s.Xf,p.s.jf=!0,p.s.qf=0,p.s.Vl=this.Vl-8,p.s.zl=this.zl-11,u.s.uc(),this.Vh?.il(this.ce,this.fe,this.ue,t,this.we,this.de,this.U),this.Vh?.$f(),this.Kf(),this.Jf(),K.i.c&&this.Qf(),this.tu(r),this.iu(),this.Yt?.il(8,11),this.ce=i,this.fe=s,this.ue=h,this.de=e,this.we=n};su=()=>{e.s.hu?.uc(),e.s.eu?.uc(),r.s.br?.uc(),n.s.br?.uc(),n.s.nu?.uc(),W.s.br?.uc(),o.s.br?.uc()};ru=(t,i)=>{this.lu(t.Ll,i,t.Wf)};lu=(t,i,s)=>{if(t<128||s<128||t>13056||s>13056)return this.qe=-1,void(this.$e=-1);const h=this.Hf(this.De,t,s)-i;this.ou(t,h,s)};ou=(t,i,s)=>{let h=t-this.ce,e=i-this.fe,n=s-this.ue;const r=d.s.Eo[this.de],l=d.s.vo[this.de],o=d.s.Eo[this.we],a=d.s.vo[this.we];let c=n*o+h*a>>16;n=n*a-h*o>>16,h=c,c=e*l-n*r>>16,n=e*r+n*l>>16,e=c,n>=50?(this.qe=d.s._o+((h<<9)/n|0),this.$e=d.s.Co+((e<<9)/n|0)):(this.qe=-1,this.$e=-1)};Kf=()=>{this.Yn=0;for(let t=-1;t<this.on+this.mn;t++){let i=null;if(i=-1===t?this.kn:t<this.on?this.ln[this.an[t]]:this.yn[this.pn[t-this.on]],i&&i.au()){if(t<this.on){let s=30;const h=i;if(0!==h.cu&&(this.ru(i,i.Vr+15),this.qe>-1))for(let t=0;t<8;t++)0!=(h.cu&1<<t)&&this.bi[t]&&(this.bi[t].il(this.qe-12,this.$e-s),s-=25);t>=0&&10===this.Is&&this.Es===this.an[t]&&(this.ru(i,i.Vr+15),this.qe>-1&&this.bi[7]&&this.bi[7].il(this.qe-12,this.$e-s))}else 1===this.Is&&this.gs===this.pn[t-this.on]&&this.U%20<10&&(this.ru(i,i.Vr+15),this.qe>-1&&this.bi[2]&&this.bi[2].il(this.qe-12,this.$e-28));if(i.fu&&(t>=this.on||0===this.Ps||3===this.Ps||1===this.Ps&&this.uu(i.No))&&(this.ru(i,i.Vr),this.qe>-1&&this.Yn<K.i.Vn&&this.Et&&(this.qn[this.Yn]=this.Et.du(i.fu)/2|0,this.jn[this.Yn]=this.Et.Vr,this.zn[this.Yn]=this.qe,this.Xn[this.Yn]=this.$e,this.$n[this.Yn]=i.wu,this.Kn[this.Yn]=i.yu,this.Jn[this.Yn]=i.mu,this.Qn[this.Yn++]=i.fu,0===this.Qs&&1===i.yu&&(this.jn[this.Yn]+=10,this.Xn[this.Yn]+=5),0===this.Qs&&2===i.yu&&(this.qn[this.Yn]=60))),i.pu>this.U+100&&(this.ru(i,i.Vr+15),this.qe>-1)){let t=30*i.Au/i.Iu|0;t>30&&(t=30),u.s.Zr(this.qe-15,this.$e-3,t,5,A.s.ua),u.s.Zr(this.qe-15+t,this.$e-3,30-t,5,A.s.la)}i.pu>this.U+330&&(this.ru(i,i.Vr/2|0),this.qe>-1&&this.Ti[i.gu]&&(this.Ti[i.gu].il(this.qe-12,this.$e-12),this._t?.lc(this.qe,this.$e+4,i.Cu._u(),A.s.Kl),this._t?.lc(this.qe-1,this.$e+3,i.Cu._u(),A.s.Rl)))}}for(let t=0;t<this.Yn;t++){const i=this.zn[t];let s=this.Xn[t];const h=this.qn[t],e=this.jn[t];let n=!0;for(;n;){n=!1;for(let r=0;r<t;r++)s+2>this.Xn[r]-this.jn[r]&&s-e<this.Xn[r]+2&&i-h<this.zn[r]+this.qn[r]&&i+h>this.zn[r]-this.qn[r]&&this.Xn[r]-this.jn[r]<s&&(s=this.Xn[r]-this.jn[r],n=!0)}this.qe=this.zn[t],this.$e=this.Xn[t]=s;const r=this.Qn[t];if(0==this.Qs){let i=A.s.Jl;if(this.$n[t]<6&&(i=A.s.Eu[this.$n[t]]),6==this.$n[t]&&(i=this.jh%20<10?A.s.la:A.s.Jl),7==this.$n[t]&&(i=this.jh%20<10?A.s.Ic:A.s.Ac),8==this.$n[t]&&(i=this.jh%20<10?45056:8454016),9==this.$n[t]){const s=150-this.Jn[t];s<50?i=1280*s+A.s.la:s<100?i=A.s.Jl-327680*(s-50):s<150&&(i=5*(s-100)+A.s.ua)}if(10==this.$n[t]){const s=150-this.Jn[t];s<50?i=5*s+A.s.la:s<100?i=A.s.gc-327680*(s-50):s<150&&(i=327680*(s-100)+A.s.Ic-5*(s-100))}if(11==this.$n[t]){const s=150-this.Jn[t];s<50?i=A.s.Rl-327685*s:s<100?i=327685*(s-50)+A.s.ua:s<150&&(i=A.s.Rl-327680*(s-100))}if(0==this.Kn[t]&&(this.Et?.lc(this.qe,this.$e+1,r,A.s.Kl),this.Et?.lc(this.qe,this.$e,r,i)),1==this.Kn[t]&&(this.Et?.Tu(this.qe,this.$e+1,r,A.s.Kl,this.jh),this.Et?.Tu(this.qe,this.$e,r,i,this.jh)),2==this.Kn[t]){const s=this.Et?.du(r)??0,h=(150-this.Jn[t])*(s+100)/150;u.s.bl(334,this.qe+50,0,this.qe-50),this.Et?.ql(this.qe+50-h,this.$e+1,r,A.s.Kl),this.Et?.ql(this.qe+50-h,this.$e,r,i),u.s.bu()}}else this.Et?.lc(this.qe,this.$e+1,r,A.s.Kl),this.Et?.lc(this.qe,this.$e,r,A.s.Jl)}};Jf=()=>{2===this.Is&&this.bi[2]&&(this.lu((this.Ts-this.ve<<7)+this._s,2*this.vs,(this.bs-this.Oe<<7)+this.Cs),this.qe>-1&&this.U%20<10&&this.bi[2].il(this.qe-12,this.$e-28))};Qf=()=>{const t=507;let i=20;this._t?.vu(t,i,`FPS: ${this.Ou}`,A.s.Jl,!0),i+=13,this._t?.vu(t,i,`Speed: ${this.Su.Lu(4)} ms`,A.s.Jl,!0),i+=13,this._t?.vu(t,i,`Average: ${this.ku.Lu(4)} ms`,A.s.Jl,!0),i+=13,this._t?.vu(t,i,`Slowest: ${this.Ru.Lu(4)} ms`,A.s.Jl,!0),i+=13,this._t?.vu(t,i,`Occluders: ${x.s.Mu}`,A.s.Jl,!0)};iu=()=>{if(this.xu(),1===this.Qi&&this.Oi[this.ts/100|0]?.il(this.is-8-8,this.ss-8-11),2===this.Qi&&this.Oi[4+(this.ts/100|0)]?.il(this.is-8-8,this.ss-8-11),-1!==this.Ki&&(this.ol(this.Ki,this.Xh),this.Il(c.s.Tr[this.Ki],0,0,0)),this.Nu(),this.es?0===this.ns&&this.Pu():(this.lf(),this.Du()),1===this.Mn&&(this.Dn>0||1===this.Fn?this.bi[1]?.il(472,258):this.bi[1]?.il(472,296)),this.Dn>0&&(this.bi[0]?.il(472,296),this.Ct?.lc(484,329,'Level: '+this.Dn,A.s.Jl)),1===this.Fn&&(this.bi[6]?.il(472,296),this.Ct?.lc(484,329,'Arena',A.s.Jl)),0!==this.q){let t=this.q/50|0;const i=t/60|0;t%=60,t<10?this.Ct?.ql(4,329,'System update in: '+i+':0'+t,A.s.Jl):this.Ct?.ql(4,329,'System update in: '+i+':'+t,A.s.Jl)}};xu=()=>{if(0===this.Js)return;const t=this.Ct;let i=0;0!==this.q&&(i=1);for(let s=0;s<100;s++){if(!this.Xs[s])continue;const h=this.qs[s];let e;if((3===h||7===h)&&(7===h||0===this.Ds||1===this.Ds&&this.uu(this.js[s]))&&(e=329-13*i,t?.ql(4,e,'From '+this.js[s]+': '+this.Xs[s],A.s.Kl),t?.ql(4,e-1,'From '+this.js[s]+': '+this.Xs[s],A.s.Ac),i++,i>=5))return;if(5===h&&this.Ds<2&&(e=329-13*i,t?.ql(4,e,this.Xs[s],A.s.Kl),t?.ql(4,e-1,this.Xs[s],A.s.Ac),i++,i>=5))return;if(6===h&&this.Ds<2&&(e=329-13*i,t?.ql(4,e,'To '+this.js[s]+': '+this.Xs[s],A.s.Kl),t?.ql(4,e-1,'To '+this.js[s]+': '+this.Xs[s],A.s.Ac),i++,i>=5))return}};Nu=()=>{if(!this.kn)return;const t=(this.kn.Ll>>7)+this.ve,i=(this.kn.Wf>>7)+this.Oe;if(this.Dn=t>=2944&&t<3392&&i>=3520&&i<6400?1+((i-3520)/8|0):t>=2944&&t<3392&&i>=9920&&i<12800?1+((i-9920)/8|0):0,this.Fn=0,t>=3328&&t<3392&&i>=3200&&i<3264){const s=63&t,h=63&i;(s>=4&&s<=29&&h>=44&&h<=58||s>=36&&s<=61&&h>=44&&h<=58||s>=4&&s<=29&&h>=25&&h<=39||s>=36&&s<=61&&h>=25&&h<=39||s>=4&&s<=29&&h>=6&&h<=20||s>=36&&s<=61&&h>=6&&h<=20)&&(this.Fn=1)}0===this.Fn&&t>=3328&&t<=3393&&i>=3203&&i<=3325&&(this.Fn=2),this.hs=0,(t>=3053&&t<=3156&&i>=3056&&i<=3136||t>=3072&&t<=3118&&i>=9492&&i<=9535)&&(this.hs=1),1===this.hs&&t>=3139&&t<=3199&&i>=3008&&i<=3062&&(this.hs=0)};kf=()=>{this.Wt?.rc(),this.ri&&(d.s.qa=this.ri),this.ui?.il(0,0),-1!==this.us?this.Il(c.s.Tr[this.us],0,0,0):-1!==this.Ns[this.xs]&&this.Il(c.s.Tr[this.Ns[this.xs]],0,0,0),this.es&&1===this.ns&&this.Pu(),this.Wt?.il(562,231),this.Yt?.rc(),this.li&&(d.s.qa=this.li)};Mf=()=>{if(this.Vt?.rc(),this.ni&&(d.s.qa=this.ni),this.di?.il(0,0),this.Gs)this.Et?.lc(239,40,this.Hs,A.s.Kl),this.Et?.lc(239,60,this.Ws+'*',A.s.Fu);else if(this.Vs)this.Et?.lc(239,40,'Enter amount:',A.s.Kl),this.Et?.lc(239,60,this.Ys+'*',A.s.Fu);else if(this.Rs)this.Et?.lc(239,40,this.Rs,A.s.Kl),this.Et?.lc(239,60,'Click to continue',A.s.Fu);else if(-1!==this.ds)this.Il(c.s.Tr[this.ds],0,0,0);else if(-1===this.zs){const t=this.Ct;let i=0;u.s.bl(0,0,463,77);for(let s=0;s<100;s++){const h=this.Xs[s];if(!h)continue;const e=this.qs[s],n=this.ms+70-14*i;0===e&&(n>0&&n<110&&t?.ql(4,n,h,A.s.Kl),i++),1===e&&(n>0&&n<110&&(t?.ql(4,n,this.js[s]+':',A.s.Rl),t?.ql(t.du(this.js[s])+12,n,h,A.s.Ic)),i++),2===e&&(0===this.Ps||1===this.Ps&&this.uu(this.js[s]))&&(n>0&&n<110&&(t?.ql(4,n,this.js[s]+':',A.s.Kl),t?.ql(t.du(this.js[s])+12,n,h,A.s.Ic)),i++),3!==e&&7!==e||0!==this.Js||!(7===e||0===this.Ds||1===this.Ds&&this.uu(this.js[s]))||(n>0&&n<110&&(t?.ql(4,n,'From '+this.js[s]+':',A.s.Kl),t?.ql(t.du('From '+this.js[s])+12,n,h,A.s.Uu)),i++),4===e&&(0===this.Fs||1===this.Fs&&this.uu(this.js[s]))&&(n>0&&n<110&&t?.ql(4,n,this.js[s]+' '+this.Xs[s],A.s.Bu),i++),5===e&&0===this.Js&&this.Ds<2&&(n>0&&n<110&&t?.ql(4,n,h,A.s.Uu),i++),6===e&&0===this.Js&&this.Ds<2&&(n>0&&n<110&&(t?.ql(4,n,'To '+this.js[s]+':',A.s.Kl),t?.ql(t.du('To '+this.js[s])+12,n,h,A.s.Uu)),i++),8===e&&(0===this.Fs||1===this.Fs&&this.uu(this.js[s]))&&(n>0&&n<110&&t?.ql(4,n,this.js[s]+' '+this.Xs[s],A.s.Gu),i++)}u.s.bu(),this.ys=14*i+7,this.ys<78&&(this.ys=78),this.tl(463,0,this.ys-this.ms-77,this.ys,77),t?.ql(4,90,R.s.Yo(this.It)+':',A.s.Kl),t?.ql(t.du(this.It+': ')+6,90,this.th+'*',A.s.Ic),u.s.rl(0,77,A.s.Kl,479)}else this.Il(c.s.Tr[this.zs],0,0,0);this.es&&2===this.ns&&this.Pu(),this.Vt?.il(22,375),this.Yt?.rc(),this.li&&(d.s.qa=this.li)};xf=()=>{if(this.Zt?.rc(),!this.kn)return;const t=this.Be+this.pe&2047;let i=48+(this.kn.Ll/32|0),s=464-(this.kn.Wf/32|0);this.gi?.Hu(21,9,146,151,this.ci,this.fi,i,s,t,this.Ae+256),this._i?.Hu(0,0,33,33,this.oi,this.ai,25,25,this.Be,256);for(let t=0;t<this.Wh;t++)i=4*this.Zh[t]+2-(this.kn.Ll/32|0),s=4*this.Yh[t]+2-(this.kn.Wf/32|0),this.Wu(s,this.zi[t],i);for(let t=0;t<G.s.je;t++)for(let h=0;h<G.s.je;h++){this.Cn[this.De][t][h]&&(i=4*t+2-(this.kn.Ll/32|0),s=4*h+2-(this.kn.Wf/32|0),this.Wu(s,this.Li,i))}for(let t=0;t<this.mn;t++){const h=this.yn[this.pn[t]];h&&h.au()&&h.cl&&h.cl.Zu&&(i=(h.Ll/32|0)-(this.kn.Ll/32|0),s=(h.Wf/32|0)-(this.kn.Wf/32|0),this.Wu(s,this.Si,i))}for(let t=0;t<this.on;t++){const h=this.ln[this.an[t]];if(h&&h.au()&&h.No){i=(h.Ll/32|0)-(this.kn.Ll/32|0),s=(h.Wf/32|0)-(this.kn.Wf/32|0);let t=!1;const e=R.s.Yu(h.No);for(let i=0;i<this.Zn;i++)if(e===this.ir[i]&&0!==this.sr[i]){t=!0;break}t?this.Wu(s,this.Ri,i):this.Wu(s,this.ki,i)}}0!==this.qh&&(i=4*this.qh+2-(this.kn.Ll/32|0),s=4*this.$h+2-(this.kn.Wf/32|0),this.Wu(s,this.vi,i)),u.s.Zr(93,82,3,3,A.s.Rl),this.Yt?.rc()};Wu=(t,i,s)=>{if(!i)return;const h=this.Be+this.pe&2047,e=s*s+t*t;if(e>6400)return;let n=d.s.Eo[h],r=d.s.vo[h];n=256*n/(this.Ae+256)|0,r=256*r/(this.Ae+256)|0;const l=t*n+s*r>>16,o=t*r-s*n>>16;e>2500&&this.wi?i.Vu(l+94-(i.jl/2|0),83-o-(i.zu/2|0),this.wi):i.il(l+94-(i.jl/2|0),83-o-(i.zu/2|0))};Xu=t=>{if(!this.gi)return;const i=this.gi.Xa,s=i.Pr;for(let t=0;t<s;t++)i[t]=0;for(let s=1;s<G.s.je-1;s++){let h=512*(G.s.je-1-s)*4+24628;for(let e=1;e<G.s.je-1;e++)this.Ve&&0==(24&this.Ve[t][e][s])&&this.Vh?.ju(t,e,s,i,h,512),t<3&&this.Ve&&0!=(8&this.Ve[t+1][e][s])&&this.Vh?.ju(t+1,e,s,i,h,512),h+=4}const h=(238+(20*Math.Ha()|0)-10<<16)+(238+(20*Math.Ha()|0)-10<<8)+(20*Math.Ha()|0)+238-10,n=238+(20*Math.Ha()|0)-10<<16;this.gi.rc();for(let i=1;i<G.s.je-1;i++)for(let s=1;s<G.s.je-1;s++)this.Ve&&0==(24&this.Ve[t][s][i])&&this.qu(s,i,t,h,n),t<3&&this.Ve&&0!=(8&this.Ve[t+1][s][i])&&this.qu(s,i,t+1,h,n);this.Yt?.rc(),this.Wh=0;for(let t=0;t<G.s.je;t++)for(let i=0;i<G.s.je;i++){let s=this.Vh?.$u(this.De,t,i)??0;if(0===s)continue;s=s>>14&32767;const h=e.s.xo(s).Ku;if(h<0)continue;let n=t,r=i;if(22!==h&&29!==h&&34!==h&&36!==h&&46!==h&&47!==h&&48!==h){const s=G.s.je,h=G.s.je,e=this.Ne[this.De];if(e){const l=e.Ju;for(let e=0;e<10;e++){const e=4*Math.Ha()|0;0===e&&n>0&&n>t-3&&(l[G.s.Qu(n-1,r)]&H.s.td)===H.s.id&&n--,1===e&&n<s-1&&n<t+3&&(l[G.s.Qu(n+1,r)]&H.s.sd)===H.s.id&&n++,2===e&&r>0&&r>i-3&&(l[G.s.Qu(n,r-1)]&H.s.hd)===H.s.id&&r--,3===e&&r<h-1&&r<i+3&&(l[G.s.Qu(n,r+1)]&H.s.ed)===H.s.id&&r++}}}this.zi[this.Wh]=this.Ei[h],this.Zh[this.Wh]=n,this.Yh[this.Wh]=r,this.Wh++}};qu=(t,i,s,h,n)=>{if(!this.Vh||!this.gi)return;let r=this.Vh.nd(s,t,i);if(0!==r){const l=this.Vh.rd(s,t,i,r),o=l>>6&3,a=31&l;let c=h;r>0&&(c=n);const f=this.gi.Xa,u=4*t+512*(103-i)*4+24624,d=r>>14&32767,w=e.s.xo(d);if(-1===w.ld)a!==D.s.od&&a!==D.s.ad||(o===F.s.cd?(f[u]=c,f[u+512]=c,f[u+1024]=c,f[u+1536]=c):o===F.s.fd?(f[u]=c,f[u+1]=c,f[u+2]=c,f[u+3]=c):o===F.s.ud?(f[u+3]=c,f[u+3+512]=c,f[u+3+1024]=c,f[u+3+1536]=c):o===F.s.dd&&(f[u+1536]=c,f[u+1536+1]=c,f[u+1536+2]=c,f[u+1536+3]=c)),a===D.s.wd&&(o===F.s.cd?f[u]=c:o===F.s.fd?f[u+3]=c:o===F.s.ud?f[u+3+1536]=c:o===F.s.dd&&(f[u+1536]=c)),a===D.s.ad&&(o===F.s.dd?(f[u]=c,f[u+512]=c,f[u+1024]=c,f[u+1536]=c):o===F.s.cd?(f[u]=c,f[u+1]=c,f[u+2]=c,f[u+3]=c):o===F.s.fd?(f[u+3]=c,f[u+3+512]=c,f[u+3+1024]=c,f[u+3+1536]=c):o===F.s.ud&&(f[u+1536]=c,f[u+1536+1]=c,f[u+1536+2]=c,f[u+1536+3]=c));else{const s=this.Ci[w.ld];if(s){const h=(4*w.Yr-s.Yr)/2|0,e=(4*w.Pr-s.Vr)/2|0;s.il(4*t+48+h,4*(G.s.je-i-w.Pr)+e+48)}}}if(r=this.Vh.yd(s,t,i),0!==r){const h=this.Vh.rd(s,t,i,r),n=h>>6&3,l=31&h,o=r>>14&32767,a=e.s.xo(o);if(-1!==a.ld){const s=this.Ci[a.ld];if(s){const h=(4*a.Yr-s.Yr)/2|0,e=(4*a.Pr-s.Vr)/2|0;s.il(4*t+48+h,4*(G.s.je-i-a.Pr)+e+48)}}else if(l===D.s.md){let s=15658734;r>0&&(s=15597568);const h=this.gi.Xa,e=4*t+512*(G.s.je-1-i)*4+24624;n===F.s.cd||n===F.s.ud?(h[e+1536]=s,h[e+1024+1]=s,h[e+512+2]=s,h[e+3]=s):(h[e]=s,h[e+512+1]=s,h[e+1024+2]=s,h[e+1536+3]=s)}}if(r=this.Vh.$u(s,t,i),0!==r){const s=e.s.xo(r>>14&32767);if(-1!==s.ld){const h=this.Ci[s.ld];if(h){const e=(4*s.Yr-h.Yr)/2|0,n=(4*s.Pr-h.Vr)/2|0;h.il(4*t+48+e,4*(G.s.je-i-s.Pr)+n+48)}}}};Du=()=>{if(this.cs<2&&0===this.fh&&0===this.Eh)return;let t;t=1===this.fh&&this.cs<2?'Use '+this.yh+' with...':1===this.Eh&&this.cs<2?this.vh+'...':this.fs[this.cs-1],this.cs>2&&(t=t+'@whi@ / '+(this.cs-2)+' more options'),this.Et?.pd(4,15,t,A.s.Rl,!0,this.U/1e3|0)};Pu=()=>{const t=this.rs,i=this.ls,s=this.os,h=this.as,e=A.s.Ad;u.s.Zr(t,i,s,h,e),u.s.Zr(t+1,i+1,s-2,16,A.s.Kl),u.s.kl(t+1,i+18,s-2,h-19,A.s.Kl),this.Et?.ql(t+3,i+14,'Choose Option',e);let n=this.Vl,r=this.zl;0===this.ns&&(n-=8,r-=11),1===this.ns&&(n-=562,r-=231),2===this.ns&&(n-=22,r-=375);for(let h=0;h<this.cs;h++){const e=i+15*(this.cs-1-h)+31;let l=A.s.Rl;n>t&&n<t+s&&r>e-13&&r<e+3&&(l=A.s.Jl),this.Et?.mo(t+3,e,this.fs[h],l,!0)}};If=async()=>{if(0!==this.rh)return;let t=this.Cc;if(1===this.Eh&&this.Ec>=520&&this.Tc>=165&&this.Ec<=788&&this.Tc<=230&&(t=0),this.es){if(1!==t){let t=this.Vl,i=this.zl;0===this.ns?(t-=8,i-=11):1===this.ns?(t-=562,i-=231):2===this.ns&&(t-=22,i-=375),(t<this.rs-10||t>this.rs+this.os+10||i<this.ls-10||i>this.ls+this.as+10)&&(this.es=!1,1===this.ns&&(this.Xi=!0),2===this.ns&&(this.ji=!0))}if(1===t){const t=this.rs,i=this.ls,s=this.os;let h=this.Ec,e=this.Tc;0===this.ns?(h-=8,e-=11):1===this.ns?(h-=562,e-=231):2===this.ns&&(h-=22,e-=375);let n=-1;for(let r=0;r<this.cs;r++){const l=i+15*(this.cs-1-r)+31;h>t&&h<t+s&&e>l-13&&e<l+3&&(n=r)}-1!==n&&await this.ff(n),this.es=!1,1===this.ns?this.Xi=!0:2===this.ns&&(this.ji=!0)}}else{if(1===t&&this.cs>0){const t=this.Lh[this.cs-1];if(602===t||596===t||22===t||892===t||415===t||405===t||38===t||422===t||478===t||347===t||188===t){const t=this.kh[this.cs-1],i=this.Rh[this.cs-1];if(c.s.Tr[i].Id)return this.ch=!1,this.ah=0,this.eh=i,this.nh=t,this.rh=2,this.lh=this.Ec,this.oh=this.Tc,c.s.Tr[i].gd===this.Ki&&(this.rh=1),void(c.s.Tr[i].gd===this.ds&&(this.rh=3))}}if(1===t&&(1===this.Oh||this.af(this.cs-1))&&this.cs>2&&(t=2),1===t&&this.cs>0&&await this.ff(this.cs-1),2!==t||this.cs<=0)return;this.cf()}};gf=()=>{if(1===this.Cc&&this.kn){let t=this.Ec-21-561,i=this.Tc-9-5;if(t>=0&&i>=0&&t<146&&i<151){t-=73,i-=75;const s=this.Be+this.pe&2047;let h=d.s.Eo[s],e=d.s.vo[s];h=h*(this.Ae+256)>>8,e=e*(this.Ae+256)>>8;const n=i*h+t*e>>11,r=i*e-t*h>>11,l=this.kn.Ll+n>>7,o=this.kn.Wf-r>>7;this.mf(this.kn.pf[0],this.kn.Af[0],l,o,1,0,0,0,0,0,!0)&&(this.Y.Dc(t),this.Y.Dc(i),this.Y.Kc(this.Be),this.Y.Dc(57),this.Y.Dc(this.pe),this.Y.Dc(this.Ae),this.Y.Dc(89),this.Y.Kc(this.kn.Ll),this.Y.Kc(this.kn.Wf),this.Y.Dc(this.Sn),this.Y.Dc(63))}}};af=t=>{if(t<0)return!1;let i=this.Lh[t];return i>=2e3&&(i-=2e3),406===i};ff=async t=>{if(t<0)return;this.Vs&&(this.Vs=!1,this.ji=!0);let i=this.Lh[t];const s=this.Sh[t],h=this.kh[t],r=this.Rh[t];if(i>=2e3&&(i-=2e3),903===i||363===i){let s=this.fs[t];const h=s.co('@whi@');if(-1!==h){s=s.fo(h+5)._d();const t=R.s.Yo(R.s.Vo(R.s.Yu(s)));let e=!1;for(let s=0;s<this.on;s++){const h=this.ln[this.an[s]];if(h&&h.No&&h.No.Cd()===t.Cd()&&this.kn){this.mf(this.kn.pf[0],this.kn.Af[0],h.pf[0],h.Af[0],2,1,1,0,0,0,!1),903===i?this.Y.qc(b.s.Ed):363===i&&this.Y.qc(b.s.Td),this.Y.Kc(this.an[s]),e=!0;break}}e||this.bd(0,'Unable to find '+t,'')}}else if(450===i&&this.vd(b.s.Od,h,r,s))this.Y.Kc(this.wh),this.Y.Kc(this.uh),this.Y.Kc(this.dh);else if(405===i||38===i||422===i||478===i||347===i)478===i?(0==(3&h)&&K.i.p++,K.i.p>=90&&this.Y.qc(b.s.Ld),this.Y.qc(b.s.Sd)):347===i?this.Y.qc(b.s.kd):422===i?this.Y.qc(b.s.Rd):405===i?(K.i._+=s,K.i._>=97&&(this.Y.qc(b.s.Md),this.Y.df(14953816)),this.Y.qc(b.s.xd)):38===i&&this.Y.qc(b.s.Nd),this.Y.Kc(s),this.Y.Kc(h),this.Y.Kc(r),this.Ih=0,this.Ah=r,this.ph=h,this.mh=2,c.s.Tr[r].gd===this.Ki&&(this.mh=1),c.s.Tr[r].gd===this.ds&&(this.mh=3);else if(728===i||542===i||6===i||963===i||245===i){const t=this.yn[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,542===i?this.Y.qc(b.s.Pd):6===i?(0==(3&s)&&K.i.E++,K.i.E>=124&&(this.Y.qc(b.s.Dd),this.Y.Fc(0)),this.Y.qc(b.s.Fd)):963===i?this.Y.qc(b.s.Ud):728===i?this.Y.qc(b.s.Bd):245===i&&(0==(3&s)&&K.i.I++,K.i.I>=85&&(this.Y.qc(b.s.Gd),this.Y.Kc(39596)),this.Y.qc(b.s.Hd)),this.Y.Kc(s))}else if(217===i){if(this.kn){this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,0,0,0,0,0,!1)||this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s.Wd),this.Y.Kc(h+this.ve),this.Y.Kc(r+this.Oe),this.Y.Kc(s),this.Y.Kc(this.wh),this.Y.Kc(this.uh),this.Y.Kc(this.dh)}}else if(1175===i){const t=s>>14&32767,i=e.s.xo(t);let h;h=i.Zd?i.Zd:"It's a "+i.No+'.',this.bd(0,h,'')}else if(285===i)this.vd(b.s.Yd,h,r,s);else if(881===i)this.Y.qc(b.s.Vd),this.Y.Kc(s),this.Y.Kc(h),this.Y.Kc(r),this.Y.Kc(this.wh),this.Y.Kc(this.uh),this.Y.Kc(this.dh),this.Ih=0,this.Ah=r,this.ph=h,this.mh=2,c.s.Tr[r].gd===this.Ki&&(this.mh=1),c.s.Tr[r].gd===this.ds&&(this.mh=3);else if(391===i)this.Y.qc(b.s.zd),this.Y.Kc(s),this.Y.Kc(h),this.Y.Kc(r),this.Y.Kc(this.Th),this.Ih=0,this.Ah=r,this.ph=h,this.mh=2,c.s.Tr[r].gd===this.Ki&&(this.mh=1),c.s.Tr[r].gd===this.ds&&(this.mh=3);else if(660===i)this.es?this.Vh?.Xd(h-8,r-11):this.Vh?.Xd(this.Ec-8,this.Tc-11);else{if(188===i)return this.fh=1,this.uh=h,this.dh=r,this.wh=s,this.yh=n.s.xo(s).No,void(this.Eh=0);if(44===i)this.gh||(this.Y.qc(b.s.jd),this.Y.Kc(r),this.gh=!0);else if(1773===i){const t=n.s.xo(s);let i;i=r>=1e5?r+' x '+t.No:t.Zd?t.Zd:"It's a "+t.No+'.',this.bd(0,i,'')}else if(900===i){const t=this.yn[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s.qd),this.Y.Kc(s),this.Y.Kc(this.wh),this.Y.Kc(this.uh),this.Y.Kc(this.dh))}else if(1373===i||1544===i||151===i||1101===i){const t=this.ln[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,1101===i?this.Y.qc(b.s.Td):151===i?(K.i.b++,K.i.b>=90&&(this.Y.qc(b.s.$d),this.Y.Kc(31114)),this.Y.qc(b.s.Kd)):1373===i?this.Y.qc(b.s.Ed):1544===i&&this.Y.qc(b.s.Jd),this.Y.Kc(s))}else if(265===i){const t=this.yn[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s.Qd),this.Y.Kc(s),this.Y.Kc(this.Th))}else if(679===i){const i=this.fs[t],s=i.co('@whi@');if(-1!==s){const t=R.s.Yu(i.fo(s+5)._d());let h=-1;for(let i=0;i<this.Zn;i++)if(this.ir[i]===t){h=i;break}-1!==h&&this.sr[h]>0&&(this.ji=!0,this.Vs=!1,this.Gs=!0,this.Ws='',this.Zs=3,this.hr=this.ir[h],this.Hs='Enter message to send to '+this.tr[h])}}else if(55===i)this.vd(b.s.tw,h,r,s)&&this.Y.Kc(this.Th);else if(224===i||993===i||99===i||746===i||877===i){if(this.kn){this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,0,0,0,0,0,!1)||this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,224===i?this.Y.qc(b.s.iw):746===i?this.Y.qc(b.s.sw):877===i?this.Y.qc(b.s.hw):99===i?this.Y.qc(b.s.ew):993===i&&this.Y.qc(b.s.nw),this.Y.Kc(h+this.ve),this.Y.Kc(r+this.Oe),this.Y.Kc(s)}}else if(1607===i){const t=this.yn[s];if(t&&t.cl){let i;i=t.cl.Zd?t.cl.Zd:"It's a "+t.cl.No+'.',this.bd(0,i,'')}}else if(504===i)this.vd(b.s.rw,h,r,s);else{if(930===i){const t=c.s.Tr[r];this.Eh=1,this.Th=r,this.bh=t.lw,this.fh=0;let i=t.ow;i&&-1!==i.co(' ')&&(i=i.fo(0,i.co(' ')));let s=t.ow;return s&&-1!==s.co(' ')&&(s=s.fo(s.co(' ')+1)),this.vh=i+' '+t.aw+' '+s,void(16===this.bh&&(this.Xi=!0,this.xs=3,this.qi=!0))}if(951===i){const t=c.s.Tr[r];let i=!0;t.Ml>0&&(i=this.cw(t)),i&&(this.Y.qc(b.s.fw),this.Y.Kc(r))}else if(602===i||596===i||22===i||892===i||415===i)22===i?this.Y.qc(b.s.uw):415===i?(0==(3&r)&&K.i.O++,K.i.O>=55&&(this.Y.qc(b.s.dw),this.Y.Fc(0)),this.Y.qc(b.s.ww)):602===i?this.Y.qc(b.s.yw):892===i?(0==(3&h)&&K.i.T++,K.i.T>=130&&(this.Y.qc(b.s.mw),this.Y.Dc(177)),this.Y.qc(b.s.pw)):596===i&&this.Y.qc(b.s.Aw),this.Y.Kc(s),this.Y.Kc(h),this.Y.Kc(r),this.Ih=0,this.Ah=r,this.ph=h,this.mh=2,c.s.Tr[r].gd===this.Ki&&(this.mh=1),c.s.Tr[r].gd===this.ds&&(this.mh=3);else if(581===i)0==(3&s)&&K.i.A++,K.i.A>=99&&(this.Y.qc(b.s.Iw),this.Y.Fc(0)),this.vd(b.s.gw,h,r,s);else if(965===i){if(this.kn){this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,0,0,0,0,0,!1)||this.mf(this.kn.pf[0],this.kn.Af[0],h,r,2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s._w),this.Y.Kc(h+this.ve),this.Y.Kc(r+this.Oe),this.Y.Kc(s),this.Y.Kc(this.Th)}}else if(1501===i)K.i.C+=this.Oe,K.i.C>=92&&(this.Y.qc(b.s.Cw),this.Y.Fc(0)),this.vd(b.s.Ew,h,r,s);else if(364===i)this.vd(b.s.Tw,h,r,s);else if(1102===i){const t=n.s.xo(s);let i;i=t.Zd?t.Zd:"It's a "+t.No+'.',this.bd(0,i,'')}else if(960===i){this.Y.qc(b.s.fw),this.Y.Kc(r);const t=c.s.Tr[r];if(t.ma&&t.ma[0]&&5===t.ma[0][0]){const i=t.ma[0][1];t.Qr&&this._h[i]!==t.Qr[0]&&(this._h[i]=t.Qr[0],await this.bw(i),this.Xi=!0)}}else if(34===i){const i=this.fs[t],s=i.co('@whi@');if(-1!==s){this.vw(),this.Ph=i.fo(s+5)._d(),this.Dh=!1;for(let t=0;t<c.s.Tr.Pr;t++)if(c.s.Tr[t]&&c.s.Tr[t].Ml===c.s.na){this.Fh=this.Ki=c.s.Tr[t].gd;break}}}else if(947===i)this.vw();else if(367===i){const t=this.ln[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s.Ow),this.Y.Kc(s),this.Y.Kc(this.wh),this.Y.Kc(this.uh),this.Y.Kc(this.dh))}else if(465===i){this.Y.qc(b.s.fw),this.Y.Kc(r);const t=c.s.Tr[r];if(t.ma&&t.ma[0]&&5===t.ma[0][0]){const i=t.ma[0][1];this._h[i]=1-this._h[i],await this.bw(i),this.Xi=!0}}else if(406===i||436===i||557===i||556===i){const s=this.fs[t],h=s.co('@whi@');if(-1!==h){const t=R.s.Yu(s.fo(h+5)._d());406===i?this.Lw(t):436===i?this.Sw(t):557===i?this.kw(t):556===i&&this.Rw(t)}}else if(651===i){const t=this.ln[s];t&&this.kn&&(this.mf(this.kn.pf[0],this.kn.Af[0],t.pf[0],t.Af[0],2,1,1,0,0,0,!1),this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(b.s.Mw),this.Y.Kc(s),this.Y.Kc(this.Th))}}}this.fh=0,this.Eh=0};cw=t=>{const i=t.Ml;if(i===c.s.xw&&(this.ji=!0,this.Vs=!1,this.Gs=!0,this.Ws='',this.Zs=1,this.Hs='Enter name of friend to add to list'),i===c.s.Nw&&(this.ji=!0,this.Vs=!1,this.Gs=!0,this.Ws='',this.Zs=2,this.Hs='Enter name of friend to delete from list'),i===c.s.Pw)return this.j=250,!0;if(i===c.s.Dw&&(this.ji=!0,this.Vs=!1,this.Gs=!0,this.Ws='',this.Zs=4,this.Hs='Enter name of player to add to list'),i===c.s.Fw&&(this.ji=!0,this.Vs=!1,this.Gs=!0,this.Ws='',this.Zs=5,this.Hs='Enter name of player to delete from list'),i>=c.s.Uw&&i<=c.s.Bw){const t=(i-300)/2|0,s=1&i;let h=this.Hn[t];if(-1!==h)for(;;)if(0===s&&(h--,h<0&&(h=l.s.Gw-1)),1===s&&(h++,h>=l.s.Gw&&(h=0)),!l.s.Tr[h].Hw&&l.s.Tr[h].cl===t+(this.Bn?0:7)){this.Hn[t]=h,this.Gn=!0;break}}if(i>=c.s.Ww&&i<=c.s.Zw){const t=(i-314)/2|0,s=1&i;let h=this.Wn[t];0===s&&(h--,h<0&&(h=W.s.$o[t].Pr-1)),1===s&&(h++,h>=W.s.$o[t].Pr&&(h=0)),this.Wn[t]=h,this.Gn=!0}if(i!==c.s.ha||this.Bn||(this.Bn=!0,this.Yc()),i===c.s.ea&&this.Bn&&(this.Bn=!1,this.Yc()),i===c.s.Yw){this.Y.qc(b.s.Vw),this.Y.Dc(this.Bn?0:1);for(let t=0;t<7;t++)this.Y.Dc(this.Hn[t]);for(let t=0;t<5;t++)this.Y.Dc(this.Wn[t]);return!0}return i===c.s.ra&&(this.Dh=!this.Dh),i>=c.s.zw&&i<=c.s.Xw&&(this.vw(),this.Ph.Pr>0&&(this.Y.qc(b.s.jw),this.Y.qw(R.s.Yu(this.Ph)),this.Y.Dc(i-601),this.Y.Dc(this.Dh?1:0))),!1};Yc=()=>{this.Gn=!0;for(let t=0;t<7;t++){this.Hn[t]=-1;for(let i=0;i<l.s.Gw;i++)if(!l.s.Tr[i].Hw&&l.s.Tr[i].cl===t+(this.Bn?0:7)){this.Hn[t]=i;break}}};vd=(t,i,s,h)=>{if(!this.kn||!this.Vh)return!1;const n=h>>14&32767,r=this.Vh.rd(this.De,i,s,h);if(-1===r)return!1;const l=31&r,o=r>>6&3;if(l===D.s.$w||l===D.s.Kw||l===D.s.Jw){const t=e.s.xo(n);let h,r;o===F.s.cd||o===F.s.ud?(h=t.Yr,r=t.Pr):(h=t.Pr,r=t.Yr);let l=t.Qw;0!==o&&(l=(l<<o&15)+(l>>4-o)),this.mf(this.kn.pf[0],this.kn.Af[0],i,s,2,h,r,0,0,l,!1)}else this.mf(this.kn.pf[0],this.kn.Af[0],i,s,2,0,0,o,l+1,0,!1);return this.is=this.Ec,this.ss=this.Tc,this.Qi=2,this.ts=0,this.Y.qc(t),this.Y.Kc(i+this.ve),this.Y.Kc(s+this.Oe),this.Y.Kc(n),!0};_f=()=>{1===this.Cc&&(this.Ec>=549&&this.Ec<=583&&this.Tc>=195&&this.Tc<231&&-1!==this.Ns[0]?(this.Xi=!0,this.xs=0,this.qi=!0):this.Ec>=579&&this.Ec<=609&&this.Tc>=194&&this.Tc<231&&-1!==this.Ns[1]?(this.Xi=!0,this.xs=1,this.qi=!0):this.Ec>=607&&this.Ec<=637&&this.Tc>=194&&this.Tc<231&&-1!==this.Ns[2]?(this.Xi=!0,this.xs=2,this.qi=!0):this.Ec>=635&&this.Ec<=679&&this.Tc>=194&&this.Tc<229&&-1!==this.Ns[3]?(this.Xi=!0,this.xs=3,this.qi=!0):this.Ec>=676&&this.Ec<=706&&this.Tc>=194&&this.Tc<231&&-1!==this.Ns[4]?(this.Xi=!0,this.xs=4,this.qi=!0):this.Ec>=704&&this.Ec<=734&&this.Tc>=194&&this.Tc<231&&-1!==this.Ns[5]?(this.Xi=!0,this.xs=5,this.qi=!0):this.Ec>=732&&this.Ec<=766&&this.Tc>=195&&this.Tc<231&&-1!==this.Ns[6]?(this.Xi=!0,this.xs=6,this.qi=!0):this.Ec>=550&&this.Ec<=584&&this.Tc>=492&&this.Tc<528&&-1!==this.Ns[7]?(this.Xi=!0,this.xs=7,this.qi=!0):this.Ec>=582&&this.Ec<=612&&this.Tc>=492&&this.Tc<529&&-1!==this.Ns[8]?(this.Xi=!0,this.xs=8,this.qi=!0):this.Ec>=609&&this.Ec<=639&&this.Tc>=492&&this.Tc<529&&-1!==this.Ns[9]?(this.Xi=!0,this.xs=9,this.qi=!0):this.Ec>=637&&this.Ec<=681&&this.Tc>=493&&this.Tc<528&&-1!==this.Ns[10]?(this.Xi=!0,this.xs=10,this.qi=!0):this.Ec>=679&&this.Ec<=709&&this.Tc>=492&&this.Tc<529&&-1!==this.Ns[11]?(this.Xi=!0,this.xs=11,this.qi=!0):this.Ec>=706&&this.Ec<=736&&this.Tc>=492&&this.Tc<529&&-1!==this.Ns[12]?(this.Xi=!0,this.xs=12,this.qi=!0):this.Ec>=734&&this.Ec<=768&&this.Tc>=492&&this.Tc<528&&-1!==this.Ns[13]&&(this.Xi=!0,this.xs=13,this.qi=!0),K.i.m++,K.i.m>150&&(K.i.m=0,this.Y.qc(b.s.ty),this.Y.Dc(43)))};bf=async()=>{for(;;){let t;do{for(;;){if(t=this.vc(),-1===t)return;if(-1!==this.Ki&&this.Ki===this.Fh){8===t&&this.Ph.Pr>0&&(this.Ph=this.Ph.fo(0,this.Ph.Pr-1));break}if(this.Gs){if(t>=32&&t<=122&&this.Ws.Pr<80&&(this.Ws=this.Ws+String.fromCharCode(t),this.ji=!0),8===t&&this.Ws.Pr>0&&(this.Ws=this.Ws.fo(0,this.Ws.Pr-1),this.ji=!0),13===t||10===t){let t;if(this.Gs=!1,this.ji=!0,1===this.Zs&&(t=R.s.Yu(this.Ws),this.Lw(t)),2===this.Zs&&this.Zn>0&&(t=R.s.Yu(this.Ws),this.kw(t)),3===this.Zs&&this.Ws.Pr>0&&this.hr){this.Y.qc(b.s.iy),this.Y.Dc(0);const t=this.Y.Nc;this.Y.qw(this.hr),O.s.sy(this.Y,this.Ws),this.Y.Yf(this.Y.Nc-t),this.Ws=R.s.hy(this.Ws),this.Ws=v.s.ey(this.Ws),this.bd(6,this.Ws,R.s.Yo(R.s.Vo(this.hr))),2===this.Ds&&(this.Ds=1,this.$i=!0,this.Y.qc(b.s.ny),this.Y.Dc(this.Ps),this.Y.Dc(this.Ds),this.Y.Dc(this.Fs))}4===this.Zs&&this.ps<100&&(t=R.s.Yu(this.Ws),this.Sw(t)),5===this.Zs&&this.ps>0&&(t=R.s.Yu(this.Ws),this.Rw(t))}}else if(this.Vs){if(t>=48&&t<=57&&this.Ys.Pr<10&&(this.Ys=this.Ys+String.fromCharCode(t),this.ji=!0),8===t&&this.Ys.Pr>0&&(this.Ys=this.Ys.fo(0,this.Ys.Pr-1),this.ji=!0),13===t||10===t){if(this.Ys.Pr>0){let t=0;try{t=parseInt(this.Ys,10)}catch(t){}this.Y.qc(b.s.ry),this.Y.Fc(t)}this.Vs=!1,this.ji=!0}}else if(-1===this.ds&&(t>=32&&t<=122&&this.th.Pr<80&&(this.th=this.th+String.fromCharCode(t),this.ji=!0),8===t&&this.th.Pr>0&&(this.th=this.th.fo(0,this.th.Pr-1),this.ji=!0),(13===t||10===t)&&this.th.Pr>0)){if('::clientdrop'===this.th)await this.Qc();else if('::noclip'===this.th)for(let t=0;t<G.s.Pe;t++)for(let i=1;i<G.s.je-1;i++)for(let s=1;s<G.s.je-1;s++){const h=this.Ne[t];h&&(h.Ju[G.s.Qu(i,s)]=0)}else'::debug'===this.th&&(K.i.c=!K.i.c);if(this.th.ga('::'))this.Y.qc(b.s.ly),this.Y.Dc(this.th.Pr-1),this.Y.Uc(this.th.fo(2));else{let t=0;this.th.ga('yellow:')?(t=0,this.th=this.th.fo(7)):this.th.ga('red:')?(t=1,this.th=this.th.fo(4)):this.th.ga('green:')?(t=2,this.th=this.th.fo(6)):this.th.ga('cyan:')?(t=3,this.th=this.th.fo(5)):this.th.ga('purple:')?(t=4,this.th=this.th.fo(7)):this.th.ga('white:')?(t=5,this.th=this.th.fo(6)):this.th.ga('flash1:')?(t=6,this.th=this.th.fo(7)):this.th.ga('flash2:')?(t=7,this.th=this.th.fo(7)):this.th.ga('flash3:')?(t=8,this.th=this.th.fo(7)):this.th.ga('glow1:')?(t=9,this.th=this.th.fo(6)):this.th.ga('glow2:')?(t=10,this.th=this.th.fo(6)):this.th.ga('glow3:')&&(t=11,this.th=this.th.fo(6));let i=0;this.th.ga('wave:')&&(i=1,this.th=this.th.fo(5)),this.th.ga('scroll:')&&(i=2,this.th=this.th.fo(7)),this.Y.qc(b.s.oy),this.Y.Dc(0);const s=this.Y.Nc;this.Y.Dc(t),this.Y.Dc(i),O.s.sy(this.Y,this.th),this.Y.Yf(this.Y.Nc-s),this.th=R.s.hy(this.th),this.th=v.s.ey(this.th),this.kn&&this.kn.No&&(this.kn.fu=this.th,this.kn.wu=t,this.kn.yu=i,this.kn.mu=150,this.bd(2,this.kn.fu,this.kn.No)),2===this.Ps&&(this.Ps=3,this.$i=!0,this.Y.qc(b.s.ny),this.Y.Dc(this.Ps),this.Y.Dc(this.Ds),this.Y.Dc(this.Fs))}this.th='',this.ji=!0}}}while((t<97||t>122)&&(t<65||t>90)&&(t<48||t>57)&&32!==t);this.Ph.Pr<12&&(this.Ph=this.Ph+String.fromCharCode(t))}};Cf=()=>{if(1===this.Cc)if(this.Ec>=8&&this.Ec<=108&&this.Tc>=490&&this.Tc<=522)this.Ps=(this.Ps+1)%4,this.$i=!0,this.ji=!0,this.Y.qc(b.s.ny),this.Y.Dc(this.Ps),this.Y.Dc(this.Ds),this.Y.Dc(this.Fs);else if(this.Ec>=137&&this.Ec<=237&&this.Tc>=490&&this.Tc<=522)this.Ds=(this.Ds+1)%3,this.$i=!0,this.ji=!0,this.Y.qc(b.s.ny),this.Y.Dc(this.Ps),this.Y.Dc(this.Ds),this.Y.Dc(this.Fs);else if(this.Ec>=275&&this.Ec<=375&&this.Tc>=490&&this.Tc<=522)this.Fs=(this.Fs+1)%3,this.$i=!0,this.ji=!0,this.Y.qc(b.s.ny),this.Y.Dc(this.Ps),this.Y.Dc(this.Ds),this.Y.Dc(this.Fs);else if(this.Ec>=416&&this.Ec<=516&&this.Tc>=490&&this.Tc<=522){this.vw(),this.Ph='',this.Dh=!1;for(let t=0;t<c.s.Tr.Pr;t++)if(c.s.Tr[t]&&600===c.s.Tr[t].Ml)return void(this.Fh=this.Ki=c.s.Tr[t].gd)}};Rf=(t,i,s,h,e,n,r,l)=>{if(this.Us?this.Bs=32:this.Bs=0,this.Us=!1,t>=n&&t<n+16&&i>=r&&i<r+16)l.Pl-=4*this.Ji,e&&(this.Xi=!0);else if(t>=n&&t<n+16&&i>=r+h-16&&i<r+h)l.Pl+=4*this.Ji,e&&(this.Xi=!0);else if(t>=n-this.Bs&&t<n+this.Bs+16&&i>=r+16&&i<r+h-16&&this.Ji>0){let t=(h-32)*h/s|0;t<8&&(t=8);const n=i-r-(t/2|0)-16,o=h-t-32;l.Pl=(s-h)*n/o|0,e&&(this.Xi=!0),this.Us=!0}};Vc=()=>{this.Vt||(this.Er(),this.vr=null,this.rt=null,this.lt=null,this.ot=null,this.at=null,this.ct=null,this.ft=null,this.ut=null,this.dt=null,this.wt=null,this.Vt=new f.s(479,96),this.Zt=new f.s(168,160),u.s.uc(),this.wi?.il(0,0),this.Wt=new f.s(190,261),this.Yt=new f.s(512,334),u.s.uc(),this.zt=new f.s(501,61),this.Xt=new f.s(288,40),this.jt=new f.s(269,66),this.ht=!0)};uu=t=>{if(!t)return!1;for(let i=0;i<this.Zn;i++)if(t.Cd()===this.tr[i]?.Cd())return!0;return!!this.kn&&t.Cd()===this.kn.No?.Cd()};Lw=t=>{if(0n===t)return;if(this.Zn>=100)return void this.bd(0,'Your friends list is full. Max of 100 hit','');const i=R.s.Yo(R.s.Vo(t));for(let s=0;s<this.Zn;s++)if(this.ir[s]===t)return void this.bd(0,i+' is already on your friend list','');for(let s=0;s<this.ps;s++)if(this.As[s]===t)return void this.bd(0,'Please remove '+i+' from your ignore list first','');this.kn&&this.kn.No&&i!==this.kn.No&&(this.tr[this.Zn]=i,this.ir[this.Zn]=t,this.sr[this.Zn]=0,this.Zn++,this.Xi=!0,this.Y.qc(b.s.ay),this.Y.qw(t))};kw=t=>{if(0n!==t)for(let i=0;i<this.Zn;i++)if(this.ir[i]===t){this.Zn--,this.Xi=!0;for(let t=i;t<this.Zn;t++)this.tr[t]=this.tr[t+1],this.sr[t]=this.sr[t+1],this.ir[t]=this.ir[t+1];return this.Y.qc(b.s.cy),void this.Y.qw(t)}};Sw=t=>{if(0n===t)return;if(this.ps>=100)return void this.bd(0,'Your ignore list is full. Max of 100 hit','');const i=R.s.Yo(R.s.Vo(t));for(let s=0;s<this.ps;s++)if(this.As[s]===t)return void this.bd(0,i+' is already on your ignore list','');for(let s=0;s<this.Zn;s++)if(this.ir[s]===t)return void this.bd(0,'Please remove '+i+' from your friend list first','');this.As[this.ps++]=t,this.Xi=!0,this.Y.qc(b.s.fy),this.Y.qw(t)};Rw=t=>{if(0n!==t)for(let i=0;i<this.ps;i++)if(this.As[i]===t){this.ps--,this.Xi=!0;for(let t=i;t<this.ps;t++)this.As[t]=this.As[t+1];return this.Y.qc(b.s.uy),void this.Y.qw(t)}};dy=(t,i)=>{const s=this.Cn[this.De][t][i];if(!s)return void this.Vh?.wy(this.De,t,i);let h=-99999999,e=null;for(let t=s.yy();t;t=s.my()){const i=n.s.xo(t.Qu);let s=i.py;i.Po&&(s*=t.Gw+1),s>h&&(h=s,e=t)}if(!e)return;s.Ay(e);let r=-1,l=-1,o=0,a=0;for(let t=s.yy();t;t=s.my())t.Qu!==e.Qu&&-1===r&&(r=t.Qu,o=t.Gw),t.Qu!==e.Qu&&t.Qu!==r&&-1===l&&(l=t.Qu,a=t.Gw);let c=null;-1!==r&&(c=n.s.xo(r).Iy(o));let f=null;-1!==l&&(f=n.s.xo(l).Iy(a));const u=t+(i<<7)+1610612736|0,d=n.s.xo(e.Qu);this.Vh?.gy(t,i,this.Hf(this.De,128*t+64,128*i+64),this.De,u,d.Iy(e.Gw),f,c)};_y=(t,i,s,h,n,r,l)=>{if(i<1||s<1||i>102||s>102)return;if(K.i.l&&t!==this.De)return;if(!this.Vh)return;let o=0;if(l===P.s.Cy&&(o=this.Vh.nd(t,i,s)),l===P.s.Ey&&(o=this.Vh.Ty(t,s,i)),l===P.s.by&&(o=this.Vh.yd(t,i,s)),l===P.s.Jw&&(o=this.Vh.$u(t,i,s)),0!==o){const h=this.Vh.rd(t,i,s,o),n=o>>14&32767,r=31&h,a=h>>6;if(l===P.s.Cy){this.Vh?.vy(t,i,s,1);const h=e.s.xo(n);h.Oy&&this.Ne[t]?.vy(i,s,r,a,h.Ly)}if(l===P.s.Ey&&this.Vh?.Sy(t,i,s),l===P.s.by){this.Vh.ky(t,i,s);const h=e.s.xo(n);if(i+h.Yr>G.s.je-1||s+h.Yr>G.s.je-1||i+h.Pr>G.s.je-1||s+h.Pr>G.s.je-1)return;h.Oy&&this.Ne[t]?.ky(i,s,h.Yr,h.Pr,a,h.Ly)}if(l===P.s.Jw){this.Vh?.Ry(t,i,s);const h=e.s.xo(n);h.Oy&&h.My&&this.Ne[t]?.xy(i,s)}}if(h>=0){let e=t;this.Ve&&t<3&&2==(2&this.Ve[1][i][s])&&(e=t+1),N.s._y(t,i,s,this.Vh,this.Ye,this.gn,this.Ne[t],h,r,n,e)}};vw=()=>{this.Y.qc(b.s.Ny),-1!==this.us&&(this.us=-1,this.Xi=!0,this.gh=!1,this.qi=!0),-1!==this.ds&&(this.ds=-1,this.ji=!0,this.gh=!1),this.Ki=-1};Qc=async()=>{if(this.j>0)await this.Py();else{this.Yt?.rc(),this.Ct?.lc(257,144,'Connection lost',A.s.Kl),this.Ct?.lc(256,143,'Connection lost',A.s.Rl),this.Ct?.lc(257,159,'Please wait - attempting to reestablish',A.s.Kl),this.Ct?.lc(256,158,'Please wait - attempting to reestablish',A.s.Rl),this.Yt?.il(8,11),this.qh=0;const t=this.H;this.B=!1,await this.bc(this.It,this.gt,!0),this.B||await this.Py(),t?._r()}};Py=async()=>{this.H&&this.H._r(),this.H=null,this.B=!1,this.et=0,this.It='',this.gt='',M.s.Wc(),this.su(),this.Vh?.Dy();for(let t=0;t<G.s.Pe;t++)this.Ne[t]?.Dy();(0,j.Cr)(),this.mr=null,this.wr=0,K.i.l||await this.Nr('scape_main',12345678,4e4)};Ur=async()=>{if(!this.H)return!1;try{let t=this.H.Fy;if(0===t)return!1;if(-1===this.K&&(await this.H.Mc(this.W.xc,0,1),this.K=255&this.W.xc[0],this.$&&(this.K=this.K-this.$.Uy&255),this.J=_.s.By[this.K],t--),-1===this.J){if(t<=0)return!1;await this.H.Mc(this.W.xc,0,1),this.J=255&this.W.xc[0],t--}if(-2===this.J){if(t<=1)return!1;await this.H.Mc(this.W.xc,0,2),this.W.Nc=0,this.J=this.W.Gy,t-=2}if(t<this.J)return!1;if(this.W.Nc=0,await this.H.Mc(this.W.xc,0,this.J),this.X=0,this.it=this.tt,this.tt=this.Q,this.Q=this.K,this.K===T.s.Hy){const t=this.W.Gy,i=this.W.Wy;return this.Ch[t]=i,this._h[t]!==i&&(this._h[t]=i,await this.bw(t),this.Xi=!0,-1!==this.zs&&(this.ji=!0)),this.K=-1,!0}if(this.K===T.s.Zy){const t=this.W.Pc,i=this.W.Yy;let s=R.s.Yo(R.s.Vo(t));for(let h=0;h<this.Zn;h++)if(t===this.ir[h]){this.sr[h]!==i&&(this.sr[h]=i,this.Xi=!0,i>0&&this.bd(5,s+' has logged in.',''),0===i&&this.bd(5,s+' has logged out.','')),s=null;break}s&&this.Zn<100&&(this.ir[this.Zn]=t,this.tr[this.Zn]=s,this.sr[this.Zn]=i,this.Zn++,this.Xi=!0);let h=!1;for(;!h;){h=!0;for(let t=0;t<this.Zn-1;t++)if(this.sr[t]!==K.i.e&&this.sr[t+1]===K.i.e||0===this.sr[t]&&0!==this.sr[t+1]){const i=this.sr[t];this.sr[t]=this.sr[t+1],this.sr[t+1]=i;const s=this.tr[t];this.tr[t]=this.tr[t+1],this.tr[t+1]=s;const e=this.ir[t];this.ir[t]=this.ir[t+1],this.ir[t+1]=e,this.Xi=!0,h=!1}}return this.K=-1,!0}if(this.K===T.s.Vy)return this.q=30*this.W.Gy,this.K=-1,!0;if(this.K===T.s.zy){const t=this.W.Yy,i=this.W.Yy;let s=-1;if(this.ke)for(let h=0;h<this.ke.Pr;h++)this.ke[h]===(t<<8)+i&&(s=h);if(-1!==s){const h=this.Le;if(h){const e=h[s];-1!==s&&e&&(this.F?.xr(`m${t}_${i}`,e),this.zh=1)}}return this.K=-1,!0}if(this.K===T.s.Xy)return this.jy(this.W,this.J),this.K=-1,!0;if(this.K===T.s.qy){const t=this.W.Gy,i=this.W.Gy;if(this.Te===t&&this.be===i&&0!==this.zh)return this.K=-1,!0;this.Te=t,this.be=i,this.ve=8*(this.Te-6),this.Oe=8*(this.be-6),this.zh=1,this.Yt?.rc(),this.Ct?.lc(257,151,'Loading - please wait.',A.s.Kl),this.Ct?.lc(256,150,'Loading - please wait.',A.s.Rl),this.Yt?.il(8,11);const s=(this.J-2)/10|0;this.Le=new $.Ii(s,null),this.Se=new $.Ii(s,null),this.ke=new Int32Array(s),this.Y.qc(b.s.$y),this.Y.Dc(0);let h=0;for(let t=0;t<s;t++){const i=this.W.Yy,s=this.W.Yy,e=this.W.Fr,n=this.W.Fr;let r;this.ke[t]=(i<<8)+s,0!==e&&(r=await(this.F?.Lr(`m${i}_${s}`)),r&&I.s.Sr(r)!==e&&(r=void 0),r?this.Le[t]=r:(this.zh=0,this.Y.Dc(0),this.Y.Dc(i),this.Y.Dc(s),h+=3)),0!==n&&(r=await(this.F?.Lr(`l${i}_${s}`)),r&&I.s.Sr(r)!==n&&(r=void 0),r?this.Se[t]=r:(this.zh=0,this.Y.Dc(1),this.Y.Dc(i),this.Y.Dc(s),h+=3))}this.Y.Yf(h),this.Yt?.rc(),0===this.zh&&(this.Ct?.lc(257,166,'Map area updated since last visit, so load will take longer this time only',A.s.Kl),this.Ct?.lc(256,165,'Map area updated since last visit, so load will take longer this time only',A.s.Rl)),this.Yt?.il(8,11);const e=this.ve-this.Re,n=this.Oe-this.Me;this.Re=this.ve,this.Me=this.Oe;for(let t=0;t<8192;t++){const i=this.yn[t];if(i){for(let t=0;t<10;t++)i.pf[t]-=e,i.Af[t]-=n;i.Ll-=128*e,i.Wf-=128*n}}for(let t=0;t<this.R;t++){const i=this.ln[t];if(i){for(let t=0;t<10;t++)i.pf[t]-=e,i.Af[t]-=n;i.Ll-=128*e,i.Wf-=128*n}}let r=0,l=G.s.je,o=1;e<0&&(r=G.s.je-1,l=-1,o=-1);let a=0,c=G.s.je,f=1;n<0&&(a=G.s.je-1,c=-1,f=-1);for(let t=r;t!==l;t+=o)for(let i=a;i!==c;i+=f){const s=t+e,h=i+n;for(let e=0;e<G.s.Pe;e++)s>=0&&h>=0&&s<G.s.je&&h<G.s.je?this.Cn[e][t][i]=this.Cn[e][s][h]:this.Cn[e][t][i]=null}for(let t=this.Tn.yy();t;t=this.Tn.my())t.Ll-=e,t.Wf-=n,(t.Ll<0||t.Wf<0||t.Ll>=G.s.je||t.Wf>=G.s.je)&&t.Ky();return 0!==this.qh&&(this.qh-=e,this.$h-=n),this.Kh=!1,this.K=-1,!0}if(this.K===T.s.Jy)return c.s.Tr[this.W.Gy].sa=this.kn?.Qy()||null,this.K=-1,!0;if(this.K===T.s.tm)return this.Is=this.W.Yy,1===this.Is&&(this.gs=this.W.Gy),this.Is>=2&&this.Is<=6&&(2===this.Is&&(this._s=64,this.Cs=64),3===this.Is&&(this._s=0,this.Cs=64),4===this.Is&&(this._s=128,this.Cs=64),5===this.Is&&(this._s=64,this.Cs=0),6===this.Is&&(this._s=64,this.Cs=128),this.Is=2,this.Ts=this.W.Gy,this.bs=this.W.Gy,this.vs=this.W.Yy),10===this.Is&&(this.Es=this.W.Gy),this.K=-1,!0;if(this.K===T.s.im){const t=this.W.sm,i=this.W.Fr,s=this.W.Fr;return t!==this.mr&&this.yr&&!K.i.l&&await this.Nr(t,i,s),this.mr=t,this.pr=i,this.Ar=s,this.wr=0,this.K=-1,!0}if(this.K===T.s.hm)return await this.Py(),this.K=-1,!1;if(this.K===T.s.em){const t=this.W.Yy,i=this.W.Yy;let s=-1;if(this.ke)for(let h=0;h<this.ke.Pr;h++)this.ke[h]===(t<<8)+i&&(s=h);if(-1!==s){const h=this.Se;if(h){const e=h[s];-1!==s&&e&&(this.F?.xr(`l${t}_${i}`,e),this.zh=1)}}return this.K=-1,!0}if(this.K===T.s.nm)return this.qh=0,this.K=-1,!0;if(this.K===T.s.rm)return this.xn=this.W.Gy,this.K=-1,!0;if(this.K===T.s.lm||this.K===T.s.om||this.K===T.s.am||this.K===T.s.cm||this.K===T.s.fm||this.K===T.s.um||this.K===T.s.dm||this.K===T.s.wm||this.K===T.s.ym||this.K===T.s.mm)return this.pm(this.W,this.K),this.K=-1,!0;if(this.K===T.s.Am){const t=this.W.Gy,i=this.W.Gy;return-1!==this.ds&&(this.ds=-1,this.ji=!0),this.Vs&&(this.Vs=!1,this.ji=!0),this.Ki=t,this.us=i,this.Xi=!0,this.qi=!0,this.gh=!1,this.K=-1,!0}if(this.K===T.s.Im){const t=this.W.Gy,i=this.W.Fr;return this.Ch[t]=i,this._h[t]!==i&&(this._h[t]=i,await this.bw(t),this.Xi=!0,-1!==this.zs&&(this.ji=!0)),this.K=-1,!0}if(this.K===T.s.gm){const t=this.W.Gy;return c.s.Tr[t].ul=this.W.Gy,this.K=-1,!0}if(this.K===T.s._m){let t=this.W.Gy;const i=this.W.Yy;return 65535===t&&(t=-1),this.Ns[i]=t,this.Xi=!0,this.qi=!0,this.K=-1,!0}if(this.K===T.s.Cm){const t=this.W.Yy,i=this.W.Yy,s=this.W.Gy,h=this.W.Gy;let e=-1;if(this.ke)for(let s=0;s<this.ke.Pr;s++)this.ke[s]===(t<<8)+i&&(e=s);if(-1!==e&&this.Se){this.Se[e]&&this.Se[e]?.Pr===h||(this.Se[e]=new Int8Array(h));const t=this.Se[e];t&&this.W.Em(this.J-6,s,t)}return this.K=-1,!0}if(this.K===T.s.Tm){const t=M.s.bm();return t&&(this.Y.qc(b.s.$c),this.Y.Kc(t.Nc),this.Y.Gc(t.xc,t.Nc,0),t.Jc()),this.K=-1,!0}if(this.K===T.s.vm){this.Xi=!0;const t=this.W.Gy,i=c.s.Tr[t],s=this.W.Yy;if(i.Gl&&i.Hl){for(let t=0;t<s;t++){i.Gl[t]=this.W.Gy;let s=this.W.Yy;255===s&&(s=this.W.Fr),i.Hl[t]=s}for(let t=s;t<i.Gl.Pr;t++)i.Gl[t]=0,i.Hl[t]=0}else for(let t=0;t<s;t++)this.W.Gy,255===this.W.Yy&&this.W.Fr;return this.K=-1,!0}if(this.K===T.s.Om)return M.s.Lm(),this.K=-1,!0;if(this.K===T.s.Sm)return this.Gs=!1,this.Vs=!0,this.Ys='',this.ji=!0,this.K=-1,!0;if(this.K===T.s.km){const t=c.s.Tr[this.W.Gy];if(t.Gl)for(let i=0;i<t.Gl.Pr;i++)t.Gl[i]=-1,t.Gl[i]=0;return this.K=-1,!0}if(this.K===T.s.Rm){if(this.Uh=this.W.Fr,this.Bh=this.W.Gy,this.Gh=this.W.Yy,this.Hh=this.W.Gy,0!==this.Uh&&-1===this.Ki){this.vw();let t=650;201!==this.Gh&&(t=655),this.Ph='',this.Dh=!1;for(let i=0;i<c.s.Tr.Pr;i++)if(c.s.Tr[i]&&c.s.Tr[i].Ml===t){this.Ki=c.s.Tr[i].gd;break}}return this.K=-1,!0}if(this.K===T.s.Mm)return this.Ms=this.W.Yy,this.Ms===this.xs&&(3===this.Ms?this.xs=1:this.xs=3,this.Xi=!0),this.K=-1,!0;if(this.K===T.s.xm){if(this.yr&&!K.i.l){const t=this.W.Gy,i=this.W.Fr,s=this.J-6,h=S.s.Ur(i,Int8Array.from(this.W.xc),s,this.W.Nc);(0,j.Br)(h,this.Ir),this.wr=t}return this.K=-1,!0}if(this.K===T.s.Nm)return this.Mn=this.W.Yy,this.K=-1,!0;if(this.K===T.s.Pm){const t=this.W.Gy,i=this.W.Yy,s=this.W.Gy;return this.nr&&!K.i.l&&this.er<50&&(this.rr[this.er]=t,this.lr[this.er]=i,this.or[this.er]=s+L.s.Dm[t],this.er++),this.K=-1,!0}if(this.K===T.s.Fm){const t=this.W.Gy,i=this.W.Gy,s=r.s.xo(i);return c.s.Tr[t].sa=s.Qy(),this.K=-1,!0}if(this.K===T.s.Um)return this.Ce=this.W.Yy,this.Ee=this.W.Yy,this.K=-1,!0;if(this.K===T.s.Bm){const t=this.W.Gy,i=this.W.Gy,s=this.W.Gy,h=c.s.Tr[t].sa;return h?.qo(i,s),this.K=-1,!0}if(this.K===T.s.Gm)return this.Ps=this.W.Yy,this.Ds=this.W.Yy,this.Fs=this.W.Yy,this.$i=!0,this.ji=!0,this.K=-1,!0;if(this.K===T.s.Hm){const t=this.W.Gy;return this.Wm(t),-1!==this.ds&&(this.ds=-1,this.ji=!0),this.Vs&&(this.Vs=!1,this.ji=!0),this.us=t,this.Xi=!0,this.qi=!0,this.Ki=-1,this.gh=!1,this.K=-1,!0}if(this.K===T.s.Zm){const t=this.W.Gy;return this.Wm(t),-1!==this.us&&(this.us=-1,this.Xi=!0,this.qi=!0),this.ds=t,this.ji=!0,this.Ki=-1,this.gh=!1,this.K=-1,!0}if(this.K===T.s.Ym){const t=this.W.Gy,i=this.W.Vm,s=this.W.Vm,h=c.s.Tr[t];return h.Ll=i,h.Sl=s,this.K=-1,!0}if(this.K===T.s.zm)return this.Kh=!0,this.sn=this.W.Yy,this.hn=this.W.Yy,this.en=this.W.Gy,this.nn=this.W.Yy,this.rn=this.W.Yy,this.rn>=100&&(this.ce=128*this.sn+64,this.ue=128*this.hn+64,this.fe=this.Hf(this.De,this.sn,this.hn)-this.en),this.K=-1,!0;if(this.K===T.s.Xm){this.Ce=this.W.Yy,this.Ee=this.W.Yy;for(let t=this.Ce;t<this.Ce+8;t++)for(let i=this.Ee;i<this.Ee+8;i++)this.Cn[this.De][t][i]&&(this.Cn[this.De][t][i]=null,this.dy(t,i));for(let t=this.Tn.yy();t;t=this.Tn.my())t.Ll>=this.Ce&&t.Ll<this.Ce+8&&t.Wf>=this.Ee&&t.Wf<this.Ee+8&&t.jm===this.De&&(this._y(t.jm,t.Ll,t.Wf,t.qm,t.$m,t.Km,t.gd),t.Ky());return this.K=-1,!0}if(this.K===T.s.Jm){const t=this.W.Yy,i=this.W.Yy,s=this.W.Gy,h=this.W.Gy;let e=-1;if(this.ke)for(let s=0;s<this.ke.Pr;s++)this.ke[s]===(t<<8)+i&&(e=s);if(-1!==e&&this.Le){this.Le[e]&&this.Le[e]?.Pr===h||(this.Le[e]=new Int8Array(h));const t=this.Le[e];t&&this.W.Em(this.J-6,s,t)}return this.K=-1,!0}if(this.K===T.s.iy){const t=this.W.Pc,i=this.W.Fr,s=this.W.Yy;let h=!1;for(let t=0;t<100;t++)if(this.$s[t]===i){h=!0;break}if(s<=1)for(let i=0;i<this.ps;i++)if(this.As[i]===t){h=!0;break}if(!h&&0===this.hs)try{this.$s[this.Ks]=i,this.Ks=(this.Ks+1)%100;const h=O.s.za(this.W,this.J-13),e=v.s.ey(h);s>1?this.bd(7,e,R.s.Yo(R.s.Vo(t))):this.bd(3,e,R.s.Yo(R.s.Vo(t)))}catch(t){}return this.K=-1,!0}if(this.K===T.s.Qm){for(let t=0;t<this._h.Pr;t++)this._h[t]!==this.Ch[t]&&(this._h[t]=this.Ch[t],await this.bw(t),this.Xi=!0);return this.K=-1,!0}if(this.K===T.s.tp){const t=this.W.Gy,i=this.W.Gy;return c.s.Tr[t].sa=p.s.sa(i),this.K=-1,!0}if(this.K===T.s.ip)return this.zs=this.W.Vm,this.ji=!0,this.K=-1,!0;if(this.K===T.s.sp)return 12===this.xs&&(this.Xi=!0),this.Rn=this.W.Yy,this.K=-1,!0;if(this.K===T.s.hp){if(this.Kh=!0,this.Ke=this.W.Yy,this.Je=this.W.Yy,this.Qe=this.W.Gy,this.tn=this.W.Yy,this.in=this.W.Yy,this.in>=100){const t=128*this.Ke+64,i=128*this.Je+64,s=this.Hf(this.De,this.Ke,this.Je)-this.Qe,h=t-this.ce,e=s-this.fe,n=i-this.ue,r=0|Math.sqrt(h*h+n*n);this.de=2047&(325.949*Math.atan2(e,r)|0),this.we=2047&(-325.949*Math.atan2(h,n)|0),this.de<128&&(this.de=128),this.de>383&&(this.de=383)}return this.K=-1,!0}if(this.K===T.s.ep)return this.xs=this.W.Yy,this.Xi=!0,this.qi=!0,this.K=-1,!0;if(this.K===T.s.np){const t=this.W.sm;let i;if(t.rp(':tradereq:')){const s=t.fo(0,t.co(':'));i=R.s.Yu(s);let h=!1;for(let t=0;t<this.ps;t++)if(this.As[t]===i){h=!0;break}h||0!==this.hs||this.bd(4,'wishes to trade with you.',s)}else if(t.rp(':duelreq:')){const s=t.fo(0,t.co(':'));i=R.s.Yu(s);let h=!1;for(let t=0;t<this.ps;t++)if(this.As[t]===i){h=!0;break}h||0!==this.hs||this.bd(8,'wishes to duel with you.',s)}else this.bd(0,t,'');return this.K=-1,!0}if(this.K===T.s.lp){const t=this.W.Gy,i=this.W.Gy,s=this.W.Gy,h=n.s.xo(i);return c.s.Tr[t].sa=h.Iy(50),c.s.Tr[t].To=h.op,c.s.Tr[t].Ro=h.ap,c.s.Tr[t].bo=100*h.cp/s|0,this.K=-1,!0}if(this.K===T.s.fp){const t=this.W.Gy;return this.Wm(t),-1!==this.us&&(this.us=-1,this.Xi=!0,this.qi=!0),-1!==this.ds&&(this.ds=-1,this.ji=!0),this.Vs&&(this.Vs=!1,this.ji=!0),this.Ki=t,this.gh=!1,this.K=-1,!0}if(this.K===T.s.up){const t=this.W.Gy,i=this.W.Gy,s=i>>10&31,h=i>>5&31,e=31&i;return c.s.Tr[t].so=(s<<19)+(h<<11)+(e<<3),this.K=-1,!0}if(this.K===T.s.dp){for(let t=0;t<this.ln.Pr;t++){const i=this.ln[t];i&&(i.wp=-1)}for(let t=0;t<this.yn.Pr;t++){const i=this.yn[t];i&&(i.wp=-1)}return this.K=-1,!0}if(this.K===T.s.yp){const t=this.W.Gy;return c.s.Tr[t].gl=1===this.W.Yy,this.K=-1,!0}if(this.K===T.s.mp){this.ps=this.J/8|0;for(let t=0;t<this.ps;t++)this.As[t]=this.W.Pc;return this.K=-1,!0}if(this.K===T.s.pp){this.Kh=!1;for(let t=0;t<5;t++)this.re[t]=!1;return this.K=-1,!0}if(this.K===T.s.Ap)return-1!==this.us&&(this.us=-1,this.Xi=!0,this.qi=!0),-1!==this.ds&&(this.ds=-1,this.ji=!0),this.Vs&&(this.Vs=!1,this.ji=!0),this.Ki=-1,this.gh=!1,this.K=-1,!0;if(this.K===T.s.Ip){const t=this.W.Gy;return c.s.Tr[t].eo=this.W.sm,c.s.Tr[t].gd===this.Ns[this.xs]&&(this.Xi=!0),this.K=-1,!0}if(this.K===T.s.gp){this.Xi=!0;const t=this.W.Yy,i=this.W.Fr,s=this.W.Yy;this.Os[t]=i,this.Ls[t]=s,this.Ss[t]=1;for(let s=0;s<98;s++)i>=this.ks[s]&&(this.Ss[t]=s+2);return this.K=-1,!0}if(this.K===T.s._p){for(this.Ce=this.W.Yy,this.Ee=this.W.Yy;this.W.Nc<this.J;){const t=this.W.Yy;this.pm(this.W,t)}return this.K=-1,!0}if(this.K===T.s.Cp)return 12===this.xs&&(this.Xi=!0),this.Nn=this.W.Vm,this.K=-1,!0;if(this.K===T.s.Ep){const t=this.W.Yy,i=this.W.Yy,s=this.W.Yy,h=this.W.Yy;return this.re[t]=!0,this.le[t]=i,this.oe[t]=s,this.ae[t]=h,this.ne[t]=0,this.K=-1,!0}if(this.K===T.s.Tp){this.Xi=!0;const t=this.W.Gy,i=c.s.Tr[t];for(;this.W.Nc<this.J;){const t=this.W.Yy,s=this.W.Gy;let h=this.W.Yy;255===h&&(h=this.W.Fr),i.Gl&&i.Hl&&t>=0&&t<i.Gl.Pr&&(i.Gl[t]=s,i.Hl[t]=h)}return this.K=-1,!0}if(this.K===T.s.bp)return this.vp(this.W,this.J),1===this.zh&&(this.zh=2,N.s.Op=this.De,this.Lp()),K.i.l&&2===this.zh&&N.s.Op!==this.De&&(this.Yt?.rc(),this.Ct?.lc(257,151,'Loading - please wait.',A.s.Kl),this.Ct?.lc(256,150,'Loading - please wait.',A.s.Rl),this.Yt?.il(8,11),N.s.Op=this.De,this.Lp()),this.De!==this._e&&2===this.zh&&(this._e=this.De,this.Xu(this.De)),this.K=-1,!0;await this.Py()}catch(t){console.log(t),await this.Qc()}return!0};Lp=()=>{try{this._e=-1,this._n.uc(),this.gn.uc(),this.In.uc(),this.An.uc(),d.s.Sp(),this.su(),this.Vh?.Dy();for(let t=0;t<G.s.Pe;t++)this.Ne[t]?.Dy();const t=new N.s(G.s.je,G.s.je,this.Ye,this.Ve);N.s.l=K.i.l;const i=this.Le?.Pr??0;if(this.ke)for(let t=0;t<i;t++){const i=this.ke[t]>>8,s=255&this.ke[t];if(33===i&&s>=71&&s<=73){N.s.l=!1;break}}if(K.i.l?this.Vh?.kp(this.De):this.Vh?.kp(0),this.ke&&this.Le){this.Y.qc(b.s.Lf);for(let s=0;s<i;s++){const i=64*(this.ke[s]>>8)-this.ve,h=64*(255&this.ke[s])-this.Oe,e=this.Le[s];if(e){const s=new I.s(new Uint8Array(e)).Fr,n=S.s.Ur(s,e,e.Pr-4,4);t.Rp(8*(this.Te-6),8*(this.be-6),i,h,n)}else this.be<800&&t.Mp(h,i,64,64)}}if(this.ke&&this.Se){this.Y.qc(b.s.Lf);for(let s=0;s<i;s++){const i=this.Se[s];if(i){const h=new I.s(new Uint8Array(i)).Fr,e=S.s.Ur(h,i,i.Pr-4,4),n=64*(this.ke[s]>>8)-this.ve,r=64*(255&this.ke[s])-this.Oe;t.xp(this.Vh,this.gn,this.Ne,e,n,r)}}}this.Y.qc(b.s.Lf),t.Np(this.Vh,this.Ne),this.Yt?.rc(),this.Y.qc(b.s.Lf);for(let t=this.gn.yy();t;t=this.gn.my())2===(this.Ve&&2&this.Ve[1][t.Pp][t.Dp])&&(t.Fp--,t.Fp<0&&t.Ky());for(let t=0;t<G.s.je;t++)for(let i=0;i<G.s.je;i++)this.dy(t,i);for(let t=this.Tn.yy();t;t=this.Tn.my())this._y(t.jm,t.Ll,t.Wf,t.Up,t.Bp,t.Gp,t.gd)}catch(t){}e.s.hu?.uc(),d.s.Va(20)};Wm=t=>{const i=c.s.Tr[t];if(i.al)for(let t=0;t<i.al.Pr&&-1!==i.al[t];t++){const s=c.s.Tr[i.al[t]];1===s.cl&&this.Wm(s.fl),s.ml=0,s.wl=0}};Ka=()=>{let t=0;for(let i=0;i<99;i++){const s=i+1;t+=s+300*Math.pow(2,s/7)|0,this.ks[i]=t/4|0}};bd=(t,i,s)=>{0===t&&-1!==this.zs&&(this.Rs=i,this.Cc=0),-1===this.ds&&(this.ji=!0);for(let t=99;t>0;t--)this.qs[t]=this.qs[t-1],this.js[t]=this.js[t-1],this.Xs[t]=this.Xs[t-1];this.qs[0]=t,this.js[0]=s,this.Xs[0]=i};bw=async t=>{const i=a.s.Tr[t].Hp;if(0!==i){const s=this._h[t];if(1===i&&(1===s&&d.s.Ya(.9),2===s&&d.s.Ya(.8),3===s&&d.s.Ya(.7),4===s&&d.s.Ya(.6),n.s.nu?.uc(),this.ht=!0),3===i){const t=this.yr;0===s&&(this.Ir=256,(0,j.Wp)(256),this.yr=!0),1===s&&(this.Ir=192,(0,j.Wp)(192),this.yr=!0),2===s&&(this.Ir=128,(0,j.Wp)(128),this.yr=!0),3===s&&(this.Ir=64,(0,j.Wp)(64),this.yr=!0),4===s&&(this.yr=!1),this.yr!==t&&(this.yr&&this.mr?await this.Nr(this.mr,this.pr,this.Ar):(0,j.Cr)(),this.wr=0)}4===i&&(0===s&&(this.ar=256,(0,j.Zp)(256),this.nr=!0),1===s&&(this.ar=192,(0,j.Zp)(192),this.nr=!0),2===s&&(this.ar=128,(0,j.Zp)(128),this.nr=!0),3===s&&(this.ar=64,(0,j.Zp)(64),this.nr=!0),4===s&&(this.nr=!1)),5===i&&(this.Oh=s),6===i&&(this.Qs=s),8===i&&(this.Js=s,this.ji=!0)}};Yp=(t,i)=>{let s=0;for(let t=0;t<100;t++){if(!this.Xs[t])continue;const h=this.qs[t],e=this.ms+70+4-14*s;if(e<-20)break;0===h&&s++,1!==h&&2!==h||!(1===h||0===this.Ps||1===this.Ps&&this.uu(this.js[t]))||(i>e-14&&i<=e&&this.kn&&this.js[t]!==this.kn.No&&(this.Un&&(this.fs[this.cs]='Report abuse @whi@'+this.js[t],this.Lh[this.cs]=34,this.cs++),this.fs[this.cs]='Add ignore @whi@'+this.js[t],this.Lh[this.cs]=436,this.cs++,this.fs[this.cs]='Add friend @whi@'+this.js[t],this.Lh[this.cs]=406,this.cs++),s++),3!==h&&7!==h||0!==this.Js||!(7===h||0===this.Ds||1===this.Ds&&this.uu(this.js[t]))||(i>e-14&&i<=e&&(this.Un&&(this.fs[this.cs]='Report abuse @whi@'+this.js[t],this.Lh[this.cs]=34,this.cs++),this.fs[this.cs]='Add ignore @whi@'+this.js[t],this.Lh[this.cs]=436,this.cs++,this.fs[this.cs]='Add friend @whi@'+this.js[t],this.Lh[this.cs]=406,this.cs++),s++),4===h&&(0===this.Fs||1===this.Fs&&this.uu(this.js[t]))&&(i>e-14&&i<=e&&(this.fs[this.cs]='Accept trade @whi@'+this.js[t],this.Lh[this.cs]=903,this.cs++),s++),(5===h||6===h)&&0===this.Js&&this.Ds<2&&s++,8===h&&(0===this.Fs||1===this.Fs&&this.uu(this.js[t]))&&(i>e-14&&i<=e&&(this.fs[this.cs]='Accept duel @whi@'+this.js[t],this.Lh[this.cs]=363,this.cs++),s++)}};Vp=t=>{if(0==this.Js)return;let i=0;0!=this.q&&(i=1);for(let s=0;s<100;s++)if(null!=this.Xs[s]){const h=this.qs[s];if((3==h||7==h)&&(7==h||0==this.Ds||1==this.Ds&&this.uu(this.js[s]))){const h=329-13*i;if(this.Vl>8&&this.Vl<520&&t-11>h-10&&t-11<=h+3&&(this.Un&&(this.fs[this.cs]='Report abuse @whi@'+this.js[s],this.Lh[this.cs]=2034,this.cs++),this.fs[this.cs]='Add ignore @whi@'+this.js[s],this.Lh[this.cs]=2436,this.cs++,this.fs[this.cs]='Add friend @whi@'+this.js[s],this.Lh[this.cs]=2406,this.cs++),i++,i>=5)return}if((5==h||6==h)&&this.Ds<2&&(i++,i>=5))return}};zp=(t,i,s,h,e,r)=>{if(0!==t.cl||!t.al||t.gl||i<h||s<e||i>h+t.Yr||s>e+t.Vr||!t.vl||!t.Ol)return;const l=t.al.Pr;for(let o=0;o<l;o++){let l=t.vl[o]+h,a=t.Ol[o]+e-r;const f=c.s.Tr[t.al[o]];if(l+=f.Ll,a+=f.Sl,(f.Xp>=0||0!==f.no)&&i>=l&&s>=a&&i<l+f.Yr&&s<a+f.Vr&&(f.Xp>=0?this.Nh=f.Xp:this.Nh=f.fl),0===f.cl)this.zp(f,i,s,l,a,f.Pl),f.Dl>f.Vr&&this.Rf(i,s,f.Dl,f.Vr,!0,l+f.Yr,a,f);else if(2===f.cl){let t=0;for(let h=0;h<f.Vr;h++)for(let e=0;e<f.Yr;e++){let r=l+e*(f.Wl+32),o=a+h*(f.Zl+32);if(t<20&&f.Ul&&f.Bl&&(r+=f.Ul[t],o+=f.Bl[t]),i<r||s<o||i>=r+32||s>=o+32){t++;continue}if(this.xh=t,this.Mh=f.fl,!f.Gl||f.Gl[t]<=0){t++;continue}const c=n.s.xo(f.Gl[t]-1);if(1===this.fh&&f.jp)f.fl===this.dh&&t===this.uh||(this.fs[this.cs]='Use '+this.yh+' with @lre@'+c.No,this.Lh[this.cs]=881,this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++);else if(1===this.Eh&&f.jp)16==(16&this.bh)&&(this.fs[this.cs]=this.vh+' @lre@'+c.No,this.Lh[this.cs]=391,this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++);else{if(f.jp)for(let i=4;i>=3;i--)c.qp&&c.qp[i]?(this.fs[this.cs]=c.qp[i]+' @lre@'+c.No,3===i?this.Lh[this.cs]=478:4===i&&(this.Lh[this.cs]=347),this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++):4===i&&(this.fs[this.cs]='Drop @lre@'+c.No,this.Lh[this.cs]=347,this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++);if(f.$p&&(this.fs[this.cs]='Use @lre@'+c.No,this.Lh[this.cs]=188,this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++),f.jp&&c.qp)for(let i=2;i>=0;i--)c.qp[i]&&(this.fs[this.cs]=c.qp[i]+' @lre@'+c.No,0===i?this.Lh[this.cs]=405:1===i?this.Lh[this.cs]=38:2===i&&(this.Lh[this.cs]=422),this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++);if(f.qp)for(let i=4;i>=0;i--)f.qp[i]&&(this.fs[this.cs]=f.qp[i]+' @lre@'+c.No,0===i?this.Lh[this.cs]=602:1===i?this.Lh[this.cs]=596:2===i?this.Lh[this.cs]=22:3===i?this.Lh[this.cs]=892:4===i&&(this.Lh[this.cs]=415),this.Sh[this.cs]=c.Qu,this.kh[this.cs]=t,this.Rh[this.cs]=f.fl,this.cs++);this.fs[this.cs]='Examine @lre@'+c.No,this.Lh[this.cs]=1773,this.Sh[this.cs]=c.Qu,f.Hl&&(this.Rh[this.cs]=f.Hl[t]),this.cs++}t++}}else if(i>=l&&s>=a&&i<l+f.Yr&&s<a+f.Vr)if(f.oo===c.s.Kp){let t=!1;0!==f.Ml&&(t=this.Jp(f)),!t&&f.Qp&&(this.fs[this.cs]=f.Qp,this.Lh[this.cs]=951,this.Rh[this.cs]=f.fl,this.cs++)}else if(f.oo===c.s.tA&&0===this.Eh){let t=f.ow;t&&-1!==t.co(' ')&&(t=t.fo(0,t.co(' '))),this.fs[this.cs]=t+' @gre@'+f.aw,this.Lh[this.cs]=930,this.Rh[this.cs]=f.fl,this.cs++}else f.oo===c.s.iA?(this.fs[this.cs]='Close',this.Lh[this.cs]=947,this.Rh[this.cs]=f.fl,this.cs++):f.oo===c.s.sA&&f.Qp?(this.fs[this.cs]=f.Qp,this.Lh[this.cs]=465,this.Rh[this.cs]=f.fl,this.cs++):f.oo===c.s.hA&&f.Qp?(this.fs[this.cs]=f.Qp,this.Lh[this.cs]=960,this.Rh[this.cs]=f.fl,this.cs++):f.oo===c.s.ao&&!this.gh&&f.Qp&&(this.fs[this.cs]=f.Qp,this.Lh[this.cs]=44,this.Rh[this.cs]=f.fl,this.cs++)}};Jp=t=>{let i=t.Ml;return i>=c.s.Fo&&i<=c.s.Go?(i>=c.s.Bo?i-=c.s.Bo:i--,this.fs[this.cs]='Remove @whi@'+this.tr[i],this.Lh[this.cs]=557,this.cs++,this.fs[this.cs]='Message @whi@'+this.tr[i],this.Lh[this.cs]=679,this.cs++,!0):i>=c.s.Wo&&i<=c.s.Zo&&(this.fs[this.cs]='Remove @whi@'+t.eo,this.Lh[this.cs]=556,this.cs++,!0)};eA=()=>{0===this.fh&&0===this.Eh&&(this.fs[this.cs]='Walk here',this.Lh[this.cs]=660,this.kh[this.cs]=this.Vl,this.Rh[this.cs]=this.zl,this.cs++);let t=-1;for(let i=0;i<p.s.qf;i++){const s=p.s.nA[i],h=127&s,r=s>>7&127,l=s>>29&3,o=s>>14&32767;if(s!==t){if(t=s,2===l&&this.Vh&&this.Vh.rd(this.De,h,r,s)>=0){const t=e.s.xo(o);if(1===this.fh)this.fs[this.cs]='Use '+this.yh+' with @cya@'+t.No,this.Lh[this.cs]=450,this.Sh[this.cs]=s,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++;else if(1!==this.Eh){if(t.rA)for(let i=4;i>=0;i--)t.rA[i]&&(this.fs[this.cs]=t.rA[i]+' @cya@'+t.No,0===i&&(this.Lh[this.cs]=285),1===i&&(this.Lh[this.cs]=504),2===i&&(this.Lh[this.cs]=364),3===i&&(this.Lh[this.cs]=581),4===i&&(this.Lh[this.cs]=1501),this.Sh[this.cs]=s,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++);this.fs[this.cs]='Examine @cya@'+t.No,this.Lh[this.cs]=1175,this.Sh[this.cs]=s,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++}else 4==(4&this.bh)&&(this.fs[this.cs]=this.vh+' @cya@'+t.No,this.Lh[this.cs]=55,this.Sh[this.cs]=s,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++)}if(1===l){const t=this.yn[o];if(t&&t.cl&&1===t.cl.lA&&64==(127&t.Ll)&&64==(127&t.Wf))for(let i=0;i<this.mn;i++){const s=this.yn[this.pn[i]];s&&s!==t&&s.cl&&1===s.cl.lA&&s.Ll===t.Ll&&s.Wf===t.Wf&&this.oA(s.cl,this.pn[i],h,r)}t&&t.cl&&this.oA(t.cl,o,h,r)}if(0===l){const t=this.ln[o];if(t&&64==(127&t.Ll)&&64==(127&t.Wf)){for(let i=0;i<this.mn;i++){const s=this.yn[this.pn[i]];s&&s.cl&&1===s.cl.lA&&s.Ll===t.Ll&&s.Wf===t.Wf&&this.oA(s.cl,this.pn[i],h,r)}for(let i=0;i<this.on;i++){const s=this.ln[this.an[i]];s&&s!==t&&s.Ll===t.Ll&&s.Wf===t.Wf&&this.aA(s,this.an[i],h,r)}}t&&this.aA(t,o,h,r)}if(3===l){const t=this.Cn[this.De][h][r];if(!t)continue;for(let i=t.cA();i;i=t.fA()){const t=n.s.xo(i.Qu);if(1===this.fh)this.fs[this.cs]='Use '+this.yh+' with @lre@'+t.No,this.Lh[this.cs]=217,this.Sh[this.cs]=i.Qu,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++;else if(1!==this.Eh){for(let s=4;s>=0;s--)t.rA&&t.rA[s]?(this.fs[this.cs]=t.rA[s]+' @lre@'+t.No,0===s&&(this.Lh[this.cs]=224),1===s&&(this.Lh[this.cs]=993),2===s&&(this.Lh[this.cs]=99),3===s&&(this.Lh[this.cs]=746),4===s&&(this.Lh[this.cs]=877),this.Sh[this.cs]=i.Qu,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++):2===s&&(this.fs[this.cs]='Take @lre@'+t.No,this.Lh[this.cs]=99,this.Sh[this.cs]=i.Qu,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++);this.fs[this.cs]='Examine @lre@'+t.No,this.Lh[this.cs]=1102,this.Sh[this.cs]=i.Qu,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++}else 1==(1&this.bh)&&(this.fs[this.cs]=this.vh+' @lre@'+t.No,this.Lh[this.cs]=965,this.Sh[this.cs]=i.Qu,this.kh[this.cs]=h,this.Rh[this.cs]=r,this.cs++)}}}}};oA=(t,i,s,h)=>{if(this.cs>=400)return;let e=t.No;if(0!==t.uA&&this.kn&&(e=e+this.dA(this.kn.pa,t.uA)+' (level-'+t.uA+')'),1===this.fh)this.fs[this.cs]='Use '+this.yh+' with @yel@'+e,this.Lh[this.cs]=900,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++;else if(1!==this.Eh){let n;if(t.rA)for(n=4;n>=0;n--)t.rA[n]&&'attack'!==t.rA[n]?.Cd()&&(this.fs[this.cs]=t.rA[n]+' @yel@'+e,0===n?this.Lh[this.cs]=728:1===n?this.Lh[this.cs]=542:2===n?this.Lh[this.cs]=6:3===n?this.Lh[this.cs]=963:4===n&&(this.Lh[this.cs]=245),this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++);if(t.rA)for(n=4;n>=0;n--)if(t.rA[n]&&'attack'===t.rA[n]?.Cd()){let r=0;this.kn&&t.uA>this.kn.pa&&(r=2e3),this.fs[this.cs]=t.rA[n]+' @yel@'+e,0===n?this.Lh[this.cs]=r+728:1===n?this.Lh[this.cs]=r+542:2===n?this.Lh[this.cs]=r+6:3===n?this.Lh[this.cs]=r+963:4===n&&(this.Lh[this.cs]=r+245),this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++}this.fs[this.cs]='Examine @yel@'+e,this.Lh[this.cs]=1607,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++}else 2==(2&this.bh)&&(this.fs[this.cs]=this.vh+' @yel@'+e,this.Lh[this.cs]=265,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++)};aA=(t,i,s,h)=>{if(t===this.kn||this.cs>=400)return;let e=null;this.kn&&(e=t.No+this.dA(this.kn.pa,t.pa)+' (level-'+t.pa+')'),1===this.fh?(this.fs[this.cs]='Use '+this.yh+' with @whi@'+e,this.Lh[this.cs]=367,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++):1!==this.Eh?(this.fs[this.cs]='Follow @whi@'+e,this.Lh[this.cs]=1544,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++,0===this.hs&&(this.fs[this.cs]='Trade with @whi@'+e,this.Lh[this.cs]=1373,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++),this.Dn>0&&(this.fs[this.cs]='Attack @whi@'+e,this.kn&&this.kn.pa>=t.pa?this.Lh[this.cs]=151:this.Lh[this.cs]=2151,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++),1===this.Fn&&(this.fs[this.cs]='Fight @whi@'+e,this.Lh[this.cs]=151,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++),2===this.Fn&&(this.fs[this.cs]='Duel-with @whi@'+e,this.Lh[this.cs]=1101,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++)):8==(8&this.bh)&&(this.fs[this.cs]=this.vh+' @whi@'+e,this.Lh[this.cs]=651,this.Sh[this.cs]=i,this.kh[this.cs]=s,this.Rh[this.cs]=h,this.cs++);for(let t=0;t<this.cs;t++)if(660===this.Lh[t])return void(this.fs[t]='Walk here @whi@'+e)};dA=(t,i)=>{const s=t-i;return s<-9?'@red@':s<-6?'@or3@':s<-3?'@or2@':s<0?'@or1@':s>9?'@gre@':s>6?'@gr3@':s>3?'@gr2@':s>0?'@gr1@':'@yel@'};lf=()=>{if(0===this.rh){this.fs[0]='Cancel',this.Lh[0]=1252,this.cs=1,this.Vp(this.zl),this.Nh=0,this.Vl>8&&this.zl>11&&this.Vl<520&&this.zl<345&&(-1===this.Ki?this.eA():this.zp(c.s.Tr[this.Ki],this.Vl,this.zl,8,11,0)),this.Nh!==this.ih&&(this.ih=this.Nh),this.Nh=0,this.Vl>562&&this.zl>231&&this.Vl<752&&this.zl<492&&(-1!==this.us?this.zp(c.s.Tr[this.us],this.Vl,this.zl,562,231,0):-1!==this.Ns[this.xs]&&this.zp(c.s.Tr[this.Ns[this.xs]],this.Vl,this.zl,562,231,0)),this.Nh!==this.sh&&(this.Xi=!0,this.sh=this.Nh),this.Nh=0,this.Vl>22&&this.zl>375&&this.Vl<431&&this.zl<471&&(-1===this.ds?this.Yp(this.Vl-22,this.zl-375):this.zp(c.s.Tr[this.ds],this.Vl,this.zl,22,375,0)),-1!==this.ds&&this.Nh!==this.hh&&(this.ji=!0,this.hh=this.Nh);let t=!1;for(;!t;){t=!0;for(let i=0;i<this.cs-1;i++)if(this.Lh[i]<1e3&&this.Lh[i+1]>1e3){const s=this.fs[i];this.fs[i]=this.fs[i+1],this.fs[i+1]=s;const h=this.Lh[i];this.Lh[i]=this.Lh[i+1],this.Lh[i+1]=h;const e=this.kh[i];this.kh[i]=this.kh[i+1],this.kh[i+1]=e;const n=this.Rh[i];this.Rh[i]=this.Rh[i+1],this.Rh[i+1]=n;const r=this.Sh[i];this.Sh[i]=this.Sh[i+1],this.Sh[i+1]=r,t=!1}}}};cf=()=>{let t=0;if(this.Et){let i;t=this.Et.du('Choose Option');for(let s=0;s<this.cs;s++)i=this.Et.du(this.fs[s]),i>t&&(t=i)}t+=8;const i=15*this.cs+21;let s,h;this.Ec>8&&this.Tc>11&&this.Ec<520&&this.Tc<345&&(s=this.Ec-(t/2|0)-8,s+t>512?s=512-t:s<0&&(s=0),h=this.Tc-11,h+i>334?h=334-i:h<0&&(h=0),this.es=!0,this.ns=0,this.rs=s,this.ls=h,this.os=t,this.as=15*this.cs+22),this.Ec>562&&this.Tc>231&&this.Ec<752&&this.Tc<492&&(s=this.Ec-(t/2|0)-562,s<0?s=0:s+t>190&&(s=190-t),h=this.Tc-231,h<0?h=0:h+i>261&&(h=261-i),this.es=!0,this.ns=1,this.rs=s,this.ls=h,this.os=t,this.as=15*this.cs+22),this.Ec>22&&this.Tc>375&&this.Ec<501&&this.Tc<471&&(s=this.Ec-(t/2|0)-22,s<0?s=0:s+t>479&&(s=479-t),h=this.Tc-375,h<0?h=0:h+i>96&&(h=96-i),this.es=!0,this.ns=2,this.rs=s,this.ls=h,this.os=t,this.as=15*this.cs+22)};mf=(t,i,s,h,e,n,r,l,o,a,c)=>{const f=this.Ne[this.De];if(!f)return!1;const u=G.s.je,d=G.s.je;for(let t=0;t<u;t++)for(let i=0;i<d;i++){const s=G.s.Qu(t,i);this.On[s]=0,this.Ln[s]=99999999}let w=t,y=i;const m=G.s.Qu(t,i);this.On[m]=99,this.Ln[m]=0;let p=0,A=0;this.bn[p]=t,this.vn[p++]=i;let I=!1,g=this.bn.Pr;const _=f.Ju;for(;A!==p;){if(w=this.bn[A],y=this.vn[A],A=(A+1)%g,w===s&&y===h){I=!0;break}if(o!==D.s.od){if((o<D.s.wA||o===D.s.$w)&&f.yA(w,y,s,h,o-1,l)){I=!0;break}if(o<D.s.$w&&f.mA(w,y,s,h,o-1,l)){I=!0;break}}if(0!==n&&0!==r&&f.pA(w,y,s,h,n,r,a)){I=!0;break}const t=this.Ln[G.s.Qu(w,y)]+1;let i=G.s.Qu(w-1,y);w>0&&0===this.On[i]&&(_[i]&H.s.td)===H.s.id&&(this.bn[p]=w-1,this.vn[p]=y,p=(p+1)%g,this.On[i]=2,this.Ln[i]=t),i=G.s.Qu(w+1,y),w<u-1&&0===this.On[i]&&(_[i]&H.s.sd)===H.s.id&&(this.bn[p]=w+1,this.vn[p]=y,p=(p+1)%g,this.On[i]=8,this.Ln[i]=t),i=G.s.Qu(w,y-1),y>0&&0===this.On[i]&&(_[i]&H.s.hd)===H.s.id&&(this.bn[p]=w,this.vn[p]=y-1,p=(p+1)%g,this.On[i]=1,this.Ln[i]=t),i=G.s.Qu(w,y+1),y<d-1&&0===this.On[i]&&(_[i]&H.s.ed)===H.s.id&&(this.bn[p]=w,this.vn[p]=y+1,p=(p+1)%g,this.On[i]=4,this.Ln[i]=t),i=G.s.Qu(w-1,y-1),w>0&&y>0&&0===this.On[i]&&0==(_[i]&H.s.AA)&&(_[G.s.Qu(w-1,y)]&H.s.td)===H.s.id&&(_[G.s.Qu(w,y-1)]&H.s.hd)===H.s.id&&(this.bn[p]=w-1,this.vn[p]=y-1,p=(p+1)%g,this.On[i]=3,this.Ln[i]=t),i=G.s.Qu(w+1,y-1),w<u-1&&y>0&&0===this.On[i]&&0==(_[i]&H.s.IA)&&(_[G.s.Qu(w+1,y)]&H.s.sd)===H.s.id&&(_[G.s.Qu(w,y-1)]&H.s.hd)===H.s.id&&(this.bn[p]=w+1,this.vn[p]=y-1,p=(p+1)%g,this.On[i]=9,this.Ln[i]=t),i=G.s.Qu(w-1,y+1),w>0&&y<d-1&&0===this.On[i]&&0==(_[i]&H.s.gA)&&(_[G.s.Qu(w-1,y)]&H.s.td)===H.s.id&&(_[G.s.Qu(w,y+1)]&H.s.ed)===H.s.id&&(this.bn[p]=w-1,this.vn[p]=y+1,p=(p+1)%g,this.On[i]=6,this.Ln[i]=t),i=G.s.Qu(w+1,y+1),w<u-1&&y<d-1&&0===this.On[i]&&0==(_[i]&H.s._A)&&(_[G.s.Qu(w+1,y)]&H.s.sd)===H.s.id&&(_[G.s.Qu(w,y+1)]&H.s.ed)===H.s.id&&(this.bn[p]=w+1,this.vn[p]=y+1,p=(p+1)%g,this.On[i]=12,this.Ln[i]=t)}if(this.Sn=0,!I){if(c){let t=100;for(let i=1;i<2;i++){for(let e=s-i;e<=s+i;e++)for(let s=h-i;s<=h+i;s++){const i=G.s.Qu(e,s);e>=0&&s>=0&&e<G.s.je&&s<G.s.je&&this.Ln[i]<t&&(t=this.Ln[i],w=e,y=s,this.Sn=1,I=!0)}if(I)break}}if(!I)return!1}A=0,this.bn[A]=w,this.vn[A++]=y;let C=this.On[G.s.Qu(w,y)],E=C;for(;w!==t||y!==i;)E!==C&&(C=E,this.bn[A]=w,this.vn[A++]=y),0!=(2&E)?w++:0!=(8&E)&&w--,0!=(1&E)?y++:0!=(4&E)&&y--,E=this.On[G.s.Qu(w,y)];if(A>0){g=Math.min(A,25),A--;const t=this.bn[A],i=this.vn[A];0===e?(this.Y.qc(b.s.CA),this.Y.Dc(g+g+3)):1===e?(this.Y.qc(b.s.EA),this.Y.Dc(g+g+3+14)):2===e&&(this.Y.qc(b.s.TA),this.Y.Dc(g+g+3)),1===this.ef[5]?this.Y.Dc(1):this.Y.Dc(0),this.Y.Kc(t+this.ve),this.Y.Kc(i+this.Oe),this.qh=this.bn[0],this.$h=this.vn[0];for(let s=1;s<g;s++)A--,this.Y.Dc(this.bn[A]-t),this.Y.Dc(this.vn[A]-i);return!0}return 1!==e};vp=(t,i)=>{this.fn=0,this.cn=0,this.bA(t),this.vA(t),this.OA(t,i),this.LA(t);for(let t=0;t<this.fn;t++){const i=this.dn[t],s=this.ln[i];s&&(s.Xf!==this.U&&(this.ln[i]=null))}if(t.Nc!==i)throw new Error(`eek! Error packet size mismatch in getplayer pos:${t.Nc} psize:${i}`);for(let t=0;t<this.on;t++)if(!this.ln[this.an[t]])throw new Error(`eek! ${this.It} null entry in pl list - pos:${t} size:${this.on}`)};bA=t=>{t.SA();if(0!==t.kA(1)){const i=t.kA(2);if(0===i)this.un[this.cn++]=this.M;else if(1===i){const i=t.kA(3);this.kn?.RA(!1,i);1===t.kA(1)&&(this.un[this.cn++]=this.M)}else if(2===i){const i=t.kA(3);this.kn?.RA(!0,i);const s=t.kA(3);this.kn?.RA(!0,s);1===t.kA(1)&&(this.un[this.cn++]=this.M)}else if(3===i){this.De=t.kA(2);const i=t.kA(7),s=t.kA(7),h=t.kA(1);this.kn?.MA(1===h,i,s);1===t.kA(1)&&(this.un[this.cn++]=this.M)}}};vA=t=>{const i=t.kA(8);if(i<this.on)for(let t=i;t<this.on;t++)this.dn[this.fn++]=this.an[t];if(i>this.on)throw new Error(`eek! ${this.It} Too many players`);this.on=0;for(let s=0;s<i;s++){const i=this.an[s],h=this.ln[i];if(0===t.kA(1))this.an[this.on++]=i,h&&(h.Xf=this.U);else{const s=t.kA(2);if(0===s)this.an[this.on++]=i,h&&(h.Xf=this.U),this.un[this.cn++]=i;else if(1===s){this.an[this.on++]=i,h&&(h.Xf=this.U);const s=t.kA(3);h?.RA(!1,s);1===t.kA(1)&&(this.un[this.cn++]=i)}else if(2===s){this.an[this.on++]=i,h&&(h.Xf=this.U);const s=t.kA(3);h?.RA(!0,s);const e=t.kA(3);h?.RA(!0,e);1===t.kA(1)&&(this.un[this.cn++]=i)}else 3===s&&(this.dn[this.fn++]=i)}}};OA=(t,i)=>{let s;for(;t.xA+10<8*i&&(s=t.kA(11),2047!==s);){if(!this.ln[s]){this.ln[s]=new W.s;const t=this.wn[s];t&&this.ln[s]?.Ur(t)}this.an[this.on++]=s;const i=this.ln[s];i&&(i.Xf=this.U);let h=t.kA(5);h>15&&(h-=32);let e=t.kA(5);e>15&&(e-=32);const n=t.kA(1);this.kn&&i?.MA(1===n,this.kn.pf[0]+h,this.kn.Af[0]+e);1===t.kA(1)&&(this.un[this.cn++]=s)}t.NA()};LA=t=>{for(let i=0;i<this.cn;i++){const s=this.un[i],h=this.ln[s];if(!h)continue;let e=t.Yy;128==(128&e)&&(e+=t.Yy<<8),this.PA(h,s,e,t)}};PA=(t,i,s,e)=>{if(t.DA=s,t.FA=this.U,1==(1&s)){const s=e.Yy,h=new Uint8Array(s),n=new I.s(h);e.Em(s,0,h),this.wn[i]=n,t.Ur(n)}if(2==(2&s)){let i=e.Gy;65535===i&&(i=-1),i===t.wp&&(t.UA=0);const s=e.Yy;(-1===i||-1===t.wp||h.s.Tr[i].BA>h.s.Tr[t.wp].BA||0===h.s.Tr[t.wp].BA)&&(t.wp=i,t.GA=0,t.HA=0,t.WA=s,t.UA=0)}if(4==(4&s)&&(t.ZA=e.Gy,65535===t.ZA&&(t.ZA=-1)),8==(8&s)&&(t.fu=e.sm,t.wu=0,t.yu=0,t.mu=150,t.No&&this.bd(2,t.fu,t.No)),16==(16&s)&&(t.Cu=e.Yy,t.gu=e.Yy,t.pu=this.U+400,t.Au=e.Yy,t.Iu=e.Yy),32==(32&s)&&(t.YA=e.Gy,t.VA=e.Gy,t.zA=t.YA,t.XA=t.VA),64==(64&s)){const i=e.Gy,s=e.Yy,h=e.Yy,n=e.Nc;if(t.No){const n=R.s.Yu(t.No);let r=!1;if(s<=1)for(let t=0;t<this.ps;t++)if(this.As[t]===n){r=!0;break}if(!r&&0===this.hs)try{const n=O.s.za(e,h),r=v.s.ey(n);t.fu=r,t.wu=i>>8,t.yu=255&i,t.mu=150,s>1?this.bd(1,r,t.No):this.bd(2,r,t.No)}catch(t){}}e.Nc=n+h}if(256==(256&s)){t.jA=e.Gy;const i=e.Fr;t.qA=i>>16,t.$A=this.U+(65535&i),t.KA=0,t.JA=0,t.$A>this.U&&(t.KA=-1),65535===t.jA&&(t.jA=-1)}512==(512&s)&&(t.QA=e.Yy,t.tI=e.Yy,t.iI=e.Yy,t.sI=e.Yy,t.hI=e.Gy+this.U,t.eI=e.Gy+this.U,t.nI=e.Yy,t.rI=0,t.pf[0]=t.iI,t.Af[0]=t.sI)};jy=(t,i)=>{this.fn=0,this.cn=0,this.lI(t),this.oI(t,i),this.aI(t);for(let t=0;t<this.fn;t++){const i=this.dn[t],s=this.yn[i];s&&(s.Xf!==this.U&&(s.cl=null,this.yn[i]=null))}if(t.Nc!==i)throw new Error(`eek! ${this.It} size mismatch in getnpcpos - pos:${t.Nc} psize:${i}`);for(let t=0;t<this.mn;t++)if(!this.yn[this.pn[t]])throw new Error(`eek! ${this.It} null entry in npc list - pos:${t} size:${this.mn}`)};lI=t=>{t.SA();const i=t.kA(8);if(i<this.mn)for(let t=i;t<this.mn;t++)this.dn[this.fn++]=this.pn[t];if(i>this.mn)throw new Error(`eek! ${this.It} Too many npc!`);this.mn=0;for(let s=0;s<i;s++){const i=this.pn[s],h=this.yn[i];if(0===t.kA(1))this.pn[this.mn++]=i,h&&(h.Xf=this.U);else{const s=t.kA(2);if(0===s)this.pn[this.mn++]=i,h&&(h.Xf=this.U),this.un[this.cn++]=i;else if(1===s){this.pn[this.mn++]=i,h&&(h.Xf=this.U);const s=t.kA(3);h?.RA(!1,s);1===t.kA(1)&&(this.un[this.cn++]=i)}else if(2===s){this.pn[this.mn++]=i,h&&(h.Xf=this.U);const s=t.kA(3);h?.RA(!0,s);const e=t.kA(3);h?.RA(!0,e);1===t.kA(1)&&(this.un[this.cn++]=i)}else 3===s&&(this.dn[this.fn++]=i)}}};oI=(t,i)=>{for(;t.xA+21<8*i;){const i=t.kA(13);if(8191===i)break;this.yn[i]||(this.yn[i]=new Z.s);const s=this.yn[i];this.pn[this.mn++]=i,s?(s.Xf=this.U,s.cl=r.s.xo(t.kA(11)),s.lA=s.cl.lA,s.cI=s.cl.fI,s.uI=s.cl.dI,s.wI=s.cl.yI,s.mI=s.cl.pI,s.Jo=s.cl.AI):t.kA(11);let h=t.kA(5);h>15&&(h-=32);let e=t.kA(5);e>15&&(e-=32),this.kn&&s?.MA(!1,this.kn.pf[0]+h,this.kn.Af[0]+e);1===t.kA(1)&&(this.un[this.cn++]=i)}t.NA()};aI=t=>{for(let i=0;i<this.cn;i++){const s=this.un[i],e=this.yn[s];if(!e)continue;const n=t.Yy;if(e.DA=n,e.FA=this.U,2==(2&n)){let i=t.Gy;65535===i&&(i=-1),i===e.wp&&(e.UA=0);const s=t.Yy;(-1===i||-1===e.wp||h.s.Tr[i].BA>h.s.Tr[e.wp].BA||0===h.s.Tr[e.wp].BA)&&(e.wp=i,e.GA=0,e.HA=0,e.WA=s,e.UA=0)}if(4==(4&n)&&(e.ZA=t.Gy,65535===e.ZA&&(e.ZA=-1)),8==(8&n)&&(e.fu=t.sm,e.mu=100),16==(16&n)&&(e.Cu=t.Yy,e.gu=t.Yy,e.pu=this.U+400,e.Au=t.Yy,e.Iu=t.Yy),32==(32&n)&&(e.cl=r.s.xo(t.Gy),e.cI=e.cl.fI,e.uI=e.cl.dI,e.wI=e.cl.yI,e.mI=e.cl.pI,e.Jo=e.cl.AI),64==(64&n)){e.jA=t.Gy;const i=t.Fr;e.qA=i>>16,e.$A=this.U+(65535&i),e.KA=0,e.JA=0,e.$A>this.U&&(e.KA=-1),65535===e.jA&&(e.jA=-1)}128==(128&n)&&(e.YA=t.Gy,e.VA=t.Gy,e.zA=e.YA,e.XA=e.VA)}};tf=()=>{for(let t=-1;t<this.on;t++){let i;i=-1===t?this.M:this.an[t];const s=this.ln[i];s&&this.II(s)}if(K.i.v++,K.i.v>1406){K.i.v=0,this.Y.qc(b.s.gI),this.Y.Dc(0);const t=this.Y.Nc;this.Y.Dc(162),this.Y.Dc(22),0==(2*Math.Ha()|0)&&this.Y.Dc(84),this.Y.Kc(31824),this.Y.Kc(13490),0==(2*Math.Ha()|0)&&this.Y.Dc(123),0==(2*Math.Ha()|0)&&this.Y.Dc(134),this.Y.Dc(100),this.Y.Dc(94),this.Y.Kc(35521),this.Y.Yf(this.Y.Nc-t)}};II=t=>{(t.Ll<128||t.Wf<128||t.Ll>=13184||t.Wf>=13184)&&(t.wp=-1,t.jA=-1,t.hI=0,t.eI=0,t.Ll=128*t.pf[0]+64*t.lA,t.Wf=128*t.Af[0]+64*t.lA,t.rI=0),t===this.kn&&(t.Ll<1536||t.Wf<1536||t.Ll>=11776||t.Wf>=11776)&&(t.wp=-1,t.jA=-1,t.hI=0,t.eI=0,t.Ll=128*t.pf[0]+64*t.lA,t.Wf=128*t.Af[0]+64*t.lA,t.rI=0),t.hI>this.U?this._I(t):t.eI>=this.U?this.CI(t):this.EI(t),this.TI(t),this.bI(t)};Pf=()=>{if(this.kn){this.kn.Ll>>7===this.qh&&this.kn.Wf>>7===this.$h&&(this.qh=0);for(let t=-1;t<this.on;t++){let i,s;if(-1===t?(i=this.kn,s=this.M<<14):(i=this.ln[this.an[t]],s=this.an[t]<<14),!i||!i.au())continue;i.l=(K.i.l&&this.on>50||this.on>200)&&-1!==t&&i.vI===i.Jo;const h=i.Ll>>7,e=i.Wf>>7;if(!(h<0||h>=G.s.je||e<0||e>=G.s.je))if(!i.OI||this.U<i.LI||this.U>=i.SI){if(64==(127&i.Ll)&&64==(127&i.Wf)){if(this.ze[h][e]===this.jh)continue;this.ze[h][e]=this.jh}i.Sl=this.Hf(this.De,i.Ll,i.Wf),this.Vh?.kI(this.De,i.Ll,i.Sl,i.Wf,null,i,s,i.RI,60,i.MI)}else i.l=!1,i.Sl=this.Hf(this.De,i.Ll,i.Wf),this.Vh?.xI(this.De,i.Ll,i.Sl,i.Wf,i.NI,i.PI,i.DI,i.FI,null,i,s,i.RI)}}};if=()=>{for(let t=0;t<this.mn;t++){const i=this.pn[t],s=this.yn[i];s&&s.cl&&this.II(s)}};Df=()=>{for(let t=0;t<this.mn;t++){const i=this.yn[this.pn[t]],s=536870912+(this.pn[t]<<14)|0;if(!i||!i.au())continue;const h=i.Ll>>7,e=i.Wf>>7;if(!(h<0||h>=G.s.je||e<0||e>=G.s.je)){if(1===i.lA&&64==(127&i.Ll)&&64==(127&i.Wf)){if(this.ze[h][e]===this.jh)continue;this.ze[h][e]=this.jh}this.Vh?.kI(this.De,i.Ll,this.Hf(this.De,i.Ll,i.Wf),i.Wf,null,i,s,i.RI,64*(i.lA-1)+60,i.MI)}}};Ff=()=>{for(let t=this.An.yy();t;t=this.An.my())if(t.UI!==this.De||this.U>t.BI)t.Ky();else if(this.U>=t.GI){if(t.HI>0){const i=this.yn[t.HI-1];i&&t.WI(i.Ll,this.Hf(t.UI,i.Ll,i.Wf)-t.ZI,i.Wf,this.U)}if(t.HI<0){const i=-t.HI-1;let s;s=i===this.xn?this.kn:this.ln[i],s&&t.WI(s.Ll,this.Hf(t.UI,s.Ll,s.Wf)-t.ZI,s.Wf,this.U)}t.Qa(this.Xh),this.Vh?.kI(this.De,0|t.Ll,0|t.Sl,0|t.Wf,null,t,-1,t.RI,60,!1)}};Uf=()=>{for(let t=this.In.yy();t;t=this.In.my())t.UI!==this.De||t.YI?t.Ky():this.U>=t.GI&&(t.Qa(this.Xh),t.YI?t.Ky():this.Vh?.kI(t.UI,t.Ll,t.Sl,t.Wf,null,t,-1,0,60,!1))};Bf=()=>{for(let t=this.gn.yy();t;t=this.gn.my()){let i=!1;if(t.wl+=this.Xh,-1===t.ml&&(t.ml=0,i=!0),t.VI.yl)for(;t.wl>t.VI.yl[t.ml];)if(t.wl-=t.VI.yl[t.ml]+1,t.ml++,i=!0,t.ml>=t.VI.pl&&(t.ml-=t.VI.Al,t.ml<0||t.ml>=t.VI.pl)){t.Ky(),i=!1;break}if(i&&this.Vh){const i=t.Fp,s=t.Pp,h=t.Dp;let n=0;if(0===t.zI?n=this.Vh.nd(i,s,h):1===t.zI?n=this.Vh.Ty(i,h,s):2===t.zI?n=this.Vh.yd(i,s,h):3===t.zI&&(n=this.Vh.$u(i,s,h)),this.Ye&&0!==n&&(n>>14&32767)===t.Qu){const r=this.Ye[i][s][h],l=this.Ye[i][s+1][h],o=this.Ye[i][s+1][h+1],a=this.Ye[i][s][h+1],c=e.s.xo(t.Qu);let f=-1;if(-1!==t.ml&&t.VI.Lo&&(f=t.VI.Lo[t.ml]),2===t.zI){const t=this.Vh.rd(i,s,h,n);let e=31&t;const u=t>>6;e===D.s.Kw&&(e=D.s.$w),this.Vh?.XI(i,s,h,c.Oo(e,u,r,l,o,a,f))}else if(1===t.zI)this.Vh?.jI(i,s,h,c.Oo(D.s.qI,0,r,l,o,a,f));else if(0===t.zI){const t=this.Vh.rd(i,s,h,n),e=31&t,u=t>>6;if(e===D.s.ad){const t=u+1&3;this.Vh?.$I(s,h,i,c.Oo(D.s.ad,u+4,r,l,o,a,f),c.Oo(D.s.ad,t,r,l,o,a,f))}else this.Vh?.KI(i,s,h,c.Oo(e,u,r,l,o,a,f))}else if(3===t.zI){const t=this.Vh.rd(i,s,h,n)>>6;this.Vh?.JI(i,s,h,c.Oo(D.s.Jw,t,r,l,o,a,f))}}else t.Ky()}}};sf=()=>{for(let t=-1;t<this.on;t++){let i;i=-1===t?this.M:this.an[t];const s=this.ln[i];s&&s.mu>0&&(s.mu--,0===s.mu&&(s.fu=null))}for(let t=0;t<this.mn;t++){const i=this.pn[t],s=this.yn[i];s&&s.mu>0&&(s.mu--,0===s.mu&&(s.fu=null))}};hf=()=>{if(2===this.zh){for(let t=this._n.yy();t;t=this._n.my())this.U>=t.BI&&(this._y(t.jm,t.Ll,t.Wf,t.Up,t.Bp,t.Gp,t.gd),t.Ky());K.i.L++,K.i.L>85&&(K.i.L=0,this.Y.qc(b.s.QI))}};_I=t=>{const i=t.hI-this.U,s=128*t.QA+64*t.lA,h=128*t.tI+64*t.lA;t.Ll+=(s-t.Ll)/i|0,t.Wf+=(h-t.Wf)/i|0,t.tg=0,0==t.nI&&(t.ig=1024),1==t.nI&&(t.ig=1536),2==t.nI&&(t.ig=0),3==t.nI&&(t.ig=512)};CI=t=>{if(t.eI==this.U||-1==t.wp||0!=t.WA||t.HA+1>h.s.Tr[t.wp].yl[t.GA]){const i=t.eI-t.hI,s=this.U-t.hI,h=128*t.QA+64*t.lA,e=128*t.tI+64*t.lA,n=128*t.iI+64*t.lA,r=128*t.sI+64*t.lA;t.Ll=(h*(i-s)+n*s)/i|0,t.Wf=(e*(i-s)+r*s)/i|0}t.tg=0,0==t.nI&&(t.ig=1024),1==t.nI&&(t.ig=1536),2==t.nI&&(t.ig=0),3==t.nI&&(t.ig=512),t.RI=t.ig};TI=t=>{if(-1!==t.ZA&&t.ZA<32768){const i=this.yn[t.ZA];if(i){const s=t.Ll-i.Ll,h=t.Wf-i.Wf;0===s&&0===h||(t.ig=2047&(325.949*Math.atan2(s,h)|0))}}if(t.ZA>=32768){let i=t.ZA-32768;i===this.xn&&(i=this.M);const s=this.ln[i];if(s){const i=t.Ll-s.Ll,h=t.Wf-s.Wf;0===i&&0===h||(t.ig=2047&(325.949*Math.atan2(i,h)|0))}}if((0!==t.YA||0!==t.VA)&&(0===t.rI||t.tg>0)){const i=t.Ll-64*(t.YA-this.ve-this.ve),s=t.Wf-64*(t.VA-this.Oe-this.Oe);0===i&&0===s||(t.ig=2047&(325.949*Math.atan2(i,s)|0)),t.YA=0,t.VA=0}const i=t.ig-t.RI&2047;if(0!==i&&(i<32||i>2016?t.RI=t.ig:i>1024?t.RI-=32:t.RI+=32,t.RI&=2047,t.vI===t.Jo&&t.RI!==t.ig)){if(-1!==t.sg)return void(t.vI=t.sg);t.vI=t.cI}};bI=t=>{let i;if(t.MI=!1,-1!==t.vI&&(i=h.s.Tr[t.vI],t.hg++,i.yl&&t.eg<i.pl&&t.hg>i.yl[t.eg]&&(t.hg=0,t.eg++),t.eg>=i.pl&&(t.hg=0,t.eg=0)),-1!==t.wp&&0===t.WA){for(i=h.s.Tr[t.wp],t.HA++;i.yl&&t.GA<i.pl&&t.HA>i.yl[t.GA];)t.HA-=i.yl[t.GA],t.GA++;t.GA>=i.pl&&(t.GA-=i.Al,t.UA++,t.UA>=i.ng&&(t.wp=-1),(t.GA<0||t.GA>=i.pl)&&(t.wp=-1)),t.MI=i.rg}if(t.WA>0&&t.WA--,-1!==t.jA&&this.U>=t.$A){for(t.KA<0&&(t.KA=0),i=o.s.Tr[t.jA].VI,t.JA++;i&&i.yl&&t.KA<i.pl&&t.JA>i.yl[t.KA];)t.JA-=i.yl[t.KA],t.KA++;i&&t.KA>=i.pl&&(t.KA<0||t.KA>=i.pl)&&(t.jA=-1)}};EI=t=>{if(t.vI=t.Jo,0===t.rI)return void(t.tg=0);if(-1!==t.wp&&0===t.WA){if(!h.s.Tr[t.wp].lg)return void t.tg++}const i=t.Ll,s=t.Wf,e=128*t.pf[t.rI-1]+64*t.lA,n=128*t.Af[t.rI-1]+64*t.lA;if(e-i<=256&&e-i>=-256&&n-s<=256&&n-s>=-256){t.ig=i<e?s<n?1280:s>n?1792:1536:i>e?s<n?768:s>n?256:512:s<n?1024:0;let h=t.ig-t.RI&2047;h>1024&&(h-=2048);let r=t.uI;h>=-256&&h<=256?r=t.cI:h>=256&&h<768?r=t.mI:h>=-768&&h<=-256&&(r=t.wI),-1===r&&(r=t.cI),t.vI=r;let l=4;t.RI!==t.ig&&-1===t.ZA&&(l=2),t.rI>2&&(l=6),t.rI>3&&(l=8),t.tg>0&&t.rI>1&&(l=8,t.tg--),t.og[t.rI-1]&&(l<<=1),l>=8&&t.vI===t.cI&&-1!==t.ag&&(t.vI=t.ag),i<e?(t.Ll+=l,t.Ll>e&&(t.Ll=e)):i>e&&(t.Ll-=l,t.Ll<e&&(t.Ll=e)),s<n?(t.Wf+=l,t.Wf>n&&(t.Wf=n)):s>n&&(t.Wf-=l,t.Wf<n&&(t.Wf=n)),t.Ll===e&&t.Wf===n&&t.rI--}else t.Ll=e,t.Wf=n};zf=()=>{let t=3;if(this.de<310&&this.kn){let i=this.ce>>7,s=this.ue>>7;const h=this.kn.Ll>>7,e=this.kn.Wf>>7;let n,r,l,o;if(this.Ve&&0!=(4&this.Ve[this.De][i][s])&&(t=this.De),n=h>i?h-i:i-h,r=e>s?e-s:s-e,n>r)for(l=65536*r/n|0,o=32768;i!==h;)i<h?i++:i>h&&i--,this.Ve&&0!=(4&this.Ve[this.De][i][s])&&(t=this.De),o+=l,o>=65536&&(o-=65536,s<e?s++:s>e&&s--,this.Ve&&0!=(4&this.Ve[this.De][i][s])&&(t=this.De));else for(l=65536*n/r|0,o=32768;s!==e;)s<e?s++:s>e&&s--,this.Ve&&0!=(4&this.Ve[this.De][i][s])&&(t=this.De),o+=l,o>=65536&&(o-=65536,i<h?i++:i>h&&i--,this.Ve&&0!=(4&this.Ve[this.De][i][s])&&(t=this.De))}return this.kn&&this.Ve&&0!=(4&this.Ve[this.De][this.kn.Ll>>7][this.kn.Wf>>7])&&(t=this.De),t};Vf=()=>{if(!this.Ve)return 0;return this.Hf(this.De,this.ce,this.ue)-this.fe>=800||0==(4&this.Ve[this.De][this.ce>>7][this.ue>>7])?3:this.De};Hf=(t,i,s)=>{if(!this.Ye)return 0;const h=Math.min(i>>7,G.s.je-1),e=Math.min(s>>7,G.s.je-1);let n=t;t<3&&this.Ve&&2==(2&this.Ve[1][h][e])&&(n=t+1);const r=127&i,l=127&s;return(this.Ye[n][h][e]*(128-r)+this.Ye[n][h+1][e]*r>>7)*(128-l)+(this.Ye[n][h][e+1]*(128-r)+this.Ye[n][h+1][e+1]*r>>7)*l>>7};Gf=(t,i,s,h,e,n)=>{const r=2048-e&2047,l=2048-h&2047;let o,a,c,f=0,u=0,w=n;0!==r&&(o=d.s.Eo[r],a=d.s.vo[r],c=u*a-n*o>>16,w=u*o+n*a>>16,u=c),0!==l&&(o=d.s.Eo[l],a=d.s.vo[l],c=w*o+f*a>>16,w=w*a-f*o>>16,f=c),this.ce=t-f,this.fe=i-u,this.ue=s-w,this.de=e,this.we=h};Ef=()=>{if(!this.kn)return;const t=this.kn.Ll+this.Qh,i=this.kn.Wf+this.te;(this.We-t<-500||this.We-t>500||this.Ze-i<-500||this.Ze-i>500)&&(this.We=t,this.Ze=i),this.We!==t&&(this.We+=(t-this.We)/16|0),this.Ze!==i&&(this.Ze+=(i-this.Ze)/16|0),1===this.ef[1]?this.Ge+=(-this.Ge-24)/2|0:1===this.ef[2]?this.Ge+=(24-this.Ge)/2|0:this.Ge=this.Ge/2|0,1===this.ef[3]?this.He+=(12-this.He)/2|0:1===this.ef[4]?this.He+=(-this.He-12)/2|0:this.He=this.He/2|0,this.Be=2047&(this.Be+this.Ge/2|0),this.Ue+=this.He/2|0,this.Ue<128&&(this.Ue=128),this.Ue>383&&(this.Ue=383);const s=this.We>>7,h=this.Ze>>7,e=this.Hf(this.De,this.We,this.Ze);let n=0;if(this.Ye&&s>3&&h>3&&s<100&&h<100)for(let t=s-4;t<=s+4;t++)for(let i=h-4;i<=h+4;i++){let s=this.De;s<3&&this.Ve&&2==(2&this.Ve[1][t][i])&&s++;const h=e-this.Ye[s][t][i];h>n&&(n=h)}let r=192*n;r>98048&&(r=98048),r<32768&&(r=32768),r>this.ye?this.ye+=(r-this.ye)/24|0:r<this.ye&&(this.ye+=(r-this.ye)/80|0)};Tf=()=>{let t=128*this.sn+64,i=128*this.hn+64,s=this.Hf(this.De,this.sn,this.hn)-this.en;this.ce<t&&(this.ce+=this.nn+((t-this.ce)*this.rn/1e3|0),this.ce>t&&(this.ce=t)),this.ce>t&&(this.ce-=this.nn+((this.ce-t)*this.rn/1e3|0),this.ce<t&&(this.ce=t)),this.fe<s&&(this.fe+=this.nn+((s-this.fe)*this.rn/1e3|0),this.fe>s&&(this.fe=s)),this.fe>s&&(this.fe-=this.nn+((this.fe-s)*this.rn/1e3|0),this.fe<s&&(this.fe=s)),this.ue<i&&(this.ue+=this.nn+((i-this.ue)*this.rn/1e3|0),this.ue>i&&(this.ue=i)),this.ue>i&&(this.ue-=this.nn+((this.ue-i)*this.rn/1e3|0),this.ue<i&&(this.ue=i)),t=128*this.Ke+64,i=128*this.Je+64,s=this.Hf(this.De,this.Ke,this.Je)-this.Qe;const h=t-this.ce,e=s-this.fe,n=i-this.ue,r=0|Math.sqrt(h*h+n*n);let l=2047&(325.949*Math.atan2(e,r)|0);const o=2047&(-325.949*Math.atan2(h,n)|0);l<128&&(l=128),l>383&&(l=383),this.de<l&&(this.de+=this.tn+((l-this.de)*this.in/1e3|0),this.de>l&&(this.de=l)),this.de>l&&(this.de-=this.tn+((this.de-l)*this.in/1e3|0),this.de<l&&(this.de=l));let a=o-this.we;a>1024&&(a-=2048),a<-1024&&(a+=2048),a>0&&(this.we+=this.tn+(a*this.in/1e3|0),this.we&=2047),a<0&&(this.we-=this.tn+(-a*this.in/1e3|0),this.we&=2047);let c=o-this.we;c>1024&&(c-=2048),c<-1024&&(c+=2048),(c<0&&a>0||c>0&&a<0)&&(this.we=o)};pm=(t,i)=>{const s=t.Yy;let n=this.Ce+(s>>4&7),r=this.Ee+(7&s);if(i===T.s.mm||i===T.s.ym){const s=t.Yy,h=s>>2,e=3&s,l=D.cg.gd(h);let o;if(o=i===T.s.ym?-1:t.Gy,n>=0&&r>=0&&n<G.s.je&&r<G.s.je){let t=null;for(let i=this.Tn.yy();i;i=this.Tn.my())if(i.jm===this.De&&i.Ll===n&&i.Wf===r&&i.gd===l){t=i;break}if(!t&&this.Vh){let i=0,s=-1,h=0,e=0;if(l===P.s.Cy?i=this.Vh.nd(this.De,n,r):l===P.s.Ey?i=this.Vh.Ty(this.De,r,n):l===P.s.by?i=this.Vh.yd(this.De,n,r):l===P.s.Jw&&(i=this.Vh.$u(this.De,n,r)),0!==i){const t=this.Vh.rd(this.De,n,r,i);s=i>>14&32767,h=31&t,e=t>>6}t=new U.s(this.De,l,n,r,0,F.s.cd,D.s.od,s,e,h),this.Tn.fg(t)}t&&(t.Up=o,t.Gp=h,t.Bp=e),this._y(this.De,n,r,o,e,h,l)}}else if(i===T.s.wm){const i=t.Yy>>2,s=D.cg.gd(i),e=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je&&this.Vh){let t=0;if(s===P.s.Cy?t=this.Vh.nd(this.De,n,r):s===P.s.Ey?t=this.Vh.Ty(this.De,r,n):s===P.s.by?t=this.Vh.yd(this.De,n,r):s===P.s.Jw&&(t=this.Vh.$u(this.De,n,r)),0!==t){const i=new V.s(t>>14&32767,this.De,s,n,r,h.s.Tr[e],!1);this.gn.fg(i)}}}else if(i===T.s.dm){const i=t.Gy,s=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je){const t=new Y.s(i,s);this.Cn[this.De][n][r]||(this.Cn[this.De][n][r]=new k.s),this.Cn[this.De][n][r]?.fg(t),this.dy(n,r)}}else if(i===T.s.um){const i=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je){const t=this.Cn[this.De][n][r];if(t){for(let s=t.yy();s;s=t.my())if(s.Qu===(32767&i)){s.Ky();break}t.yy()||(this.Cn[this.De][n][r]=null),this.dy(n,r)}}}else if(i===T.s.fm){let i=n+t.Wy,s=r+t.Wy;const h=t.Vm,e=t.Gy,l=t.Yy,o=t.Yy,a=t.Gy,c=t.Gy,f=t.Yy,u=t.Yy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je&&i>=0&&s>=0&&i<G.s.je&&s<G.s.je){n=128*n+64,r=128*r+64,i=128*i+64,s=128*s+64;const t=new z.s(e,this.De,n,this.Hf(this.De,n,r)-l,r,a+this.U,c+this.U,f,u,h,o);t.WI(i,this.Hf(this.De,i,s)-o,s,a+this.U),this.An.fg(t)}}else if(i===T.s.cm){const i=t.Gy,s=t.Yy,h=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je){n=128*n+64,r=128*r+64;const t=new X.s(i,this.De,n,r,this.Hf(this.De,n,r)-s,this.U,h);this.In.fg(t)}}else if(i===T.s.am){const i=t.Gy,s=t.Gy,h=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je&&h!==this.xn){const t=new Y.s(i,s);this.Cn[this.De][n][r]||(this.Cn[this.De][n][r]=new k.s),this.Cn[this.De][n][r]?.fg(t),this.dy(n,r)}}else if(i===T.s.om){const i=t.Yy,s=i>>2,h=3&i,l=D.cg.gd(s),o=t.Gy,a=t.Gy,c=t.Gy,f=t.Gy;let u,d=t.Wy,w=t.Wy,y=t.Wy,m=t.Wy;if(u=f===this.xn?this.kn:this.ln[f],u&&this.Ye){const t=new B.s(this.De,l,n,r,-1,h,s,a+this.U);this._n.fg(t);const i=new B.s(this.De,l,n,r,o,h,s,c+this.U);this._n.fg(i);const f=this.Ye[this.De][n][r],p=this.Ye[this.De][n+1][r],A=this.Ye[this.De][n+1][r+1],I=this.Ye[this.De][n][r+1],g=e.s.xo(o);u.LI=a+this.U,u.SI=c+this.U,u.OI=g.Oo(s,h,f,p,A,I,-1);let _,C=g.Yr,E=g.Pr;h!==F.s.fd&&h!==F.s.dd||(C=g.Pr,E=g.Yr),u.ug=128*n+64*C,u.dg=128*r+64*E,u.wg=this.Hf(this.De,u.ug,u.dg),d>y&&(_=d,d=y,y=_),w>m&&(_=w,w=m,m=_),u.NI=n+d,u.DI=n+y,u.PI=r+w,u.FI=r+m}}else if(i===T.s.lm){const i=t.Gy,s=t.Gy,h=t.Gy;if(n>=0&&r>=0&&n<G.s.je&&r<G.s.je){const t=this.Cn[this.De][n][r];if(t){for(let e=t.yy();e;e=t.my())if(e.Qu===(32767&i)&&e.Gw===s){e.Gw=h;break}this.dy(n,r)}}}};tu=t=>{if(!K.i.l){if(d.s.yg[17]>=t){const t=d.s.mg[17];if(!t)return;const i=t.Yr*t.Vr-1,s=t.Yr*this.Xh*2,h=t.Xa,e=this.xe;for(let t=0;t<=i;t++)e[t]=h[t-s&i];t.Xa=e,this.xe=h,d.s.pg(17)}if(d.s.yg[24]>=t){const t=d.s.mg[24];if(!t)return;const i=t.Yr*t.Vr-1,s=t.Yr*this.Xh*2,h=t.Xa,e=this.xe;for(let t=0;t<=i;t++)e[t]=h[t-s&i];t.Xa=e,this.xe=h,d.s.pg(24)}}};cc=()=>{if(!(this.Rt&&this.Mt&&this.kt&&this.Ft))return;for(let t=10;t<117;t++){(100*Math.Ha()|0)<50&&(this.Rt[t+32512]=255)}for(let t=0;t<100;t++){const t=2+(124*Math.Ha()|0)+(128+(128*Math.Ha()|0)<<7);this.Rt[t]=192}for(let t=1;t<255;t++)for(let i=1;i<127;i++){const s=i+(t<<7);this.Mt[s]=(this.Rt[s-1]+this.Rt[s+1]+this.Rt[s-128]+this.Rt[s+128])/4|0}this.Ut+=128,this.Ut>this.kt.Pr&&(this.Ut-=this.kt.Pr,this.wc(this.bt[12*Math.Ha()|0]));for(let t=1;t<255;t++)for(let i=1;i<127;i++){const s=i+(t<<7);let h=this.Mt[s+128]-(this.kt[s+this.Ut&this.kt.Pr-1]/5|0);h<0&&(h=0),this.Rt[s]=h}for(let t=0;t<255;t++)this.Ft[t]=this.Ft[t+1];if(this.Ft[255]=16*Math.Eo(this.U/14)+14*Math.Eo(this.U/15)+12*Math.Eo(this.U/16)|0,this.Bt>0&&(this.Bt-=4),this.Gt>0&&(this.Gt-=4),0===this.Bt&&0===this.Gt){const t=2e3*Math.Ha()|0;0===t?this.Bt=1024:1===t&&(this.Gt=1024)}};Ag=(t,i,s)=>{const h=256-i;return((16711935&t)*h+(16711935&s)*i&4278255360)+((65280&t)*h+(65280&s)*i&16711680)>>8};fc=()=>{if(!(this.xt&&this.Nt&&this.Pt&&this.Dt&&this.Ft&&this.Rt))return;const t=256;if(this.Bt>0)for(let t=0;t<256;t++)this.Bt>768?this.xt[t]=this.Ag(this.Nt[t],1024-this.Bt,this.Pt[t]):this.Bt>256?this.xt[t]=this.Pt[t]:this.xt[t]=this.Ag(this.Pt[t],256-this.Bt,this.Nt[t]);else if(this.Gt>0)for(let t=0;t<256;t++)this.Gt>768?this.xt[t]=this.Ag(this.Nt[t],1024-this.Gt,this.Dt[t]):this.Gt>256?this.xt[t]=this.Dt[t]:this.xt[t]=this.Ag(this.Dt[t],256-this.Gt,this.Nt[t]);else for(let t=0;t<256;t++)this.xt[t]=this.Nt[t];for(let t=0;t<33920;t++)this.at&&this.Ot&&(this.at.Xa[t]=this.Ot.Xa[t]);let i=0,s=1152;for(let h=1;h<255;h++){let e=(this.Ft[h]*(t-h)/t|0)+22;e<0&&(e=0),i+=e;for(let t=e;t<128;t++){let t=this.Rt[i++];if(0===t)s++;else{const i=t,h=256-t;if(t=this.xt[t],this.at){const e=this.at.Xa[s];this.at.Xa[s++]=((16711935&t)*i+(16711935&e)*h&4278255360)+((65280&t)*i+(65280&e)*h&16711680)>>8}}}s+=e}this.at?.il(0,0);for(let t=0;t<33920;t++)this.ct&&this.Lt&&(this.ct.Xa[t]=this.Lt.Xa[t]);i=0,s=1176;for(let h=1;h<255;h++){const e=this.Ft[h]*(t-h)/t|0,n=103-e;s+=e;for(let t=0;t<n;t++){let t=this.Rt[i++];if(0===t)s++;else{const i=t,h=256-t;if(t=this.xt[t],this.ct){const e=this.ct.Xa[s];this.ct.Xa[s++]=((16711935&t)*i+(16711935&e)*h&4278255360)+((65280&t)*i+(65280&e)*h&16711680)>>8}}}i+=128-n,s+=128-n-e}this.ct?.il(661,0)}}console.log(`RS2 user client - release #${K.i.h}`),await(0,it.Aa)(),(new t).Ig()._c((()=>{})),i()}catch(t){i(t)}}),1)},1995:(t,i,s)=>{s.t(i,{s:()=>a});var h=s(651),e=s(8078),n=s(1519),r=s(9839),l=s(6884),o=s(6121);class a{static Ca(t){return new URLSearchParams(window.location.search).xo(t)??''}static Ea(t,i){const s=new URL(window.location._u());s._g.gg(t,i),window.Cg.pushState(null,'',s._u())}Ru=0;Eg=[];Tg=0;vr=null;bg=0;vg=20;Og=1;Lg=[];Ou=0;Sg=0;kg=[];Rg=!0;Mg=!1;Zc=0;rf=0;Vl=0;zl=0;Cc=0;Ec=0;Tc=0;ef=[];xg=[];Ng=0;Pg=0;Dg(t=!1){o.Wr.Hr='black',o.Wr.Zr(0,0,o.Fg.Yr,o.Fg.Vr),this.Mg=t,this.Mg?this.Ug(window.innerWidth,window.innerHeight):this.Ug(o.Fg.Yr,o.Fg.Vr)}get Yr(){return o.Fg.Yr}get Vr(){return o.Fg.Vr}Ug(t,i){o.Fg.Yr=t,o.Fg.Vr=i,this.vr=new h.s(t,i),e.s.Bg()}async Ig(){window.Gg('resize',(()=>{this.Mg&&this.Ug(window.innerWidth,window.innerHeight)}),!1),window.Gg('keydown',this.Hg),window.Gg('keyup',this.Wg),window.Gg('mousedown',this.Zg),window.Gg('mouseup',this.Yg),window.Gg('mouseenter',this.Vg),window.Gg('mouseleave',this.zg),window.Gg('mousemove',this.Xg),window.Gg('focusin',this.jg),window.Gg('focusout',this.qg),window.Gg('beforeunload',this.gr),o.Fg.$g=t=>{t.Kg()},await this.kr(0,'Loading...'),await this.ka();for(let t=0;t<10;t++)this.Lg[t]=Date.now();let t,i=0,s=256,h=1,e=0;for(;this.bg>=0;){if(this.bg>0&&(this.bg--,0===this.bg))return void this.Jg();const r=s,l=h;s=300,h=1,t=Date.now();const o=this.Lg[i];if(0===o?(s=r,h=l):t>o&&(s=2560*this.vg/(t-o)|0),s<25?s=25:s>256&&(s=256,h=this.vg-(t-o)/10|0),this.Lg[i]=t,i=(i+1)%10,h>1)for(let t=0;t<10;t++)0!==this.Lg[t]&&(this.Lg[t]+=h);for(h<this.Og&&(h=this.Og),await(0,n.Mr)(h);e<256;)await this.Qa(),this.Cc=0,this.Ng=this.Pg,e+=s;e&=255,this.vg>0&&(this.Ou=1e3*s/(256*this.vg)|0);const a=performance.now();this.Rg&&this.ec(),await this.il(),this.kg[this.Sg]=(performance.now()-a)/1e3,this.Sg=(this.Sg+1)%this.kg.Pr}-1===this.bg&&this.Jg()}Jg(){this.bg=-2,this.gr()}zr(t){this.vg=1e3/t|0}Qg(){this.bg>=0&&(this.bg=0)}bm(){this.bg>=0&&(this.bg=4e3/this.vg|0)}t_(){this.bg=-1}async ka(){}async Qa(){}gr(){}async il(){}ec(){}async kr(t,i){const s=this.Yr,h=this.Vr;this.Rg&&(o.Wr.Hr='black',o.Wr.Zr(0,0,s,h),this.Rg=!1);const e=h/2-18;o.Wr.Hr='rgb(140, 17, 17)',o.Wr.i_((s/2|0)-152,e,304,34),o.Wr.Zr((s/2|0)-150,e+2,3*t,30),o.Wr.Hr='black',o.Wr.Zr((s/2|0)-150+3*t,e+2,300-3*t,30),o.Wr.Xr='bold 13px helvetica, sans-serif',o.Wr.jr='center',o.Wr.Hr='white',o.Wr.qr(i,s/2|0,e+22),await(0,n.Mr)(5)}Hg=t=>{const i=t.s_;r.e_.h_(i)&&t.Kg(),this.Zc=0;const s=r.n_[i];if(!s)return void console.Ja(`Unhandled key ${i}`);const h=s.s_;let e=s.r_;e<30&&(e=0),37===h?e=1:39===h?e=2:38===h?e=3:40===h?e=4:17===h?e=5:8===h||127===h?e=8:9===h?e=9:10===h?e=10:h>=112&&h<=123?e=h+1008-112:36===h?e=1e3:35===h?e=1001:33===h?e=1002:34===h&&(e=1003),e>0&&e<128&&(this.ef[e]=1),e>4&&(this.xg[this.Pg]=e,this.Pg=this.Pg+1&127),l.s.l_&&l.s.Hg(e)};Wg=t=>{const i=t.s_;r.e_.h_(i)&&t.Kg(),this.Zc=0;const s=r.n_[i];if(!s)return void console.Ja(`Unhandled key ${i}`);const h=s.s_;let e=s.r_;e<30&&(e=0),37===h?e=1:39===h?e=2:38===h?e=3:40===h?e=4:17===h?e=5:8===h||127===h?e=8:9===h?e=9:10===h?e=10:h>=112&&h<=123?e=h+1008-112:36===h?e=1e3:35===h?e=1001:33===h?e=1002:34===h&&(e=1003),e>0&&e<128&&(this.ef[e]=0),l.s.l_&&l.s.Wg(e)};vc(){let t=-1;return this.Pg!==this.Ng&&(t=this.xg[this.Ng],this.Ng=this.Ng+1&127),t}Zg=t=>{let i=t.Ll,s=t.Sl;const{Cl:h,_l:e}=this.o_;i-=e,s-=h;const n=o.Fg.a_();i*=o.Fg.Yr/n.Yr,s*=o.Fg.Vr/n.Vr,i|=0,s|=0,this.Zc=0,this.Ec=i,this.Tc=s,2===t.c_?(this.Cc=2,this.rf=2):1===t.c_&&(this.Cc=1,this.rf=1),l.s.l_};Yg=t=>{this.Zc=0,this.rf=0,l.s.l_};Vg=t=>{l.s.l_&&l.s.Vg()};zg=t=>{l.s.l_&&l.s.zg()};Xg=t=>{let i=t.Ll,s=t.Sl;const{Cl:h,_l:e}=this.o_;i-=e,s-=h;const n=o.Fg.a_();i*=o.Fg.Yr/n.Yr,s*=o.Fg.Vr/n.Vr,i|=0,s|=0,this.Zc=0,this.Vl=i,this.zl=s,l.s.l_&&l.s.Xg(i,s)};jg=t=>{this.Rg=!0,this.ec(),l.s.l_&&l.s.jg()};qg=t=>{l.s.l_&&l.s.qg()};get Su(){const t=this.kg.Pr;let i=0;for(let s=0;s<t;s++)i+=this.kg[s];const s=i/t;return s>this.Ru&&(this.Ru=s),this.Eg[this.Tg]=s,this.Tg=(this.Tg+1)%250,s}get ku(){return this.Eg.f_(((t,i)=>t+i),0)/250}get o_(){const t=o.Fg.a_(),i=window.getComputedStyle(o.Fg),s=parseFloat(i.u_||'0'),h=parseFloat(i.d_||'0'),e=parseFloat(i.w_||'0'),n=parseFloat(i.y_||'0'),r=t._l+e+s;return{Cl:t.Cl+n+h,_l:r}}}},6884:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(2383);class e{static l_=!1;static m_=null;static p_=null;static A_=0;static I_=0;static g_=0;static __=0;static C_=0;static Lm=()=>{this.m_=h.s.Z(1),this.p_=null,this.A_=Date.now(),this.l_=!0};static Wc=()=>{this.l_=!1,this.m_=null};static jc=()=>{let t=null;return this.p_&&this.l_&&(t=this.p_),this.p_=null,t};static bm=()=>{let t=null;return this.m_&&this.m_.Nc>0&&this.l_&&(t=this.m_),this.Wc(),t};static Zg=(t,i,s)=>{if(!(this.l_&&t>=0&&t<789&&i>=0&&i<532))return;this.I_++;const h=Date.now();let e=(h-this.A_)/10|0;e>250&&(e=250),this.A_=h,this.E_(5),1===s?this.m_?.Dc(1):this.m_?.Dc(2),this.m_?.Dc(e),this.m_?.df(t+(i<<10))};static Yg=t=>{if(!this.l_)return;this.I_++;const i=Date.now();let s=(i-this.A_)/10|0;s>250&&(s=250),this.A_=i,this.E_(2),1===t?this.m_?.Dc(3):this.m_?.Dc(4),this.m_?.Dc(s)};static Xg=(t,i)=>{if(!(this.l_&&t>=0&&t<789&&i>=0&&i<532))return;const s=Date.now();if(s-this.g_>=50){this.g_=s,this.I_++;let h=(s-this.A_)/10|0;h>250&&(h=250),this.A_=s,t-this.__<8&&t-this.__>=-8&&i-this.C_<8&&i-this.C_>=-8?(this.E_(3),this.m_?.Dc(5),this.m_?.Dc(h),this.m_?.Dc(t+(i-this.C_+8<<4)+8-this.__)):t-this.__<128&&t-this.__>=-128&&i-this.C_<128&&i-this.C_>=-128?(this.E_(4),this.m_?.Dc(6),this.m_?.Dc(h),this.m_?.Dc(t+128-this.__),this.m_?.Dc(i+128-this.C_)):(this.E_(5),this.m_?.Dc(7),this.m_?.Dc(h),this.m_?.df(t+(i<<10))),this.__=t,this.C_=i}};static Hg=t=>{if(!this.l_)return;this.I_++;const i=Date.now();let s=(i-this.A_)/10|0;s>250&&(s=250),this.A_=i,1e3===t?t=11:1001===t?t=12:1002===t?t=14:1003===t?t=15:t>=1008&&(t-=992),this.E_(3),this.m_?.Dc(8),this.m_?.Dc(s),this.m_?.Dc(t)};static Wg=t=>{if(!this.l_)return;this.I_++;const i=Date.now();let s=(i-this.A_)/10|0;s>250&&(s=250),this.A_=i,1e3===t?t=11:1001===t?t=12:1002===t?t=14:1003===t?t=15:t>=1008&&(t-=992),this.E_(3),this.m_?.Dc(9),this.m_?.Dc(s),this.m_?.Dc(t)};static jg=()=>{if(!this.l_)return;this.I_++;const t=Date.now();let i=(t-this.A_)/10|0;i>250&&(i=250),this.A_=t,this.E_(2),this.m_?.Dc(10),this.m_?.Dc(i)};static qg=()=>{if(!this.l_)return;this.I_++;const t=Date.now();let i=(t-this.A_)/10|0;i>250&&(i=250),this.A_=t,this.E_(2),this.m_?.Dc(11),this.m_?.Dc(i)};static Vg=()=>{if(!this.l_)return;this.I_++;const t=Date.now();let i=(t-this.A_)/10|0;i>250&&(i=250),this.A_=t,this.E_(2),this.m_?.Dc(12),this.m_?.Dc(i)};static zg=()=>{if(!this.l_)return;this.I_++;const t=Date.now();let i=(t-this.A_)/10|0;i>250&&(i=250),this.A_=t,this.E_(2),this.m_?.Dc(13),this.m_?.Dc(i)};static E_=t=>{if(this.m_&&this.m_.Nc+t>=500){const t=this.m_;this.m_=h.s.Z(1),this.p_=t}}}},9839:(t,i,s)=>{s.t(i,{n_:()=>h,e_:()=>e});const h={T_:{s_:8,r_:8},b_:{s_:10,r_:10},v_:{s_:16,r_:65535},O_:{s_:27,r_:27},L_:{s_:9,r_:9},S_:{s_:20,r_:65535},k_:{s_:32,r_:32},R_:{s_:17,r_:65535},M_:{s_:18,r_:65535},x_:{s_:524,r_:65535},N_:{s_:37,r_:65535},P_:{s_:39,r_:65535},D_:{s_:38,r_:65535},F_:{s_:40,r_:65535},U_:{s_:155,r_:65535},B_:{s_:36,r_:65535},G_:{s_:33,r_:65535},H_:{s_:127,r_:127},W_:{s_:35,r_:65535},Z_:{s_:34,r_:65535},Y_:{s_:192,r_:96},V_:{s_:192,r_:126},z_:{s_:49,r_:33},X_:{s_:50,r_:64},j_:{s_:51,r_:35},q_:{s_:52,r_:36},$_:{s_:53,r_:37},K_:{s_:54,r_:94},J_:{s_:55,r_:38},Q_:{s_:56,r_:42},tC:{s_:57,r_:40},iC:{s_:48,r_:41},sC:{s_:45,r_:45},hC:{s_:45,r_:95},eC:{s_:61,r_:61},nC:{s_:61,r_:43},rC:{s_:91,r_:91},lC:{s_:91,r_:123},oC:{s_:93,r_:93},aC:{s_:93,r_:125},cC:{s_:92,r_:92},fC:{s_:92,r_:124},uC:{s_:59,r_:59},dC:{s_:59,r_:58},wC:{s_:222,r_:39},yC:{s_:222,r_:34},mC:{s_:44,r_:44},pC:{s_:44,r_:60},AC:{s_:46,r_:46},IC:{s_:46,r_:62},gC:{s_:47,r_:47},_C:{s_:47,r_:63},CC:{s_:112,r_:65535},EC:{s_:113,r_:65535},TC:{s_:114,r_:65535},bC:{s_:115,r_:65535},vC:{s_:116,r_:65535},OC:{s_:117,r_:65535},LC:{s_:118,r_:65535},SC:{s_:119,r_:65535},kC:{s_:120,r_:65535},RC:{s_:121,r_:65535},MC:{s_:122,r_:65535},xC:{s_:123,r_:65535},0:{s_:48,r_:48},1:{s_:49,r_:49},2:{s_:50,r_:50},3:{s_:51,r_:51},4:{s_:52,r_:52},5:{s_:53,r_:53},6:{s_:54,r_:54},7:{s_:55,r_:55},8:{s_:56,r_:56},9:{s_:57,r_:57},Sa:{s_:65,r_:97},NC:{s_:66,r_:98},PC:{s_:67,r_:99},t:{s_:68,r_:100},DC:{s_:69,r_:101},FC:{s_:70,r_:102},UC:{s_:71,r_:103},BC:{s_:72,r_:104},GC:{s_:73,r_:105},HC:{s_:74,r_:106},WC:{s_:75,r_:107},ZC:{s_:76,r_:108},cg:{s_:77,r_:109},n_:{s_:78,r_:110},YC:{s_:79,r_:111},VC:{s_:80,r_:112},zC:{s_:81,r_:113},XC:{s_:82,r_:114},jC:{s_:83,r_:115},qC:{s_:84,r_:116},$C:{s_:85,r_:117},e_:{s_:86,r_:118},KC:{s_:87,r_:119},Ll:{s_:88,r_:120},Sl:{s_:89,r_:121},Wf:{s_:90,r_:122},JC:{s_:65,r_:65},QC:{s_:66,r_:66},tE:{s_:67,r_:67},iE:{s_:68,r_:68},sE:{s_:69,r_:69},hE:{s_:70,r_:70},eE:{s_:71,r_:71},nE:{s_:72,r_:72},rE:{s_:73,r_:73},lE:{s_:74,r_:74},i:{s_:75,r_:75},oE:{s_:76,r_:76},aE:{s_:77,r_:77},cE:{s_:78,r_:78},Aa:{s_:79,r_:79},fE:{s_:80,r_:80},uE:{s_:81,r_:81},dE:{s_:82,r_:82},wE:{s_:83,r_:83},yE:{s_:84,r_:84},mE:{s_:85,r_:85},pE:{s_:86,r_:86},AE:{s_:87,r_:87},IE:{s_:88,r_:88},gE:{s_:89,r_:89},s:{s_:90,r_:90}},e=['Tab','F1','F2','F3','F4','F5','F6','F7','F8','F9','F10','ArrowLeft','ArrowRight','ArrowUp','ArrowDown']},2790:(t,i,s)=>{s.t(i,{s:()=>c});var h=s(2383),e=s(9178),n=s(5542),r=s(6542),l=s(8934),o=s(9345),a=s(2991);class c{static Tr=[];static _E=null;static br=null;static Nl=0;static CE=1;static Fl=2;static to=3;static ho=4;static po=5;static go=6;static Mo=7;static Kp=1;static tA=2;static iA=3;static sA=4;static hA=5;static ao=6;static Fo=1;static Uo=100;static Bo=101;static Go=200;static xw=201;static Nw=202;static Ho=203;static Pw=205;static Uw=300;static EE=301;static TE=302;static bE=303;static vE=304;static OE=305;static LE=306;static SE=307;static kE=308;static RE=309;static ME=310;static xE=311;static NE=312;static Bw=313;static Ww=314;static PE=315;static DE=316;static FE=317;static UE=318;static BE=319;static GE=320;static HE=321;static WE=322;static Zw=323;static ha=324;static ea=325;static Yw=326;static Xo=327;static Wo=401;static Zo=500;static Dw=501;static Fw=502;static zo=503;static na=600;static zw=601;static ZE=602;static YE=603;static VE=604;static zE=605;static XE=606;static jE=607;static qE=608;static $E=609;static KE=610;static JE=611;static Xw=612;static ra=613;static oa=650;static fa=651;static da=652;static wa=653;static ya=654;static aa=655;static za=(t,i,s)=>{this._E=new n.s(5e4),this.br=new n.s(5e4);const e=new h.s(t.Ur('data'));let r=-1;for(e.Nc+=2;e.Nc<e.xc.Pr;){let t=e.Gy;65535===t&&(r=e.Gy,t=e.Gy);const h=this.Tr[t]=new c;h.fl=t,h.gd=r,h.cl=e.Yy,h.oo=e.Yy,h.Ml=e.Gy,h.Yr=e.Gy,h.Vr=e.Gy,h.Xp=e.Yy,0===h.Xp?h.Xp=-1:h.Xp=(h.Xp-1<<8)+e.Yy;const n=e.Yy;if(n>0){h.Kr=new Uint8Array(n),h.Qr=new Uint16Array(n);for(let t=0;t<n;t++)h.Kr[t]=e.Yy,h.Qr[t]=e.Gy}const l=e.Yy;if(l>0){h.ma=new o.Ii(l,null);for(let t=0;t<l;t++){const i=e.Gy,s=new Uint16Array(i);h.ma[t]=s;for(let t=0;t<i;t++)s[t]=e.Gy}}if(h.cl===c.Nl){h.Dl=e.Gy,h.gl=1===e.Yy;const t=e.Yy;h.al=new Array(t),h.vl=new Array(t),h.Ol=new Array(t);for(let i=0;i<t;i++)h.al[i]=e.Gy,h.vl[i]=e.Vm,h.Ol[i]=e.Vm}if(h.cl===c.CE&&(e.Nc+=3),h.cl===c.Fl){h.Gl=new Int32Array(h.Yr*h.Vr),h.Hl=new Int32Array(h.Yr*h.Vr),h.Id=1===e.Yy,h.jp=1===e.Yy,h.$p=1===e.Yy,h.Wl=e.Yy,h.Zl=e.Yy,h.Ul=new Int16Array(20),h.Bl=new Int16Array(20),h.Ql=new o.Ii(20,null);for(let t=0;t<20;t++)if(1===e.Yy){h.Ul[t]=e.Vm,h.Bl[t]=e.Vm;const s=e.sm;if(s.Pr>0){const e=s.QE(',');h.Ql[t]=this.tT(i,s.fo(0,e),parseInt(s.fo(e+1),10))}}h.qp=new o.Ii(5,null);for(let t=0;t<5;t++){const i=e.sm;h.qp[t]=i,0===i.Pr&&(h.qp[t]=null)}}if(h.cl===c.to&&(h.io=1===e.Yy),h.cl===c.ho||h.cl===c.CE){h.do=1===e.Yy;const t=e.Yy;s&&(h.Xr=s[t]),h.yo=1===e.Yy}if(h.cl===c.ho&&(h.eo=e.sm,h.lo=e.sm),h.cl!==c.CE&&h.cl!==c.to&&h.cl!==c.ho||(h.so=e.Fr),h.cl!==c.to&&h.cl!==c.ho||(h.ro=e.Fr,h.no=e.Fr),h.cl===c.po){const t=e.sm;if(t.Pr>0){const s=t.QE(',');h.Io=this.tT(i,t.fo(0,s),parseInt(t.fo(s+1),10))}const s=e.sm;if(s.Pr>0){const t=s.QE(',');h.Ao=this.tT(i,s.fo(0,t),parseInt(s.fo(t+1),10))}}if(h.cl===c.go){const t=e.Yy;0!==t&&(h.sa=this.Oo((t-1<<8)+e.Yy));const i=e.Yy;0!==i&&(h.iT=this.Oo((i-1<<8)+e.Yy)),h.ul=e.Yy,0===h.ul?h.ul=-1:h.ul=(h.ul-1<<8)+e.Yy,h.dl=e.Yy,0===h.dl?h.dl=-1:h.dl=(h.dl-1<<8)+e.Yy,h.bo=e.Gy,h.To=e.Gy,h.Ro=e.Gy}if(h.cl===c.Mo){h.Gl=new Int32Array(h.Yr*h.Vr),h.Hl=new Int32Array(h.Yr*h.Vr),h.do=1===e.Yy;const t=e.Yy;s&&(h.Xr=s[t]),h.yo=1===e.Yy,h.so=e.Fr,h.Wl=e.Vm,h.Zl=e.Vm,h.jp=1===e.Yy,h.qp=new o.Ii(5,null);for(let t=0;t<5;t++){const i=e.sm;h.qp[t]=i,0===i.Pr&&(h.qp[t]=null)}}h.oo!==c.tA&&h.cl!==c.Fl||(h.ow=e.sm,h.aw=e.sm,h.lw=e.Gy),h.oo!==c.Kp&&h.oo!==c.sA&&h.oo!==c.hA&&h.oo!==c.ao||(h.Qp=e.sm,0===h.Qp.Pr&&(h.oo===c.Kp?h.Qp='Ok':h.oo===c.sA||h.oo===c.hA?h.Qp='Select':h.oo===c.ao&&(h.Qp='Continue')))}this._E=null,this.br=null};static tT=(t,i,s)=>{const h=l.s.sT(i)<<8n|BigInt(s);if(this._E){const t=this._E.xo(h);if(t)return t}let e;try{e=r.s.xa(t,i,s),this._E?.hT(h,e)}catch(t){return null}return e};static Oo=t=>{if(this.br){const i=this.br.xo(BigInt(t));if(i)return i}const i=e.s.sa(t);return this.br?.hT(BigInt(t),i),i};fl=-1;gd=-1;cl=-1;oo=-1;Ml=0;Yr=0;Vr=0;Xp=-1;Kr=null;Qr=null;ma=null;Dl=0;gl=!1;Id=!1;jp=!1;$p=!1;Wl=0;Zl=0;Ul=null;Bl=null;Ql=null;qp=null;io=!1;do=!1;Xr=null;yo=!1;eo=null;lo=null;so=0;ro=0;no=0;Io=null;Ao=null;sa=null;iT=null;ul=-1;dl=-1;bo=0;To=0;Ro=0;ow=null;aw=null;lw=-1;Qp=null;al=null;vl=null;Ol=null;Ll=0;Sl=0;Pl=0;Gl=null;Hl=null;ml=0;wl=0;Oo=(t,i,s)=>{let h=this.sa;if(s&&(h=this.iT),!h)return null;if(-1===t&&-1===i&&!h.eT)return h;const n=e.s.nT(h,!0,!0,!1);return-1===t&&-1===i||n.Qo(),-1!==t&&n.ta(t),-1!==i&&n.ta(i),n.ia(64,768,-50,-10,-50,!0),n};rT(){if(this.gd===this.fl)return this.Ll;let t=c.Tr[this.gd];if(!t.al||!t.vl||!t.Ol)return this.Ll;let i=t.al.co(this.fl);if(-1===i)return this.Ll;let s=t.vl[i];for(;t.gd!==t.fl;){const h=c.Tr[t.gd];h.al&&h.vl&&h.Ol&&(i=h.al.co(t.fl),-1!==i&&(s+=h.vl[i])),t=h}return s}lT(){if(this.gd===this.fl)return this.Sl;let t=c.Tr[this.gd];if(!t.al||!t.vl||!t.Ol)return this.Sl;let i=t.al.co(this.fl);if(-1===i)return this.Sl;let s=t.Ol[i];for(;t.gd!==t.fl;){const h=c.Tr[t.gd];h.al&&h.vl&&h.Ol&&(i=h.al.co(t.fl),-1!==i&&(s+=h.Ol[i])),t=h}return s}oT(t){const i=this.rT(),s=this.lT();a.s.kl(i,s,this.Yr,this.Vr,t)}MA(t,i){if(this.gd===this.fl)return;this.Ll=0,this.Sl=0;const s=c.Tr[this.gd];if(s.al&&s.vl&&s.Ol){const h=s.al.co(this.fl);-1!==h&&(s.vl[h]=t,s.Ol[h]=i)}}aT(){if(this.gd===this.fl)return;const t=c.Tr[this.gd];if(t.al&&t.vl&&t.Ol){const i=t.al.co(this.fl);-1!==i&&(t.al.cT(i,1),t.vl.cT(i,1),t.Ol.cT(i,1))}}}},8107:(t,i,s)=>{s.t(i,{XC:()=>h});class h{fl=-1;fT=null;uT=(t,i)=>{for(this.fl=t;;){const s=i.Yy;if(0===s)break;this.dT(t,s,i)}}}},8056:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(2383),e=s(8107);class n extends e.XC{static Gw=0;static Tr=[];static za=t=>{const i=new h.s(t.Ur('flo.dat'));this.Gw=i.Gy;for(let t=0;t<this.Gw;t++)this.Tr[t]=new n,this.Tr[t].uT(t,i)};static wT=(t,i,s)=>(s>179&&(i=i/2|0),s>192&&(i=i/2|0),s>217&&(i=i/2|0),s>243&&(i=i/2|0),((t/4|0)<<10)+((i/32|0)<<7)+(s/2|0));static yT=(t,i)=>-1===t?12345678:((i=i*(127&t)/128|0)<2?i=2:i>126&&(i=126),(65408&t)+i);static mT=(t,i)=>-2===t?12345678:-1===t?(i<0?i=0:i>127&&(i=127),127-i):((i=i*(127&t)/128|0)<2?i=2:i>126&&(i=126),(65408&t)+i);pT=0;AT=-1;IT=!1;gT=!0;No=null;_T=0;CT=0;ET=0;TT=0;bT=0;vT=0;dT=(t,i,s)=>{1===i?(this.pT=s.OT,this.LT(this.pT)):2===i?this.AT=s.Yy:3===i?this.IT=!0:5===i?this.gT=!1:6===i?this.No=s.sm:console.log('Error unrecognised config code: ',i)};LT=t=>{const i=(t>>16&255)/256,s=(t>>8&255)/256,h=(255&t)/256;let e=i;s<i&&(e=s),h<e&&(e=h);let r=i;s>i&&(r=s),h>r&&(r=h);let l=0,o=0;const a=(e+r)/2;e!==r&&(a<.5&&(o=(r-e)/(r+e)),a>=.5&&(o=(r-e)/(2-r-e)),i===r?l=(s-h)/(r-e):s===r?l=(h-i)/(r-e)+2:h===r&&(l=(i-s)/(r-e)+4)),l/=6,this._T=256*l|0,this.CT=256*o|0,this.ET=256*a|0,this.CT<0?this.CT=0:this.CT>255&&(this.CT=255),this.ET<0?this.ET=0:this.ET>255&&(this.ET=255),this.TT=a>.5?(1-a)*o*512|0:a*o*512|0,this.TT<1&&(this.TT=1),this.bT=l*this.TT|0;let c=this._T+(16*Math.Ha()|0)-8;c<0?c=0:c>255&&(c=255);let f=this.CT+(48*Math.Ha()|0)-24;f<0?f=0:f>255&&(f=255);let u=this.ET+(48*Math.Ha()|0)-24;u<0?u=0:u>255&&(u=255),this.vT=n.wT(c,f,u)}}},8809:(t,i,s)=>{s.t(i,{s:()=>l});var h=s(2383),e=s(8107),n=s(9178),r=s(9345);class l extends e.XC{static Gw=0;static Tr=[];static za=t=>{const i=new h.s(t.Ur('idk.dat'));this.Gw=i.Gy;for(let t=0;t<this.Gw;t++)this.Tr[t]=new l,this.Tr[t].uT(t,i)};cl=-1;ST=null;kT=new Int32Array(5).io(-1);RT=new Int32Array(6);MT=new Int32Array(6);Hw=!1;dT=(t,i,s)=>{if(1===i)this.cl=s.Yy;else if(2===i){const t=s.Yy;this.ST=new Int32Array(t);for(let i=0;i<t;i++)this.ST[i]=s.Gy}else if(3===i)this.Hw=!0;else if(i>=40&&i<50)this.RT[i-40]=s.Gy;else if(i>=50&&i<60)this.MT[i-50]=s.Gy;else{if(!(i>=60&&i<70))throw new Error(`Unrecognized idk config code: ${i}`);this.kT[i-60]=s.Gy}};Oo=()=>{if(!this.ST)return null;const t=new r.Ii(this.ST.Pr,null);for(let i=0;i<this.ST.Pr;i++)t[i]=n.s.sa(this.ST[i]);let i;i=1===t.Pr?t[0]:n.s.jo(t,t.Pr);for(let t=0;t<6&&0!==this.RT[t];t++)i?.qo(this.RT[t],this.MT[t]);return i};Qy=()=>{let t=0;const i=new r.Ii(5,null);for(let s=0;s<5;s++)-1!==this.kT[s]&&(i[t++]=n.s.sa(this.kT[s]));const s=n.s.jo(i,t);for(let t=0;t<6&&0!==this.RT[t];t++)s.qo(this.RT[t],this.MT[t]);return s}}},7958:(t,i,s)=>{s.t(i,{s:()=>c});var h=s(8107),e=s(2383),n=s(5542),r=s(9178),l=s(1908),o=s(5534),a=s(9345);class c extends h.XC{static Gw=0;static xT=null;static NT=null;static PT=null;static DT=0;static hu=new n.s(500);static eu=new n.s(30);static za=t=>{this.NT=new e.s(t.Ur('loc.dat'));const i=new e.s(t.Ur('loc.idx'));this.Gw=i.Gy,this.PT=new Int32Array(this.Gw);let s=2;for(let t=0;t<this.Gw;t++)this.PT[t]=s,s+=i.Gy;this.xT=new a.Ii(10,null);for(let t=0;t<10;t++)this.xT[t]=new c};static xo=t=>{if(!this.xT||!this.PT||!this.NT)throw new Error('LocType not loaded!!!');for(let i=0;i<10;i++){const s=this.xT[i];if(s&&s.Qu===t)return s}this.DT=(this.DT+1)%10;const i=this.xT[this.DT];return this.NT.Nc=this.PT[t],i.Qu=t,i.Dy(),i.uT(t,this.NT),i.FT||(i.FT=new Int32Array(1)),-1===i.UT&&i.FT&&(i.My=i.FT.Pr>0&&i.FT[0]===l.s.$w,i.rA&&(i.My=!0)),i};static gr=()=>{this.hu=null,this.eu=null,this.PT=null,this.xT=null,this.NT=null};Qu=-1;ST=null;FT=null;No=null;Zd=null;RT=null;MT=null;Yr=1;Pr=1;Oy=!0;Ly=!0;My=!1;UT=-1;BT=!1;GT=!1;gT=!1;ul=-1;HT=!1;WT=16;ZT=0;YT=0;rA=null;Ku=-1;ld=-1;VT=!1;zT=!0;XT=128;jT=128;qT=128;Qw=0;$T=0;KT=0;JT=0;QT=!1;dT=(t,i,s)=>{if(1===i){const t=s.Yy;this.ST=new Int32Array(t),this.FT=new Int32Array(t);for(let i=0;i<t;i++)this.ST[i]=s.Gy,this.FT[i]=s.Yy}else if(2===i)this.No=s.sm;else if(3===i)this.Zd=s.sm;else if(14===i)this.Yr=s.Yy;else if(15===i)this.Pr=s.Yy;else if(17===i)this.Oy=!1;else if(18===i)this.Ly=!1;else if(19===i)this.UT=s.Yy,1===this.UT&&(this.My=!0);else if(21===i)this.BT=!0;else if(22===i)this.GT=!0;else if(23===i)this.gT=!0;else if(24===i)this.ul=s.Gy,65535===this.ul&&(this.ul=-1);else if(25===i)this.HT=!0;else if(28===i)this.WT=s.Yy;else if(29===i)this.ZT=s.Wy;else if(39===i)this.YT=s.Wy;else if(i>=30&&i<39)this.rA||(this.rA=new a.Ii(5,null)),this.rA[i-30]=s.sm,'hidden'===this.rA[i-30]?.Cd()&&(this.rA[i-30]=null);else if(40===i){const t=s.Yy;this.RT=new Uint16Array(t),this.MT=new Uint16Array(t);for(let i=0;i<t;i++)this.RT[i]=s.Gy,this.MT[i]=s.Gy}else 60===i?this.Ku=s.Gy:62===i?this.VT=!0:64===i?this.zT=!1:65===i?this.XT=s.Gy:66===i?this.jT=s.Gy:67===i?this.qT=s.Gy:68===i?this.ld=s.Gy:69===i?this.Qw=s.Yy:70===i?this.$T=s.Vm:71===i?this.KT=s.Vm:72===i?this.JT=s.Vm:73===i&&(this.QT=!0)};Oo=(t,i,s,h,e,n,l)=>{if(!this.FT)return null;let a=-1;for(let i=0;i<this.FT.Pr;i++)if(this.FT[i]===t){a=i;break}if(-1===a)return null;const f=BigInt(BigInt(this.Qu)<<6n)+BigInt(BigInt(a)<<3n)+BigInt(i)+BigInt(BigInt(l)+1n<<32n);let u=c.eu?.xo(f);if(u){if((this.BT||this.GT)&&(u=r.s.tb(u,this.BT,this.GT)),this.BT){const t=(s+h+e+n)/4|0;for(let i=0;i<u.ib;i++){const r=u.sb[i],l=s+((h-s)*(r+64)/128|0),o=l+((n+((e-n)*(r+64)/128|0)-l)*(u.hb[i]+64)/128|0);u.eb[i]+=o-t}u.nb()}return u}if(!this.ST)return null;if(a>=this.ST.Pr)return null;let d=this.ST[a];if(-1===d)return null;const w=this.VT!==i>3;w&&(d+=65536);let y=c.hu?.xo(BigInt(d));y||(y=r.s.sa(65535&d),w&&y.rb(),c.hu?.hT(BigInt(d),y));const m=128!==this.XT||128!==this.jT||128!==this.qT,p=0!==this.$T||0!==this.KT||0!==this.JT;let A=r.s.nT(y,!this.RT,!this.HT,i===o.s.cd&&-1===l&&!m&&!p);for(-1!==l&&(A.Qo(),A.ta(l),A.lb=null,A.ob=null);i-- >0;)A.ab();if(this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)A.qo(this.RT[t],this.MT[t]);if(m&&A.cb(this.XT,this.jT,this.qT),p&&A.Wa(this.KT,this.$T,this.JT),A.ia(64+(255&this.ZT),5*(255&this.YT)+768,-50,-10,-50,!this.GT),this.Oy&&(A.fb=A.ub),c.eu?.hT(f,A),(this.BT||this.GT)&&(A=r.s.tb(A,this.BT,this.GT)),this.BT){const t=(s+h+e+n)/4|0;for(let i=0;i<A.ib;i++){const r=A.sb[i],l=s+((h-s)*(r+64)/128|0),o=l+((n+((e-n)*(r+64)/128|0)-l)*(A.hb[i]+64)/128|0);A.eb[i]+=o-t}A.nb()}return A};Dy=()=>{this.ST=null,this.FT=null,this.No=null,this.Zd=null,this.RT=null,this.MT=null,this.Yr=1,this.Pr=1,this.Oy=!0,this.Ly=!0,this.My=!1,this.UT=-1,this.BT=!1,this.GT=!1,this.gT=!1,this.ul=-1,this.WT=16,this.ZT=0,this.YT=0,this.rA=null,this.HT=!1,this.Ku=-1,this.ld=-1,this.VT=!1,this.zT=!0,this.XT=128,this.jT=128,this.qT=128,this.Qw=0,this.$T=0,this.KT=0,this.JT=0,this.QT=!1}}},2441:(t,i,s)=>{s.t(i,{s:()=>o});var h=s(8107),e=s(2383),n=s(5542),r=s(9178),l=s(9345);class o extends h.XC{static Gw=0;static xT=null;static NT=null;static PT=null;static DT=0;static br=new n.s(30);static za=t=>{this.NT=new e.s(t.Ur('npc.dat'));const i=new e.s(t.Ur('npc.idx'));this.Gw=i.Gy,this.PT=new Int32Array(this.Gw);let s=2;for(let t=0;t<this.Gw;t++)this.PT[t]=s,s+=i.Gy;this.xT=new l.Ii(20,null);for(let t=0;t<20;t++)this.xT[t]=new o};static xo=t=>{if(!this.xT||!this.PT||!this.NT)throw new Error('LocType not loaded!!!');for(let i=0;i<20;i++){const s=this.xT[i];if(s&&s.Qu===t)return s}this.DT=(this.DT+1)%20;const i=this.xT[this.DT]=new o;return this.NT.Nc=this.PT[t],i.Qu=t,i.uT(t,this.NT),i};static gr=()=>{this.br=null,this.PT=null,this.xT=null,this.NT=null};Qu=-1;No=null;Zd=null;lA=1;ST=null;kT=null;HT=!1;AI=-1;fI=-1;dI=-1;yI=-1;pI=-1;db=!1;RT=null;MT=null;rA=null;wb=-1;yb=-1;mb=-1;Zu=!0;uA=-1;pb=128;Ab=128;dT=(t,i,s)=>{if(1===i){const t=s.Yy;this.ST=new Uint16Array(t);for(let i=0;i<t;i++)this.ST[i]=s.Gy}else if(2===i)this.No=s.sm;else if(3===i)this.Zd=s.sm;else if(12===i)this.lA=s.Wy;else if(13===i)this.AI=s.Gy;else if(14===i)this.fI=s.Gy;else if(16===i)this.HT=!0;else if(17===i)this.fI=s.Gy,this.dI=s.Gy,this.yI=s.Gy,this.pI=s.Gy;else if(i>=30&&i<40)this.rA||(this.rA=new l.Ii(5,null)),this.rA[i-30]=s.sm,'hidden'===this.rA[i-30]?.Cd()&&(this.rA[i-30]=null);else if(40===i){const t=s.Yy;this.RT=new Uint16Array(t),this.MT=new Uint16Array(t);for(let i=0;i<t;i++)this.RT[i]=s.Gy,this.MT[i]=s.Gy}else if(60===i){const t=s.Yy;this.kT=new Uint16Array(t);for(let i=0;i<t;i++)this.kT[i]=s.Gy}else 90===i?this.wb=s.Gy:91===i?this.yb=s.Gy:92===i?this.mb=s.Gy:93===i?this.Zu=!1:95===i?this.uA=s.Gy:97===i?this.pb=s.Gy:98===i&&(this.Ab=s.Gy)};Ib=(t,i,s)=>{let h=null,e=null;if(o.br&&(e=o.br.xo(BigInt(this.Qu)),!e&&this.ST)){const t=new l.Ii(this.ST.Pr,null);for(let i=0;i<this.ST.Pr;i++)t[i]=r.s.sa(this.ST[i]);if(e=1===t.Pr?t[0]:r.s.jo(t,t.Pr),this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)e?.qo(this.RT[t],this.MT[t]);e?.Qo(),e?.ia(64,850,-30,-50,-30,!0),e&&o.br.hT(BigInt(this.Qu),e)}return e?(h=r.s.gb(e,!this.HT),-1!==t&&-1!==i?h._b(t,i,s):-1!==t&&h.ta(t),128===this.pb&&128===this.Ab||h.cb(this.pb,this.Ab,this.pb),h.Cb(),h.lb=null,h.ob=null,1===this.lA&&(h.Eb=!0),h):null};Qy=()=>{if(!this.kT)return null;const t=new l.Ii(this.kT.Pr,null);for(let i=0;i<this.kT.Pr;i++)t[i]=r.s.sa(this.kT[i]);let i;if(i=1===t.Pr?t[0]:r.s.jo(t,t.Pr),this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)i?.qo(this.RT[t],this.MT[t]);return i}}},1840:(t,i,s)=>{s.t(i,{s:()=>u});var h=s(8107),e=s(2383),n=s(6542),r=s(5542),l=s(9178),o=s(8078),a=s(2991),c=s(312),f=s(9345);class u extends h.XC{static Gw=0;static xT=null;static NT=null;static PT=null;static DT=0;static Tb=!0;static br=new r.s(50);static nu=new r.s(200);static za=(t,i)=>{this.Tb=i,this.NT=new e.s(t.Ur('obj.dat'));const s=new e.s(t.Ur('obj.idx'));this.Gw=s.Gy,this.PT=new Int32Array(this.Gw);let h=2;for(let t=0;t<this.Gw;t++)this.PT[t]=h,h+=s.Gy;this.xT=new f.Ii(10,null);for(let t=0;t<10;t++)this.xT[t]=new u};static xo=t=>{if(!this.xT||!this.PT||!this.NT)throw new Error('ObjType not loaded!!!');for(let i=0;i<10;i++){const s=this.xT[i];if(s&&s.Qu===t)return s}this.DT=(this.DT+1)%10;const i=this.xT[this.DT];return this.NT.Nc=this.PT[t],i.Qu=t,i.Dy(),i.uT(t,this.NT),-1!==i.bb&&i.vb(),!this.Tb&&i.r&&(i.No='Members Object',i.Zd="Login to a members' server to use this object.",i.rA=null,i.qp=null),i};static gr=()=>{this.br=null,this.nu=null,this.PT=null,this.xT=null,this.NT=null};static Yl=(t,i)=>{if(u.nu){let s=u.nu.xo(BigInt(t));if(s&&s.zu!==i&&-1!==s.zu&&(s.Ky(),s=null),s)return s}let s=u.xo(t);if(s.Ob||(i=-1),s.Ob&&s.Lb&&i>1){let t=-1;for(let h=0;h<10;h++)i>=s.Lb[h]&&0!==s.Lb[h]&&(t=s.Ob[h]);-1!==t&&(s=u.xo(t))}const h=new n.s(32,32),e=o.s._o,r=o.s.Co,l=o.s.qa,f=a.s.Xa,d=a.s.Sb,w=a.s.kb,y=a.s._l,m=a.s.El,p=a.s.Cl,A=a.s.Tl;o.s.Rb=!1,a.s.rc(h.Xa,32,32),a.s.Zr(0,0,32,32,c.s.Kl),o.s.Bg();const I=s.Iy(1),g=o.s.Eo[s.op]*s.cp>>16,_=o.s.vo[s.op]*s.cp>>16;I.ko(0,s.ap,s.Mb,s.op,s.xb,g+(I.ub/2|0)+s.Nb,_+s.Nb);for(let t=31;t>=0;t--)for(let i=31;i>=0;i--)0===h.Xa[t+32*i]&&(t>0&&h.Xa[t+32*i-1]>1||i>0&&h.Xa[t+32*(i-1)]>1||t<31&&h.Xa[t+32*i+1]>1||i<31&&h.Xa[t+32*(i+1)]>1)&&(h.Xa[t+32*i]=1);for(let t=31;t>=0;t--)for(let i=31;i>=0;i--)0===h.Xa[t+32*i]&&t>0&&i>0&&h.Xa[t+32*(i-1)-1]>0&&(h.Xa[t+32*i]=3153952);if(-1!==s.bb){const t=this.Yl(s.Pb,10),i=t.jl,h=t.zu;t.jl=32,t.zu=32,t.Db(5,5,22,22),t.jl=i,t.zu=h}return u.nu?.hT(BigInt(t),h),a.s.rc(f,d,w),a.s.bl(y,p,m,A),o.s._o=e,o.s.Co=r,o.s.qa=l,o.s.Rb=!0,s.Po?h.jl=33:h.jl=32,h.zu=i,h};Qu=-1;sa=0;No=null;Zd=null;RT=null;MT=null;cp=2e3;op=0;ap=0;Mb=0;xb=0;Nb=0;Fb=!1;Ub=-1;Po=!1;py=1;r=!1;rA=null;qp=null;Bb=-1;Gb=-1;Hb=0;Wb=-1;Zb=-1;Yb=0;Vb=-1;zb=-1;Xb=-1;jb=-1;qb=-1;$b=-1;Ob=null;Lb=null;Pb=-1;bb=-1;dT=(t,i,s)=>{if(1===i)this.sa=s.Gy;else if(2===i)this.No=s.sm;else if(3===i)this.Zd=s.sm;else if(4===i)this.cp=s.Gy;else if(5===i)this.op=s.Gy;else if(6===i)this.ap=s.Gy;else if(7===i)this.xb=s.Vm,this.xb>32767&&(this.xb-=65536);else if(8===i)this.Nb=s.Vm,this.Nb>32767&&(this.Nb-=65536);else if(9===i)this.Fb=!0;else if(10===i)this.Ub=s.Gy;else if(11===i)this.Po=!0;else if(12===i)this.py=s.Fr;else if(16===i)this.r=!0;else if(23===i)this.Bb=s.Gy,this.Hb=s.Wy;else if(24===i)this.Gb=s.Gy;else if(25===i)this.Wb=s.Gy,this.Yb=s.Wy;else if(26===i)this.Zb=s.Gy;else if(i>=30&&i<35)this.rA||(this.rA=new f.Ii(5,null)),this.rA[i-30]=s.sm,'hidden'===this.rA[i-30]?.Cd()&&(this.rA[i-30]=null);else if(i>=35&&i<40)this.qp||(this.qp=new f.Ii(5,null)),this.qp[i-35]=s.sm;else if(40===i){const t=s.Yy;this.RT=new Uint16Array(t),this.MT=new Uint16Array(t);for(let i=0;i<t;i++)this.RT[i]=s.Gy,this.MT[i]=s.Gy}else 78===i?this.Vb=s.Gy:79===i?this.zb=s.Gy:90===i?this.Xb=s.Gy:91===i?this.qb=s.Gy:92===i?this.jb=s.Gy:93===i?this.$b=s.Gy:95===i?this.Mb=s.Gy:97===i?this.Pb=s.Gy:98===i?this.bb=s.Gy:i>=100&&i<110&&(this.Ob&&this.Lb||(this.Ob=new Uint16Array(10),this.Lb=new Uint16Array(10)),this.Ob[i-100]=s.Gy,this.Lb[i-100]=s.Gy)};Kb=t=>{let i=this.Bb;if(1===t&&(i=this.Wb),-1===i)return null;let s=this.Gb,h=this.Vb;1===t&&(s=this.Zb,h=this.zb);let e=l.s.sa(i);if(-1!==s){const t=l.s.sa(s);if(-1===h){const i=[e,t];e=l.s.jo(i,2)}else{const i=[e,t,l.s.sa(h)];e=l.s.jo(i,3)}}if(0===t&&0!==this.Hb&&e.Wa(this.Hb,0,0),1===t&&0!==this.Yb&&e.Wa(this.Yb,0,0),this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)e.qo(this.RT[t],this.MT[t]);return e};Qy=t=>{let i=this.Xb;if(1===t&&(i=this.qb),-1===i)return null;let s=this.jb;1===t&&(s=this.$b);let h=l.s.sa(i);if(-1!==s){const t=[h,l.s.sa(s)];h=l.s.jo(t,2)}if(this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)h.qo(this.RT[t],this.MT[t]);return h};Iy=t=>{if(this.Ob&&this.Lb&&t>1){let i=-1;for(let s=0;s<10;s++)t>=this.Lb[s]&&0!==this.Lb[s]&&(i=this.Ob[s]);if(-1!==i)return u.xo(i).Iy(1)}if(u.br){const t=u.br.xo(BigInt(this.Qu));if(t)return t}const i=l.s.sa(this.sa);if(this.RT&&this.MT)for(let t=0;t<this.RT.Pr;t++)i.qo(this.RT[t],this.MT[t]);return i.ia(64,768,-50,-10,-50,!0),i.Eb=!0,u.br?.hT(BigInt(this.Qu),i),i};vb=()=>{const t=u.xo(this.bb);this.sa=t.sa,this.cp=t.cp,this.op=t.op,this.ap=t.ap,this.Mb=t.Mb,this.xb=t.xb,this.Nb=t.Nb,this.RT=t.RT,this.MT=t.MT;const i=u.xo(this.Pb);this.No=i.No,this.r=i.r,this.py=i.py;let s='a';const h=(i.No||'').Cd().Lc(0);'a'!==h&&'e'!==h&&'i'!==h&&'o'!==h&&'u'!==h||(s='an'),this.Zd=`Swap this note at any bank for ${s} ${i.No}.`,this.Po=!0};Dy=()=>{this.sa=0,this.No=null,this.Zd=null,this.RT=null,this.MT=null,this.cp=2e3,this.op=0,this.ap=0,this.Mb=0,this.xb=0,this.Nb=0,this.Fb=!1,this.Ub=-1,this.Po=!1,this.py=1,this.r=!1,this.rA=null,this.qp=null,this.Bb=-1,this.Gb=-1,this.Hb=0,this.Wb=-1,this.Zb=-1,this.Yb=0,this.Vb=-1,this.zb=-1,this.Xb=-1,this.jb=-1,this.qb=-1,this.$b=-1,this.Ob=null,this.Lb=null,this.Pb=-1,this.bb=-1}}},8067:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(8107),e=s(2383),n=s(8762);class r extends h.XC{static Gw=0;static Tr=[];static za=t=>{const i=new e.s(t.Ur('seq.dat'));this.Gw=i.Gy;for(let t=0;t<this.Gw;t++)this.Tr[t]=new r,this.Tr[t].uT(t,i),0===this.Tr[t].pl&&(this.Tr[t].pl=1,this.Tr[t].Lo=new Int16Array(1),this.Tr[t].Lo[0]=-1,this.Tr[t].So=new Int16Array(1),this.Tr[t].So[0]=-1,this.Tr[t].yl=new Int16Array(1),this.Tr[t].yl[0]=-1)};pl=0;Lo=null;So=null;yl=null;Al=-1;lg=null;rg=!1;BA=5;Jb=-1;Qb=-1;ng=99;tv=0;dT=(t,i,s)=>{if(1===i){this.pl=s.Yy,this.Lo=new Int16Array(this.pl),this.So=new Int16Array(this.pl),this.yl=new Int16Array(this.pl);for(let t=0;t<this.pl;t++)this.Lo[t]=s.Gy,this.So[t]=s.Gy,65535===this.So[t]&&(this.So[t]=-1),this.yl[t]=s.Gy,0===this.yl[t]&&(this.yl[t]=n.s.Tr[this.Lo[t]].yl),0===this.yl[t]&&(this.yl[t]=1),this.tv+=this.yl[t]}else if(2===i)this.Al=s.Gy;else if(3===i){const t=s.Yy;this.lg=new Int32Array(t+1);for(let i=0;i<t;i++)this.lg[i]=s.Yy;this.lg[t]=9999999}else if(4===i)this.rg=!0;else if(5===i)this.BA=s.Yy;else if(6===i)this.Jb=s.Gy;else if(7===i)this.Qb=s.Gy;else{if(8!==i)throw new Error(`Unrecognized seq config code: ${i}`);this.ng=s.Yy}}}},551:(t,i,s)=>{s.t(i,{s:()=>o});var h=s(8107),e=s(2383),n=s(8067),r=s(9178),l=s(5542);class o extends h.XC{static Gw=0;static Tr=[];static br=new l.s(30);static za=t=>{const i=new e.s(t.Ur('spotanim.dat'));this.Gw=i.Gy;for(let t=0;t<this.Gw;t++)this.Tr[t]=new o,this.Tr[t].Qu=t,this.Tr[t].uT(t,i)};Qu=0;sa=0;ul=-1;VI=null;HT=!1;RT=new Uint16Array(6);MT=new Uint16Array(6);pb=128;Ab=128;iv=0;ZT=0;YT=0;dT=(t,i,s)=>{if(1===i)this.sa=s.Gy;else if(2===i)this.ul=s.Gy,n.s.Tr&&(this.VI=n.s.Tr[this.ul]);else if(3===i)this.HT=!0;else if(4===i)this.pb=s.Gy;else if(5===i)this.Ab=s.Gy;else if(6===i)this.iv=s.Gy;else if(7===i)this.ZT=s.Yy;else if(8===i)this.YT=s.Yy;else if(i>=40&&i<50)this.RT[i-40]=s.Gy;else{if(!(i>=50&&i<60))throw new Error(`Unrecognized spotanim config code: ${i}`);this.MT[i-50]=s.Gy}};Oo=()=>{let t=o.br?.xo(BigInt(this.Qu));if(t)return t;t=r.s.sa(this.sa);for(let i=0;i<6;i++)0!==this.RT[0]&&t.qo(this.RT[i],this.MT[i]);return o.br?.hT(BigInt(this.Qu),t),t}}},1089:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(8107),e=s(2383);class n extends h.XC{static Gw=0;static Tr=[];static sv=[];static hv=0;static za=t=>{const i=new e.s(t.Ur('varp.dat'));this.Gw=i.Gy;for(let t=0;t<this.Gw;t++)this.Tr[t]=new n,this.Tr[t].uT(t,i)};Ub=null;ev=0;nv=0;rv=!1;lv=!0;Hp=0;ov=0;av=!1;cv=!1;dT(t,i,s){if(1===i)this.ev=s.Yy;else if(2===i)this.nv=s.Yy;else if(3===i)this.rv=!0,n.sv[n.hv++]=t;else if(4===i)this.lv=!1;else if(5===i)this.Hp=s.Gy;else if(6===i)this.av=!0;else if(7===i)this.ov=s.Fr;else if(8===i)this.cv=!0;else{if(10!==i)throw new Error(`Error unrecognised config code: ${i}`);this.Ub=s.sm}}}},8603:(t,i,s)=>{s.t(i,{s:()=>h});class h{static id=0;static fv=1;static uv=2;static dv=4;static wv=8;static yv=h.fv<<4;static mv=h.uv<<4;static pv=h.dv<<4;static Av=h.wv<<4;static Iv=256;static gv=512;static _v=1024;static Cv=2048;static Ev=4096;static Tv=h.gv<<4;static bv=h._v<<4;static vv=h.Cv<<4;static Ov=h.Ev<<4;static Lv=h.Iv<<9;static Sv=524288;static kv=2097152;static Rv=h.kv|h.Sv;static Mv=h.Iv|h.Rv;static hd=h.uv|h.Mv;static td=h.wv|h.Mv;static AA=h.uv|h.dv|h.td;static ed=h.mv|h.Mv;static gA=h.wv|h.yv|h.ed;static sd=h.Av|h.Mv;static IA=h.fv|h.uv|h.sd;static _A=h.mv|h.pv|h.sd;static xv=16777215}},3693:(t,i,s)=>{s.t(i,{s:()=>l});var h=s(8603),e=s(5534),n=s(1908),r=s(6439);class l{static Pe=4;static je=104;static Qu=(t,i)=>t*l.je+i;Nv;Pv;Dv;Fv;Ju;Dg(){this.Nv=0,this.Pv=0,this.Dv=l.je,this.Fv=l.je,this.Ju=new Int32Array(this.Dv*this.Fv),this.Dy()}Dy=()=>{for(let t=0;t<this.Dv;t++)for(let i=0;i<this.Fv;i++){const s=l.Qu(t,i);0===t||0===i||t===this.Dv-1||i===this.Fv-1?this.Ju[s]=h.s.xv:this.Ju[s]=h.s.id}};Uv=(t,i)=>{this.Ju[l.Qu(t-this.Nv,i-this.Pv)]|=h.s.kv};xy=(t,i)=>{this.Ju[l.Qu(t-this.Nv,i-this.Pv)]&=~h.s.kv};_y=(t,i,s,n,r,l)=>{let o=h.s.Iv;l&&(o|=h.s.Lv);const a=t-this.Nv,c=i-this.Pv;if(r===e.s.fd||r===e.s.dd){const t=s;s=n,n=t}for(let t=a;t<a+s;t++)if(t>=0&&t<this.Dv)for(let i=c;i<c+n;i++)i>=0&&i<this.Fv&&this.Bv(t,i,o)};ky=(t,i,s,n,r,l)=>{let o=h.s.Iv;l&&(o|=h.s.Lv);const a=t-this.Nv,c=i-this.Pv;if(r===e.s.fd||r===e.s.dd){const t=s;s=n,n=t}for(let t=a;t<a+s;t++)if(t>=0&&t<this.Dv)for(let i=c;i<c+n;i++)i>=0&&i<this.Fv&&this.Gv(t,i,o)};Hv=(t,i,s,r,l)=>{const o=t-this.Nv,a=i-this.Pv,c=l?h.s.Ov:h.s.Av,f=l?h.s.Ev:h.s.wv,u=l?h.s._v:h.s.uv,d=l?h.s.bv:h.s.mv,w=l?h.s.gv:h.s.fv,y=l?h.s.Tv:h.s.yv,m=l?h.s.Cv:h.s.dv,p=l?h.s.vv:h.s.pv;s===n.s.od?r===e.s.cd?(this.Bv(o,a,c),this.Bv(o-1,a,f)):r===e.s.fd?(this.Bv(o,a,u),this.Bv(o,a+1,d)):r===e.s.ud?(this.Bv(o,a,f),this.Bv(o+1,a,c)):r===e.s.dd&&(this.Bv(o,a,d),this.Bv(o,a-1,u)):s===n.s.Wv||s===n.s.wd?r===e.s.cd?(this.Bv(o,a,w),this.Bv(o-1,a+1,y)):r===e.s.fd?(this.Bv(o,a,m),this.Bv(o+1,a+1,p)):r===e.s.ud?(this.Bv(o,a,y),this.Bv(o+1,a-1,w)):r===e.s.dd&&(this.Bv(o,a,p),this.Bv(o-1,a-1,m)):s===n.s.ad&&(r===e.s.cd?(this.Bv(o,a,u|c),this.Bv(o-1,a,f),this.Bv(o,a+1,d)):r===e.s.fd?(this.Bv(o,a,u|f),this.Bv(o,a+1,d),this.Bv(o+1,a,c)):r===e.s.ud?(this.Bv(o,a,d|f),this.Bv(o+1,a,c),this.Bv(o,a-1,u)):r===e.s.dd&&(this.Bv(o,a,d|c),this.Bv(o,a-1,u),this.Bv(o-1,a,f))),l&&this.Hv(t,i,s,r,!1)};vy=(t,i,s,r,l)=>{const o=t-this.Nv,a=i-this.Pv,c=l?h.s.Ov:h.s.Av,f=l?h.s.Ev:h.s.wv,u=l?h.s._v:h.s.uv,d=l?h.s.bv:h.s.mv,w=l?h.s.gv:h.s.fv,y=l?h.s.Tv:h.s.yv,m=l?h.s.Cv:h.s.dv,p=l?h.s.vv:h.s.pv;s===n.s.od?r===e.s.cd?(this.Gv(o,a,c),this.Gv(o-1,a,f)):r===e.s.fd?(this.Gv(o,a,u),this.Gv(o,a+1,d)):r===e.s.ud?(this.Gv(o,a,f),this.Gv(o+1,a,c)):r===e.s.dd&&(this.Gv(o,a,d),this.Gv(o,a-1,u)):s===n.s.Wv||s===n.s.wd?r===e.s.cd?(this.Gv(o,a,w),this.Gv(o-1,a+1,y)):r===e.s.fd?(this.Gv(o,a,m),this.Gv(o+1,a+1,p)):r===e.s.ud?(this.Gv(o,a,y),this.Gv(o+1,a-1,w)):r===e.s.dd&&(this.Gv(o,a,p),this.Gv(o-1,a-1,m)):s===n.s.ad&&(r===e.s.cd?(this.Gv(o,a,u|c),this.Gv(o-1,a,f),this.Gv(o,a+1,d)):r===e.s.fd?(this.Gv(o,a,u|f),this.Gv(o,a+1,d),this.Gv(o+1,a,c)):r===e.s.ud?(this.Gv(o,a,d|f),this.Gv(o+1,a,c),this.Gv(o,a-1,u)):r===e.s.dd&&(this.Gv(o,a,d|c),this.Gv(o,a-1,u),this.Gv(o-1,a,f))),l&&this.vy(t,i,s,r,!1)};yA=(t,i,s,r,o,a)=>{if(t===s&&i===r)return!0;const c=t-this.Nv,f=i-this.Pv,u=s-this.Nv,d=r-this.Pv,w=l.Qu(c,f);if(o===n.s.od){if(a===e.s.cd){if(c===u-1&&f===d)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.ed)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.hd)===h.s.id)return!0}else if(a===e.s.fd){if(c===u&&f===d+1)return!0;if(c===u-1&&f===d&&(this.Ju[w]&h.s.td)===h.s.id)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.sd)===h.s.id)return!0}else if(a===e.s.ud){if(c===u+1&&f===d)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.ed)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.hd)===h.s.id)return!0}else if(a===e.s.dd){if(c===u&&f===d-1)return!0;if(c===u-1&&f===d&&(this.Ju[w]&h.s.td)===h.s.id)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.sd)===h.s.id)return!0}}else if(o===n.s.ad){if(a===e.s.cd){if(c===u-1&&f===d)return!0;if(c===u&&f===d+1)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.sd)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.hd)===h.s.id)return!0}else if(a===e.s.fd){if(c===u-1&&f===d&&(this.Ju[w]&h.s.td)===h.s.id)return!0;if(c===u&&f===d+1)return!0;if(c===u+1&&f===d)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.hd)===h.s.id)return!0}else if(a===e.s.ud){if(c===u-1&&f===d&&(this.Ju[w]&h.s.td)===h.s.id)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.ed)===h.s.id)return!0;if(c===u+1&&f===d)return!0;if(c===u&&f===d-1)return!0}else if(a===e.s.dd){if(c===u-1&&f===d)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.ed)===h.s.id)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.sd)===h.s.id)return!0;if(c===u&&f===d-1)return!0}}else if(o===n.s.md){if(c===u&&f===d+1&&(this.Ju[w]&h.s.mv)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.uv)===h.s.id)return!0;if(c===u-1&&f===d&&(this.Ju[w]&h.s.wv)===h.s.id)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.Av)===h.s.id)return!0}return!1};mA=(t,i,s,r,o,a)=>{if(t===s&&i===r)return!0;const c=t-this.Nv,f=i-this.Pv,u=s-this.Nv,d=r-this.Pv,w=l.Qu(c,f);if(o===n.s.Zv||o===n.s.Yv){if(o===n.s.Yv&&(a=a+2&3),a===e.s.cd){if(c===u+1&&f===d&&(this.Ju[w]&h.s.Av)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.uv)===h.s.id)return!0}else if(a===e.s.fd){if(c===u-1&&f===d&&(this.Ju[w]&h.s.wv)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.uv)===h.s.id)return!0}else if(a===e.s.ud){if(c===u-1&&f===d&&(this.Ju[w]&h.s.wv)===h.s.id)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.mv)===h.s.id)return!0}else if(a===e.s.dd){if(c===u+1&&f===d&&(this.Ju[w]&h.s.Av)===h.s.id)return!0;if(c===u&&f===d+1&&(this.Ju[w]&h.s.mv)===h.s.id)return!0}}else if(o===n.s.Vv){if(c===u&&f===d+1&&(this.Ju[w]&h.s.mv)===h.s.id)return!0;if(c===u&&f===d-1&&(this.Ju[w]&h.s.uv)===h.s.id)return!0;if(c===u-1&&f===d&&(this.Ju[w]&h.s.wv)===h.s.id)return!0;if(c===u+1&&f===d&&(this.Ju[w]&h.s.Av)===h.s.id)return!0}return!1};pA=(t,i,s,e,n,o,a)=>{const c=s+n-1,f=e+o-1,u=l.Qu(t-this.Nv,i-this.Pv);return t>=s&&t<=c&&i>=e&&i<=f||(t===s-1&&i>=e&&i<=f&&(this.Ju[u]&h.s.wv)===h.s.id&&(a&r.s.cd)===h.s.id||(t===c+1&&i>=e&&i<=f&&(this.Ju[u]&h.s.Av)===h.s.id&&(a&r.s.ud)===h.s.id||(i===e-1&&t>=s&&t<=c&&(this.Ju[u]&h.s.uv)===h.s.id&&(a&r.s.dd)===h.s.id||i===f+1&&t>=s&&t<=c&&(this.Ju[u]&h.s.mv)===h.s.id&&(a&r.s.fd)===h.s.id)))};Bv=(t,i,s)=>{this.Ju[l.Qu(t,i)]|=s};Gv=(t,i,s)=>{this.Ju[l.Qu(t,i)]&=h.s.xv-s}}},6439:(t,i,s)=>{s.t(i,{s:()=>h});class h{static fd=1;static ud=2;static dd=4;static cd=8;static zv=h.cd|h.dd;static Xv=h.cd|h.fd;static jv=h.ud|h.dd;static qv=h.ud|h.fd}},5534:(t,i,s)=>{var h;s.t(i,{s:()=>e}),function(t){t[t.cd=0]="WEST",t[t.fd=1]="NORTH",t[t.ud=2]="EAST",t[t.dd=3]="SOUTH"}(h||(h={}));const e=h},3714:(t,i,s)=>{var h;s.t(i,{s:()=>e}),function(t){t[t.Cy=0]="WALL",t[t.Ey=1]="WALL_DECOR",t[t.by=2]="GROUND",t[t.Jw=3]="GROUND_DECOR"}(h||(h={}));const e=h},1908:(t,i,s)=>{s.t(i,{s:()=>n,cg:()=>r});var h,e=s(3714);!function(t){t[t.od=0]="WALL_STRAIGHT",t[t.Wv=1]="WALL_DIAGONAL_CORNER",t[t.ad=2]="WALL_L",t[t.wd=3]="WALL_SQUARE_CORNER",t[t.qI=4]="WALLDECOR_STRAIGHT_NOOFFSET",t[t.wA=5]="WALLDECOR_STRAIGHT_OFFSET",t[t.Zv=6]="WALLDECOR_DIAGONAL_OFFSET",t[t.Yv=7]="WALLDECOR_DIAGONAL_NOOFFSET",t[t.Vv=8]="WALLDECOR_DIAGONAL_BOTH",t[t.md=9]="WALL_DIAGONAL",t[t.$w=10]="CENTREPIECE_STRAIGHT",t[t.Kw=11]="CENTREPIECE_DIAGONAL",t[t.$v=12]="ROOF_STRAIGHT",t[t.Kv=13]="ROOF_DIAGONAL_WITH_ROOFEDGE",t[t.Jv=14]="ROOF_DIAGONAL",t[t.Qv=15]="ROOF_L_CONCAVE",t[t.tO=16]="ROOF_L_CONVEX",t[t.iO=17]="ROOF_FLAT",t[t.sO=18]="ROOFEDGE_STRAIGHT",t[t.hO=19]="ROOFEDGE_DIAGONAL_CORNER",t[t.eO=20]="ROOFEDGE_L",t[t.nO=21]="ROOFEDGE_SQUARE_CORNER",t[t.Jw=22]="GROUND_DECOR"}(h||(h={}));const n=h;class r{static gd(t){switch(t){case h.od:case h.Wv:case h.ad:case h.wd:return e.s.Cy;case h.qI:case h.wA:case h.Zv:case h.Yv:case h.Vv:return e.s.Ey;case h.md:case h.$w:case h.Kw:case h.$v:case h.Kv:case h.Jv:case h.Qv:case h.tO:case h.iO:case h.sO:case h.hO:case h.eO:case h.nO:return e.s.by;case h.Jw:return e.s.Jw;default:throw new Error('Invalid loc shape.')}}}},3909:(t,i,s)=>{s.t(i,{s:()=>m});var h=s(3693),e=s(8056),n=s(2383),r=s(8078),l=s(7221),o=s(7958),a=s(682),c=s(8067),f=s(1908),u=s(5534),d=s(312),w=s(9190),y=s(9345);class m{static rO=Int32Array.of(1,2,4,8);static lO=Int32Array.of(16,32,64,128);static oO=Int32Array.of(1,0,-1,0);static aO=Int32Array.of(0,-1,0,1);static cO=(17*Math.Ha()|0)-8;static fO=(33*Math.Ha()|0)-16;static l=!0;static Op=0;static uO=!1;static dO=(t,i)=>{let s=this.wO(t+45365,i+91923,4)+(this.wO(t+10294,i+37821,2)-128>>1)+(this.wO(t,i,1)-128>>2)-128;return s=35+(.3*s|0),s<10?s=10:s>60&&(s=60),s};static wO=(t,i,s)=>{const h=t/s|0,e=t&s-1,n=i/s|0,r=i&s-1,l=this.yO(h,n),o=this.yO(h+1,n),a=this.yO(h,n+1),c=this.yO(h+1,n+1),f=this.mO(l,o,e,s),u=this.mO(a,c,e,s);return this.mO(f,u,r,s)};static mO=(t,i,s,h)=>{const e=65536-r.s.vo[1024*s/h|0]>>1;return(t*(65536-e)>>16)+(i*e>>16)};static yO=(t,i)=>((this.pO(t-1,i-1)+this.pO(t+1,i-1)+this.pO(t-1,i+1)+this.pO(t+1,i+1))/16|0)+((this.pO(t-1,i)+this.pO(t+1,i)+this.pO(t,i-1)+this.pO(t,i+1))/8|0)+(this.pO(t,i)/4|0);static pO=(t,i)=>{const s=t+57*i,h=s<<13^s,e=BigInt(h)*(BigInt(h)*BigInt(h)*15731n+789221n)+1376312589n&0x7fffffffn;return 255&Number(e>>19n)};static _y=(t,i,s,h,e,n,r,l,d,w,y)=>{const p=e[y][i][s],A=e[y][i+1][s],I=e[y][i+1][s+1],g=e[y][i][s+1],_=p+A+I+g>>2,C=o.s.xo(l);let E=i+(s<<7)+(l<<14)+1073741824|0;C.My||(E+=-2147483648),E|=0;const T=((w<<6)+d|0)<<24>>24;if(d===f.s.Jw)h?.AO(C.Oo(f.s.Jw,w,p,A,I,g,-1),t,i,s,_,E,T),C.Oy&&C.My&&r.Uv(i,s),-1!==C.ul&&n.fg(new a.s(l,t,3,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.$w||d===f.s.Kw){const e=C.Oo(f.s.$w,w,p,A,I,g,-1);if(e){let n,r,l=0;d===f.s.Kw&&(l+=256),w===u.s.fd||w===u.s.dd?(n=C.Pr,r=C.Yr):(n=C.Yr,r=C.Pr),h?._y(t,i,s,_,e,null,E,T,n,r,l)}C.Oy&&r._y(i,s,C.Yr,C.Pr,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,2,i,s,c.s.Tr[C.ul],!0))}else if(d>=f.s.$v)h?._y(t,i,s,_,C.Oo(d,w,p,A,I,g,-1),null,E,T,1,1,0),C.Oy&&r._y(i,s,C.Yr,C.Pr,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,2,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.od)h?.Hv(t,i,s,_,m.rO[w],0,C.Oo(f.s.od,w,p,A,I,g,-1),null,E,T),C.Oy&&r.Hv(i,s,d,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,0,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.Wv)h?.Hv(t,i,s,_,m.lO[w],0,C.Oo(f.s.Wv,w,p,A,I,g,-1),null,E,T),C.Oy&&r.Hv(i,s,d,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,0,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.ad){const e=w+1&3;h?.Hv(t,i,s,_,m.rO[w],m.rO[e],C.Oo(f.s.ad,w+4,p,A,I,g,-1),C.Oo(f.s.ad,e,p,A,I,g,-1),E,T),C.Oy&&r.Hv(i,s,d,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,0,i,s,c.s.Tr[C.ul],!0))}else if(d===f.s.wd)h?.Hv(t,i,s,_,m.lO[w],0,C.Oo(f.s.wd,w,p,A,I,g,-1),null,E,T),C.Oy&&r.Hv(i,s,d,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,0,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.md)h?._y(t,i,s,_,C.Oo(d,w,p,A,I,g,-1),null,E,T,1,1,0),C.Oy&&r._y(i,s,C.Yr,C.Pr,w,C.Ly),-1!==C.ul&&n.fg(new a.s(l,t,2,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.qI)h?.IO(t,i,s,_,0,0,E,C.Oo(f.s.qI,u.s.cd,p,A,I,g,-1),T,512*w,m.rO[w]),-1!==C.ul&&n.fg(new a.s(l,t,1,i,s,c.s.Tr[C.ul],!0));else if(d===f.s.wA){let e=16;if(h){const n=h.nd(t,i,s);n>0&&(e=o.s.xo(n>>14&32767).WT)}h?.IO(t,i,s,_,m.oO[w]*e,m.aO[w]*e,E,C.Oo(f.s.qI,u.s.cd,p,A,I,g,-1),T,512*w,m.rO[w]),-1!==C.ul&&n.fg(new a.s(l,t,1,i,s,c.s.Tr[C.ul],!0))}else d===f.s.Zv?(h?.IO(t,i,s,_,0,0,E,C.Oo(f.s.qI,u.s.cd,p,A,I,g,-1),T,w,256),-1!==C.ul&&n.fg(new a.s(l,t,1,i,s,c.s.Tr[C.ul],!0))):d===f.s.Yv?(h?.IO(t,i,s,_,0,0,E,C.Oo(f.s.qI,u.s.cd,p,A,I,g,-1),T,w,512),-1!==C.ul&&n.fg(new a.s(l,t,1,i,s,c.s.Tr[C.ul],!0))):d===f.s.Vv&&(h?.IO(t,i,s,_,0,0,E,C.Oo(f.s.qI,u.s.cd,p,A,I,g,-1),T,w,768),-1!==C.ul&&n.fg(new a.s(l,t,1,i,s,c.s.Tr[C.ul],!0)))};DI;FI;Ye;Ve;gO;_O;CO;EO;TO;bO;vO;OO;LO;SO;kO;RO;Dg(t,i,s,e){this.DI=t,this.FI=i,this.Ye=s,this.Ve=e,this.gO=new y.Da(h.s.Pe,t,i),this._O=new y.Da(h.s.Pe,t,i),this.CO=new y.Da(h.s.Pe,t,i),this.EO=new y.Da(h.s.Pe,t,i),this.RO=new y.Fa(h.s.Pe,t+1,i+1),this.TO=new y.Da(h.s.Pe,t+1,i+1),this.bO=new y.Xe(t+1,i+1),this.vO=new Int32Array(i),this.OO=new Int32Array(i),this.LO=new Int32Array(i),this.SO=new Int32Array(i),this.kO=new Int32Array(i)}Np=(t,i)=>{for(let t=0;t<h.s.Pe;t++)for(let s=0;s<h.s.je;s++)for(let e=0;e<h.s.je;e++)if(1==(1&this.Ve[t][s][e])){let h=t;2==(2&this.Ve[1][s][e])&&h--,h>=0&&i[h]?.Uv(s,e)}m.cO+=(5*Math.Ha()|0)-2,m.cO<-8?m.cO=-8:m.cO>8&&(m.cO=8),m.fO+=(5*Math.Ha()|0)-2,m.fO<-16?m.fO=-16:m.fO>16&&(m.fO=16);for(let i=0;i<h.s.Pe;i++){const s=this.TO[i],h=96,n=-50,l=-10,o=-50,a=768*(0|Math.sqrt(n*n+l*l+o*o))>>8;for(let t=1;t<this.FI-1;t++)for(let e=1;e<this.DI-1;e++){const r=this.Ye[i][e+1][t]-this.Ye[i][e-1][t],c=this.Ye[i][e][t+1]-this.Ye[i][e][t-1],f=0|Math.sqrt(r*r+c*c+65536),u=h+((n*((r<<8)/f|0)+l*(65536/f|0)+o*((c<<8)/f|0))/a|0),d=(s[e-1][t]>>2)+(s[e+1][t]>>3)+(s[e][t-1]>>2)+(s[e][t+1]>>3)+(s[e][t]>>1);this.bO[e][t]=u-d}for(let t=0;t<this.FI;t++)this.vO[t]=0,this.OO[t]=0,this.LO[t]=0,this.SO[t]=0,this.kO[t]=0;for(let s=-5;s<this.DI+5;s++){for(let t=0;t<this.FI;t++){const h=s+5;let n;if(h>=0&&h<this.DI){const s=255&this.gO[i][h][t];if(s>0){const i=e.s.Tr[s-1];this.vO[t]+=i.bT,this.OO[t]+=i.CT,this.LO[t]+=i.ET,this.SO[t]+=i.TT,n=this.kO[t]++}}const r=s-5;if(r>=0&&r<this.DI){const s=255&this.gO[i][r][t];if(s>0){const i=e.s.Tr[s-1];this.vO[t]-=i.bT,this.OO[t]-=i.CT,this.LO[t]-=i.ET,this.SO[t]-=i.TT,n=this.kO[t]--}}}if(s>=1&&s<this.DI-1){let h=0,n=0,l=0,o=0,a=0;for(let c=-5;c<this.FI+5;c++){const f=c+5;f>=0&&f<this.FI&&(h+=this.vO[f],n+=this.OO[f],l+=this.LO[f],o+=this.SO[f],a+=this.kO[f]);const y=c-5;if(y>=0&&y<this.FI&&(h-=this.vO[y],n-=this.OO[y],l-=this.LO[y],o-=this.SO[y],a-=this.kO[y]),c>=1&&c<this.FI-1&&(!m.l||0==(16&this.Ve[i][s][c])&&this.MO(i,s,c)===m.Op)){const f=255&this.gO[i][s][c],y=255&this._O[i][s][c];if(f>0||y>0){const p=this.Ye[i][s][c],A=this.Ye[i][s+1][c],I=this.Ye[i][s+1][c+1],g=this.Ye[i][s][c+1],_=this.bO[s][c],C=this.bO[s+1][c],E=this.bO[s+1][c+1],T=this.bO[s][c+1];let b=-1,v=-1;if(f>0){const t=256*h/o|0,i=n/a|0;let s=l/a|0;b=e.s.wT(t,i,s);const r=t+m.cO&255;s+=m.fO,s<0?s=0:s>255&&(s=255),v=e.s.wT(r,i,s)}if(i>0){let t=0!==f||this.CO[i][s][c]===w.s.xO;y>0&&!e.s.Tr[y-1].gT&&(t=!1),t&&p===A&&p===I&&p===g&&(this.RO[i][s][c]|=2340)}let O=0;if(-1!==b&&(O=r.s.NO[e.s.yT(v,96)]),0===y)t?.PO(i,s,c,w.s.xO,u.s.cd,-1,p,A,I,g,e.s.yT(b,_),e.s.yT(b,C),e.s.yT(b,E),e.s.yT(b,T),d.s.Kl,d.s.Kl,d.s.Kl,d.s.Kl,O,d.s.Kl);else{const h=this.CO[i][s][c]+1,n=this.EO[i][s][c],l=e.s.Tr[y-1];let o,a,f=l.AT;f>=0?(a=r.s.DO(f),o=-1):l.pT===d.s.gc?(a=0,o=-2,f=-1):(o=e.s.wT(l._T,l.CT,l.ET),a=r.s.NO[e.s.mT(l.vT,96)]),t?.PO(i,s,c,h,n,f,p,A,I,g,e.s.yT(b,_),e.s.yT(b,C),e.s.yT(b,E),e.s.yT(b,T),e.s.mT(o,_),e.s.mT(o,C),e.s.mT(o,E),e.s.mT(o,T),O,a)}}}}}}for(let s=1;s<this.FI-1;s++)for(let h=1;h<this.DI-1;h++)t?.FO(i,h,s,this.MO(i,h,s))}m.uO||t?.UO(64,768,-50,-10,-50);for(let i=0;i<this.DI;i++)for(let s=0;s<this.FI;s++)2==(2&this.Ve[1][i][s])&&t?.BO(i,s);if(!m.uO){let t=1,i=2,s=4;for(let e=0;e<h.s.Pe;e++){e>0&&(t<<=3,i<<=3,s<<=3);for(let h=0;h<=e;h++)for(let n=0;n<=this.FI;n++)for(let r=0;r<=this.DI;r++){if(0!=(this.RO[h][r][n]&t)){let i=n,s=n,o=h,a=h;for(;i>0&&0!=(this.RO[h][r][i-1]&t);)i--;for(;s<this.FI&&0!=(this.RO[h][r][s+1]&t);)s++;t:for(;o>0;){for(let h=i;h<=s;h++)if(0==(this.RO[o-1][r][h]&t))break t;o--}t:for(;a<e;){for(let h=i;h<=s;h++)if(0==(this.RO[a+1][r][h]&t))break t;a++}if((a+1-o)*(s+1-i)>=8){const h=this.Ye[a][r][i]-240,n=this.Ye[o][r][i];l.s.GO(e,1,128*r,h,128*i,128*r,n,128*s+128);for(let h=o;h<=a;h++)for(let e=i;e<=s;e++)this.RO[h][r][e]&=~t}}if(0!=(this.RO[h][r][n]&i)){let t=r,s=r,o=h,a=h;for(;t>0&&0!=(this.RO[h][t-1][n]&i);)t--;for(;s<this.DI&&0!=(this.RO[h][s+1][n]&i);)s++;t:for(;o>0;){for(let h=t;h<=s;h++)if(0==(this.RO[o-1][h][n]&i))break t;o--}t:for(;a<e;){for(let h=t;h<=s;h++)if(0==(this.RO[a+1][h][n]&i))break t;a++}if((a+1-o)*(s+1-t)>=8){const h=this.Ye[a][t][n]-240,r=this.Ye[o][t][n];l.s.GO(e,2,128*t,h,128*n,128*s+128,r,128*n);for(let h=o;h<=a;h++)for(let e=t;e<=s;e++)this.RO[h][e][n]&=~i}}if(0!=(this.RO[h][r][n]&s)){let t=r,i=r,o=n,a=n;for(;o>0&&0!=(this.RO[h][r][o-1]&s);)o--;for(;a<this.FI&&0!=(this.RO[h][r][a+1]&s);)a++;t:for(;t>0;){for(let i=o;i<=a;i++)if(0==(this.RO[h][t-1][i]&s))break t;t--}t:for(;i<this.DI;){for(let t=o;t<=a;t++)if(0==(this.RO[h][i+1][t]&s))break t;i++}if((i+1-t)*(a+1-o)>=4){const n=this.Ye[h][t][o];l.s.GO(e,4,128*t,n,128*o,128*i+128,n,128*a+128);for(let e=t;e<=i;e++)for(let t=o;t<=a;t++)this.RO[h][e][t]&=~s}}}}}};Mp=(t,i,s,n)=>{let r=0;for(let t=0;t<e.s.Gw;t++)if('water'===e.s.Tr[t].No?.Cd()){r=t+1<<24>>24;break}for(let e=t;e<t+s;e++)for(let t=i;t<i+n;t++)if(t>=0&&t<this.DI&&e>=0&&e<this.FI){this._O[0][t][e]=r;for(let i=0;i<h.s.Pe;i++)this.Ye[i][t][e]=0,this.Ve[i][t][e]=0}};Rp=(t,i,s,e,r)=>{const l=new n.s(new Uint8Array(r));for(let n=0;n<h.s.Pe;n++)for(let r=0;r<64;r++)for(let o=0;o<64;o++){const a=r+s,c=o+e;let f;if(a>=0&&a<h.s.je&&c>=0&&c<h.s.je)for(this.Ve[n][a][c]=0;;){if(f=l.Yy,0===f){0===n?this.Ye[0][a][c]=8*-m.dO(a+t+932731,c+556238+i):this.Ye[n][a][c]=this.Ye[n-1][a][c]-240;break}if(1===f){let t=l.Yy;1===t&&(t=0),0===n?this.Ye[0][a][c]=8*-t:this.Ye[n][a][c]=this.Ye[n-1][a][c]-8*t;break}f<=49?(this._O[n][a][c]=l.Wy,this.CO[n][a][c]=((f-2)/4|0)<<24>>24,this.EO[n][a][c]=(f-2&3)<<24>>24):f<=81?this.Ve[n][a][c]=f-49<<24>>24:this.gO[n][a][c]=f-81<<24>>24}else for(;f=l.Yy,0!==f;){if(1===f){l.Yy;break}f<=49&&l.Yy}}};xp=(t,i,s,e,r,l)=>{const o=new n.s(new Uint8Array(e));let a=-1;for(;;){const e=o.HO;if(0===e)return;a+=e;let n=0;for(;;){const e=o.HO;if(0===e)break;n+=e-1;const c=63&n,f=n>>6&63,u=n>>12,d=o.Yy,w=d>>2,y=3&d,m=f+r,p=c+l;if(m>0&&p>0&&m<h.s.je-1&&p<h.s.je-1){let h=u;2==(2&this.Ve[1][m][p])&&(h=u-1);let e=null;h>=0&&(e=s[h]),this._y(u,m,p,t,i,e,a,w,y)}}}};_y=(t,i,s,h,e,n,r,l,d)=>{if(m.l){if(0!=(16&this.Ve[t][i][s]))return;if(this.MO(t,i,s)!==m.Op)return}const w=this.Ye[t][i][s],y=this.Ye[t][i+1][s],p=this.Ye[t][i+1][s+1],A=this.Ye[t][i][s+1],I=w+y+p+A>>2,g=o.s.xo(r);let _=i+(s<<7)+(r<<14)+1073741824|0;g.My||(_+=-2147483648),_|=0;const C=((d<<6)+l|0)<<24>>24;if(l===f.s.Jw)(!m.l||g.My||g.QT)&&(h?.AO(g.Oo(f.s.Jw,d,w,y,p,A,-1),t,i,s,I,_,C),g.Oy&&g.My&&n&&n.Uv(i,s),-1!==g.ul&&e.fg(new a.s(r,t,3,i,s,c.s.Tr[g.ul],!0)));else if(l===f.s.$w||l===f.s.Kw){const o=g.Oo(f.s.$w,d,w,y,p,A,-1);if(o){let e,n,r=0;if(l===f.s.Kw&&(r+=256),d===u.s.fd||d===u.s.dd?(e=g.Pr,n=g.Yr):(e=g.Yr,n=g.Pr),h?._y(t,i,s,I,o,null,_,C,e,n,r)&&g.zT)for(let h=0;h<=e;h++)for(let e=0;e<=n;e++){let n=o.WO/4|0;n>30&&(n=30),n>this.TO[t][i+h][s+e]&&(this.TO[t][i+h][s+e]=n<<24>>24)}}g.Oy&&n&&n._y(i,s,g.Yr,g.Pr,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,2,i,s,c.s.Tr[g.ul],!0))}else if(l>=f.s.$v)h?._y(t,i,s,I,g.Oo(l,d,w,y,p,A,-1),null,_,C,1,1,0),l>=f.s.$v&&l<=f.s.iO&&l!==f.s.Kv&&t>0&&(this.RO[t][i][s]|=2340),g.Oy&&n&&n._y(i,s,g.Yr,g.Pr,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,2,i,s,c.s.Tr[g.ul],!0));else if(l===f.s.od)h?.Hv(t,i,s,I,m.rO[d],0,g.Oo(f.s.od,d,w,y,p,A,-1),null,_,C),d===u.s.cd?(g.zT&&(this.TO[t][i][s]=50,this.TO[t][i][s+1]=50),g.gT&&(this.RO[t][i][s]|=585)):d===u.s.fd?(g.zT&&(this.TO[t][i][s+1]=50,this.TO[t][i+1][s+1]=50),g.gT&&(this.RO[t][i][s+1]|=1170)):d===u.s.ud?(g.zT&&(this.TO[t][i+1][s]=50,this.TO[t][i+1][s+1]=50),g.gT&&(this.RO[t][i+1][s]|=585)):d===u.s.dd&&(g.zT&&(this.TO[t][i][s]=50,this.TO[t][i+1][s]=50),g.gT&&(this.RO[t][i][s]|=1170)),g.Oy&&n&&n.Hv(i,s,l,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,0,i,s,c.s.Tr[g.ul],!0)),16!==g.WT&&h?.ZO(t,i,s,g.WT);else if(l===f.s.Wv)h?.Hv(t,i,s,I,m.lO[d],0,g.Oo(f.s.Wv,d,w,y,p,A,-1),null,_,C),g.zT&&(d===u.s.cd?this.TO[t][i][s+1]=50:d===u.s.fd?this.TO[t][i+1][s+1]=50:d===u.s.ud?this.TO[t][i+1][s]=50:d===u.s.dd&&(this.TO[t][i][s]=50)),g.Oy&&n&&n.Hv(i,s,l,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,0,i,s,c.s.Tr[g.ul],!0));else if(l===f.s.ad){const o=d+1&3;h?.Hv(t,i,s,I,m.rO[d],m.rO[o],g.Oo(f.s.ad,d+4,w,y,p,A,-1),g.Oo(f.s.ad,o,w,y,p,A,-1),_,C),g.gT&&(d===u.s.cd?(this.RO[t][i][s]|=265,this.RO[t][i][s+1]|=1170):d===u.s.fd?(this.RO[t][i][s+1]|=1170,this.RO[t][i+1][s]|=585):d===u.s.ud?(this.RO[t][i+1][s]|=585,this.RO[t][i][s]|=1170):d===u.s.dd&&(this.RO[t][i][s]|=1170,this.RO[t][i][s]|=585)),g.Oy&&n&&n.Hv(i,s,l,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,0,i,s,c.s.Tr[g.ul],!0)),16!==g.WT&&h?.ZO(t,i,s,g.WT)}else if(l===f.s.wd)h?.Hv(t,i,s,I,m.lO[d],0,g.Oo(f.s.wd,d,w,y,p,A,-1),null,_,C),g.zT&&(d===u.s.cd?this.TO[t][i][s+1]=50:d===u.s.fd?this.TO[t][i+1][s+1]=50:d===u.s.ud?this.TO[t][i+1][s]=50:d===u.s.dd&&(this.TO[t][i][s]=50)),g.Oy&&n&&n.Hv(i,s,l,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,0,i,s,c.s.Tr[g.ul],!0));else if(l===f.s.md)h?._y(t,i,s,I,g.Oo(l,d,w,y,p,A,-1),null,_,C,1,1,0),g.Oy&&n&&n._y(i,s,g.Yr,g.Pr,d,g.Ly),-1!==g.ul&&e.fg(new a.s(r,t,2,i,s,c.s.Tr[g.ul],!0));else if(l===f.s.qI)h?.IO(t,i,s,I,0,0,_,g.Oo(f.s.qI,u.s.cd,w,y,p,A,-1),C,512*d,m.rO[d]),-1!==g.ul&&e.fg(new a.s(r,t,1,i,s,c.s.Tr[g.ul],!0));else if(l===f.s.wA){let n=16;if(h){const e=h.nd(t,i,s);e>0&&(n=o.s.xo(e>>14&32767).WT)}h?.IO(t,i,s,I,m.oO[d]*n,m.aO[d]*n,_,g.Oo(f.s.qI,u.s.cd,w,y,p,A,-1),C,512*d,m.rO[d]),-1!==g.ul&&e.fg(new a.s(r,t,1,i,s,c.s.Tr[g.ul],!0))}else l===f.s.Zv?(h?.IO(t,i,s,I,0,0,_,g.Oo(f.s.qI,u.s.cd,w,y,p,A,-1),C,d,256),-1!==g.ul&&e.fg(new a.s(r,t,1,i,s,c.s.Tr[g.ul],!0))):l===f.s.Yv?(h?.IO(t,i,s,I,0,0,_,g.Oo(f.s.qI,u.s.cd,w,y,p,A,-1),C,d,512),-1!==g.ul&&e.fg(new a.s(r,t,1,i,s,c.s.Tr[g.ul],!0))):l===f.s.Vv&&(h?.IO(t,i,s,I,0,0,_,g.Oo(f.s.qI,u.s.cd,w,y,p,A,-1),C,d,768),-1!==g.ul&&e.fg(new a.s(r,t,1,i,s,c.s.Tr[g.ul],!0)))};MO=(t,i,s)=>0==(8&this.Ve[t][i][s])?t<=0||0==(2&this.Ve[1][i][s])?t:t-1:0}},7221:(t,i,s)=>{s.t(i,{s:()=>I});var h=s(8078),e=s(6539),n=s(220),r=s(4138),l=s(3693),o=s(4155),a=s(3806),c=s(9118),f=s(9080),u=s(6711),d=s(9865),w=s(2991),y=s(8570),m=s(9190),p=s(5534),A=s(9345);class I{static YO=new A.VO(8,32,51,51,!1);static zO=new A.Ii(100,null);static XO=new Int32Array(l.s.Pe);static jO=new A.qO(l.s.Pe,500,null);static $O=new A.Ii(500,null);static KO=new f.s;static Xf=0;static JO=0;static QO=0;static tL=0;static iL=0;static sL=0;static hL=0;static eL=0;static nL=0;static rL=0;static lL=0;static oL=0;static aL=0;static cL=0;static fL=0;static uL=0;static dL=0;static wL=0;static yL=0;static mL=0;static pL=0;static AL=0;static IL=!1;static gL=null;static _L=Int32Array.of(19,55,38,155,255,110,137,205,76);static CL=Int32Array.of(160,192,80,96,0,144,80,48,160);static EL=Int32Array.of(76,8,137,4,0,1,38,2,19);static TL=Int32Array.of(0,0,2,0,0,2,1,1,0);static bL=Int32Array.of(2,0,0,2,0,0,0,4,4);static vL=Int32Array.of(0,4,4,8,0,0,8,0,0);static OL=Int32Array.of(1,1,0,0,0,8,0,0,8);static LL=Int32Array.of(53,-53,-53,53);static SL=Int32Array.of(-53,-53,53,53);static kL=Int32Array.of(-45,45,45,-45);static RL=Int32Array.of(45,45,-45,-45);static ML=[new Int32Array(16),Int32Array.of(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),Int32Array.of(1,0,0,0,1,1,0,0,1,1,1,0,1,1,1,1),Int32Array.of(1,1,0,0,1,1,0,0,1,0,0,0,1,0,0,0),Int32Array.of(0,0,1,1,0,0,1,1,0,0,0,1,0,0,0,1),Int32Array.of(0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1),Int32Array.of(1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1),Int32Array.of(1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0),Int32Array.of(0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0),Int32Array.of(1,1,1,1,1,1,1,1,0,1,1,1,0,0,1,1),Int32Array.of(1,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0),Int32Array.of(0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1),Int32Array.of(0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1)];static xL=[Int32Array.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15),Int32Array.of(12,8,4,0,13,9,5,1,14,10,6,2,15,11,7,3),Int32Array.of(15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0),Int32Array.of(3,7,11,15,2,6,10,14,1,5,9,13,0,4,8,12)];static NL=Int32Array.of(41,39248,41,4643,41,41,41,41,41,41,41,41,41,41,41,43086,41,41,41,41,41,41,41,8602,41,28992,41,41,41,41,41,5056,41,41,41,41,41,41,41,41,41,41,41,41,41,41,3131,41,41,41);static Mu=0;static Vl=0;static zl=0;static wf=-1;static yf=-1;static l=!0;static $a=(t,i,s,e,n)=>{this.JO=0,this.QO=0,this.tL=t,this.iL=i,this.sL=t/2|0,this.hL=i/2|0;const r=new A.VO(9,32,53,53,!1);for(let t=128;t<=384;t+=32)for(let i=0;i<2048;i+=64){this.eL=h.s.Eo[t],this.nL=h.s.vo[t],this.rL=h.s.Eo[i],this.lL=h.s.vo[i];const l=(t-128)/32|0,o=i/64|0;for(let t=-26;t<=26;t++)for(let i=-26;i<=26;i++){const h=128*t,a=128*i;let c=!1;for(let t=-s;t<=e;t+=128)if(this.PL(h,a,n[l]+t)){c=!0;break}r[l][o][t+25+1][i+25+1]=c}}for(let t=0;t<8;t++)for(let i=0;i<32;i++)for(let s=-25;s<25;s++)for(let h=-25;h<25;h++){let e=!1;t:for(let n=-1;n<=1;n++)for(let l=-1;l<=1;l++){if(r[t][i][s+n+25+1][h+l+25+1]){e=!0;break t}if(r[t][(i+1)%31][s+n+25+1][h+l+25+1]){e=!0;break t}if(r[t+1][i][s+n+25+1][h+l+25+1]){e=!0;break t}if(r[t+1][(i+1)%31][s+n+25+1][h+l+25+1]){e=!0;break t}}this.YO[t][i][s+25][h+25]=e}};static gr=()=>{this.zO=null,this.XO=null,this.jO=null,this.KO=null,this.YO=null,this.$O=null,this.gL=null,console.log('World3D unloaded!')};static GO=(t,i,s,h,e,n,l,o)=>{I.jO[t][I.XO[t]++]=new r.s(s/128|0,n/128|0,e/128|0,o/128|0,i,s,n,e,o,h,l)};static PL=(t,i,s)=>{const h=i*this.rL+t*this.lL>>16,e=i*this.lL-t*this.rL>>16,n=s*this.eL+e*this.nL>>16,r=s*this.nL-e*this.eL>>16;if(n<50||n>3500)return!1;const l=this.sL+((h<<9)/n|0),o=this.hL+((r<<9)/n|0);return l>=this.JO&&l<=this.tL&&o>=this.QO&&o<=this.iL};DL;DI;FI;FL;UL;_n;BL;GL;HL;WL=0;ZL=0;YL=0;Dg(t,i,s,h){this.DL=s,this.DI=h,this.FI=i,this.UL=new A.En(s,h,i,null),this.BL=new A.Fa(s,h+1,i+1),this.FL=t,this._n=new A.Ii(5e3,null),this.GL=new Int32Array(1e4),this.HL=new Int32Array(1e4),this.Dy()}Dy=()=>{for(let t=0;t<this.DL;t++)for(let i=0;i<this.DI;i++)for(let s=0;s<this.FI;s++)this.UL[t][i][s]=null;for(let t=0;t<l.s.Pe;t++){for(let i=0;i<I.XO[t];i++)I.jO[t][i]=null;I.XO[t]=0}for(let t=0;t<this.WL;t++)this._n[t]=null;this.WL=0,I.zO.io(null)};kp=t=>{this.ZL=t;for(let i=0;i<this.DI;i++)for(let s=0;s<this.FI;s++)this.UL[t][i][s]=new n.s(t,i,s)};BO=(t,i)=>{const s=this.UL[0][t][i];for(let s=0;s<3;s++){this.UL[s][t][i]=this.UL[s+1][t][i];const h=this.UL[s][t][i];h&&h.UI--}this.UL[0][t][i]||(this.UL[0][t][i]=new n.s(0,t,i));const h=this.UL[0][t][i];h&&(h.VL=s),this.UL[3][t][i]=null};FO=(t,i,s,h)=>{const e=this.UL[t][i][s];e&&(e.zL=h)};PO=(t,i,s,h,e,r,l,o,a,c,f,u,w,p,A,I,g,_,C,E)=>{if(h===m.s.xO){for(let h=t;h>=0;h--)this.UL[h][i][s]||(this.UL[h][i][s]=new n.s(h,i,s));const h=this.UL[t][i][s];h&&(h.XL=new d.s(f,u,w,p,-1,C,!1))}else if(h===m.s.jL){for(let h=t;h>=0;h--)this.UL[h][i][s]||(this.UL[h][i][s]=new n.s(h,i,s));const h=this.UL[t][i][s];h&&(h.XL=new d.s(A,I,g,_,r,E,l===o&&l===a&&l===c))}else{for(let h=t;h>=0;h--)this.UL[h][i][s]||(this.UL[h][i][s]=new n.s(h,i,s));const d=this.UL[t][i][s];d&&(d.qL=new y.s(i,h,I,o,w,e,f,c,E,A,r,_,C,a,g,p,l,s,u))}};AO=(t,i,s,h,e,r,l)=>{this.UL[i][s][h]||(this.UL[i][s][h]=new n.s(i,s,h));const a=this.UL[i][s][h];a&&(a.$L=new o.s(e,128*s+64,128*h+64,t,r,l))};Ry=(t,i,s)=>{const h=this.UL[t][i][s];h&&(h.$L=null)};gy=(t,i,s,h,e,r,l,o)=>{let a=0;const c=this.UL[h][t][i];if(c)for(let t=0;t<c.KL;t++){const i=c.JL[t];if(!i||!i.sa)continue;const s=i.sa.fb;s>a&&(a=s)}else this.UL[h][t][i]=new n.s(h,t,i);const f=this.UL[h][t][i];f&&(f.QL=new u.s(s,128*t+64,128*i+64,r,l,o,e,a))};wy=(t,i,s)=>{const h=this.UL[t][i][s];h&&(h.QL=null)};Hv=(t,i,s,h,e,r,l,o,c,f)=>{if(!l&&!o)return;for(let h=t;h>=0;h--)this.UL[h][i][s]||(this.UL[h][i][s]=new n.s(h,i,s));const u=this.UL[t][i][s];u&&(u.tS=new a.s(h,128*i+64,128*s+64,e,r,l,o,c,f))};vy=(t,i,s,h)=>{const e=this.UL[t][i][s];1===h&&e&&(e.tS=null)};IO=(t,i,s,h,e,r,l,o,a,f,u)=>{if(!o)return;for(let h=t;h>=0;h--)this.UL[h][i][s]||(this.UL[h][i][s]=new n.s(h,i,s));const d=this.UL[t][i][s];d&&(d.iS=new c.s(h,128*i+e+64,128*s+r+64,u,f,o,l,a))};Sy=(t,i,s)=>{const h=this.UL[t][i][s];h&&(h.iS=null)};ZO=(t,i,s,h)=>{const e=this.UL[t][i][s];if(!e)return;const n=e.iS;if(!n)return;const r=128*i+64,l=128*s+64;n.Ll=r+((n.Ll-r)*h/16|0),n.Wf=l+((n.Wf-l)*h/16|0)};jI=(t,i,s,h)=>{if(!h)return;const e=this.UL[t][i][s];if(!e)return;const n=e.iS;n&&(n.sa=h)};JI=(t,i,s,h)=>{if(!h)return;const e=this.UL[t][i][s];if(!e)return;const n=e.$L;n&&(n.sa=h)};KI=(t,i,s,h)=>{if(!h)return;const e=this.UL[t][i][s];if(!e)return;const n=e.tS;n&&(n.sS=h)};$I=(t,i,s,h,e)=>{if(!h)return;const n=this.UL[s][t][i];if(!n)return;const r=n.tS;r&&(r.sS=h,r.hS=e)};_y=(t,i,s,h,e,n,r,l,o,a,c)=>{if(!e&&!n)return!0;const f=128*i+64*o,u=128*s+64*a;return this.eS(f,u,h,t,i,s,o,a,e,n,r,l,c,!1)};kI=(t,i,s,h,e,n,r,l,o,a)=>{if(!e&&!n)return!0;let c=i-o,f=h-o,u=i+o,d=h+o;return a&&(l>640&&l<1408&&(d+=128),l>1152&&l<1920&&(u+=128),(l>1664||l<384)&&(f-=128),l>128&&l<896&&(c-=128)),c=c/128|0,f=f/128|0,u=u/128|0,d=d/128|0,this.eS(i,h,s,t,c,f,u+1-c,d-f+1,e,n,r,0,l,!0)};xI=(t,i,s,h,e,n,r,l,o,a,c,f)=>!o&&!a||this.eS(i,h,s,t,e,n,r+1-e,l-n+1,o,a,c,0,f,!0);ky=(t,i,s)=>{const h=this.UL[t][i][s];if(h)for(let t=0;t<h.KL;t++){const e=h.JL[t];if(e&&2==(e.nS>>29&3)&&e.rS===i&&e.lS===s)return void this.oS(e)}};XI=(t,i,s,h)=>{if(!h)return;const e=this.UL[t][i][s];if(e)for(let t=0;t<e.KL;t++){const i=e.JL[t];if(i&&2==(i.nS>>29&3))return void(i.sa=h)}};$f=()=>{for(let t=0;t<this.WL;t++){const i=this._n[t];i&&this.oS(i),this._n[t]=null}this.WL=0};nd=(t,i,s)=>{const h=this.UL[t][i][s];return h&&h.tS?h.tS.nS:0};Ty=(t,i,s)=>{const h=this.UL[t][s][i];return h&&h.iS?h.iS.nS:0};yd=(t,i,s)=>{const h=this.UL[t][i][s];if(!h)return 0;for(let t=0;t<h.KL;t++){const e=h.JL[t];if(e&&2==(e.nS>>29&3)&&e.rS===i&&e.lS===s)return e.nS}return 0};$u=(t,i,s)=>{const h=this.UL[t][i][s];return h&&h.$L?h.$L.nS:0};rd=(t,i,s,h)=>{const e=this.UL[t][i][s];if(e){if(e.tS&&e.tS.nS===h)return 255&e.tS.aS;if(e.iS&&e.iS.nS===h)return 255&e.iS.aS;if(e.$L&&e.$L.nS===h)return 255&e.$L.aS;for(let t=0;t<e.KL;t++){const i=e.JL[t];if(i&&i.nS===h)return 255&i.aS}return-1}return-1};UO=(t,i,s,h,e)=>{const n=i*(0|Math.sqrt(s*s+h*h+e*e))>>8;for(let i=0;i<this.DL;i++)for(let r=0;r<this.DI;r++)for(let l=0;l<this.FI;l++){const o=this.UL[i][r][l];if(!o)continue;const a=o.tS;a&&a.sS&&a.sS.cS&&(this.fS(i,r,l,1,1,a.sS),a.hS&&a.hS.cS&&(this.fS(i,r,l,1,1,a.hS),this.uS(a.sS,a.hS,0,0,0,!1),a.hS.dS(t,n,s,h,e)),a.sS.dS(t,n,s,h,e));for(let a=0;a<o.KL;a++){const c=o.JL[a];c&&c.sa&&c.sa.cS&&(this.fS(i,r,l,c.wS+1-c.rS,c.yS-c.lS+1,c.sa),c.sa.dS(t,n,s,h,e))}const c=o.$L;c&&c.sa&&c.sa.cS&&(this.mS(i,r,l,c.sa),c.sa.dS(t,n,s,h,e))}};mS=(t,i,s,h)=>{if(i<this.DI){const e=this.UL[t][i+1][s];e&&e.$L&&e.$L.sa&&e.$L.sa.cS&&this.uS(h,e.$L.sa,128,0,0,!0)}if(s<this.DI){const e=this.UL[t][i][s+1];e&&e.$L&&e.$L.sa&&e.$L.sa.cS&&this.uS(h,e.$L.sa,0,0,128,!0)}if(i<this.DI&&s<this.FI){const e=this.UL[t][i+1][s+1];e&&e.$L&&e.$L.sa&&e.$L.sa.cS&&this.uS(h,e.$L.sa,128,0,128,!0)}if(i<this.DI&&s>0){const e=this.UL[t][i+1][s-1];e&&e.$L&&e.$L.sa&&e.$L.sa.cS&&this.uS(h,e.$L.sa,128,0,-128,!0)}};fS=(t,i,s,h,e,n)=>{let r=!0,l=i;const o=i+h,a=s-1,c=s+e;for(let f=t;f<=t+1;f++)if(f!==this.DL){for(let u=l;u<=o;u++)if(!(u<0||u>=this.DI))for(let l=a;l<=c;l++){if(l<0||l>=this.FI||r&&u<o&&l<c&&(l>=s||u===i))continue;const a=this.UL[f][u][l];if(!a)continue;const d=128*(u-i)+64*(1-h),w=128*(l-s)+64*(1-e),y=((this.FL[f][u][l]+this.FL[f][u+1][l]+this.FL[f][u][l+1]+this.FL[f][u+1][l+1])/4|0)-((this.FL[t][i][s]+this.FL[t][i+1][s]+this.FL[t][i][s+1]+this.FL[t][i+1][s+1])/4|0),m=a.tS;m&&m.sS&&m.sS.cS&&this.uS(n,m.sS,d,y,w,r),m&&m.hS&&m.hS.cS&&this.uS(n,m.hS,d,y,w,r);for(let t=0;t<a.KL;t++){const l=a.JL[t];if(!l||!l.sa||!l.sa.cS)continue;const o=l.wS+1-l.rS,c=l.yS+1-l.lS;this.uS(n,l.sa,128*(l.rS-i)+64*(o-h),y,128*(l.lS-s)+64*(c-e),r)}}l--,r=!1}};uS=(t,i,s,h,e,n)=>{this.YL++;let r=0;const l=i.sb,o=i.ib;if(t.cS&&t.pS)for(let n=0;n<t.ib;n++){const a=t.cS[n],c=t.pS[n];if(c&&0!==c.KC){const f=t.eb[n]-h;if(f>i.AS)continue;const u=t.sb[n]-s;if(u<i.IS||u>i.gS)continue;const d=t.hb[n]-e;if(d<i._S||d>i.CS)continue;if(i.cS&&i.pS)for(let t=0;t<o;t++){const s=i.cS[t],h=i.pS[t];u!==l[t]||d!==i.hb[t]||f!==i.eb[t]||h&&0===h.KC||(a&&s&&h&&(a.Ll+=h.Ll,a.Sl+=h.Sl,a.Wf+=h.Wf,a.KC+=h.KC,s.Ll+=c.Ll,s.Sl+=c.Sl,s.Wf+=c.Wf,s.KC+=c.KC,r++),this.GL[n]=this.YL,this.HL[t]=this.YL)}}}if(!(r<3)&&n){if(t.ES)for(let i=0;i<t.TS;i++)this.GL[t.bS[i]]===this.YL&&this.GL[t.vS[i]]===this.YL&&this.GL[t.OS[i]]===this.YL&&(t.ES[i]=-1);if(i.ES)for(let t=0;t<i.TS;t++)this.HL[i.bS[t]]===this.YL&&this.HL[i.vS[t]]===this.YL&&this.HL[i.OS[t]]===this.YL&&(i.ES[t]=-1)}};ju=(t,i,s,h,e,n)=>{const r=this.UL[t][i][s];if(!r)return;const l=r.XL;if(l){const t=l.LS;if(0!==t)for(let i=0;i<4;i++)h[e]=t,h[e+1]=t,h[e+2]=t,h[e+3]=t,e+=n;return}const o=r.qL;if(!o)return;const a=o.Gp,c=o.SS,f=o.kS,u=o.RS,d=I.ML[a],w=I.xL[c];let y=0;if(0===f)for(let t=0;t<4;t++)0!==d[w[y++]]&&(h[e]=u),0!==d[w[y++]]&&(h[e+1]=u),0!==d[w[y++]]&&(h[e+2]=u),0!==d[w[y++]]&&(h[e+3]=u),e+=n;else for(let t=0;t<4;t++)h[e]=0===d[w[y++]]?f:u,h[e+1]=0===d[w[y++]]?f:u,h[e+2]=0===d[w[y++]]?f:u,h[e+3]=0===d[w[y++]]?f:u,e+=n};Xd=(t,i)=>{I.IL=!0,I.Vl=t,I.zl=i,I.wf=-1,I.yf=-1};il=(t,i,s,e,n,r,l)=>{t<0?t=0:t>=128*this.DI&&(t=128*this.DI-1),s<0?s=0:s>=128*this.FI&&(s=128*this.FI-1),I.Xf++,I.eL=h.s.Eo[r],I.nL=h.s.vo[r],I.rL=h.s.Eo[n],I.lL=h.s.vo[n],I.gL=I.YO[(r-128)/32|0][n/64|0],I.oL=t,I.aL=i,I.cL=s,I.fL=t/128|0,I.uL=s/128|0,I.pL=e,I.dL=I.fL-25,I.dL<0&&(I.dL=0),I.yL=I.uL-25,I.yL<0&&(I.yL=0),I.wL=I.fL+25,I.wL>this.DI&&(I.wL=this.DI),I.mL=I.uL+25,I.mL>this.FI&&(I.mL=this.FI),this.MS(),I.AL=0;for(let t=this.ZL;t<this.DL;t++){const s=this.UL[t];for(let h=I.dL;h<I.wL;h++)for(let n=I.yL;n<I.mL;n++){const r=s[h][n];r&&(r.zL<=e&&(I.gL[h+25-I.fL][n+25-I.uL]||this.FL[t][h][n]-i>=2e3)?(r.xS=!0,r.Qa=!0,r.NS=r.KL>0,I.AL++):(r.xS=!1,r.Qa=!1,r.PS=0))}}for(let t=this.ZL;t<this.DL;t++){const i=this.UL[t];for(let t=-25;t<=0;t++){const s=I.fL+t,h=I.fL-t;if(!(s<I.dL&&h>=I.wL))for(let t=-25;t<=0;t++){const e=I.uL+t,n=I.uL-t;let r;if(s>=I.dL&&(e>=I.yL&&(r=i[s][e],r&&r.xS&&this.DS(r,!0,l)),n<I.mL&&(r=i[s][n],r&&r.xS&&this.DS(r,!0,l))),h<I.wL&&(e>=I.yL&&(r=i[h][e],r&&r.xS&&this.DS(r,!0,l)),n<I.mL&&(r=i[h][n],r&&r.xS&&this.DS(r,!0,l))),0===I.AL)return void(I.IL=!1)}}}for(let t=this.ZL;t<this.DL;t++){const i=this.UL[t];for(let t=-25;t<=0;t++){const s=I.fL+t,h=I.fL-t;if(!(s<I.dL&&h>=I.wL))for(let t=-25;t<=0;t++){const e=I.uL+t,n=I.uL-t;let r;if(s>=I.dL&&(e>=I.yL&&(r=i[s][e],r&&r.xS&&this.DS(r,!1,l)),n<I.mL&&(r=i[s][n],r&&r.xS&&this.DS(r,!1,l))),h<I.wL&&(e>=I.yL&&(r=i[h][e],r&&r.xS&&this.DS(r,!1,l)),n<I.mL&&(r=i[h][n],r&&r.xS&&this.DS(r,!1,l))),0===I.AL)return void(I.IL=!1)}}}};eS=(t,i,s,h,r,l,o,a,c,f,u,d,w,y)=>{if(!c&&!f)return!1;for(let t=r;t<r+o;t++)for(let i=l;i<l+a;i++){if(t<0||i<0||t>=this.DI||i>=this.FI)return!1;const s=this.UL[h][t][i];if(s&&s.KL>=5)return!1}const m=new e.s(h,s,t,i,c,f,w,r,r+o-1,l,l+a-1,u,d);for(let t=r;t<r+o;t++)for(let i=l;i<l+a;i++){let s=0;t>r&&(s|=1),t<r+o-1&&(s+=4),i>l&&(s+=8),i<l+a-1&&(s+=2);for(let s=h;s>=0;s--)this.UL[s][t][i]||(this.UL[s][t][i]=new n.s(s,t,i));const e=this.UL[h][t][i];e&&(e.JL[e.KL]=m,e.FS[e.KL]=s,e.US|=s,e.KL++)}return y&&(this._n[this.WL++]=m),!0};oS=t=>{for(let i=t.rS;i<=t.wS;i++)for(let s=t.lS;s<=t.yS;s++){const h=this.UL[t.UI][i][s];if(h){for(let i=0;i<h.KL;i++)if(h.JL[i]===t){h.KL--;for(let t=i;t<h.KL;t++)h.JL[t]=h.JL[t+1],h.FS[t]=h.FS[t+1];h.JL[h.KL]=null;break}h.US=0;for(let t=0;t<h.KL;t++)h.US|=h.FS[t]}}};MS=()=>{const t=I.XO[I.pL],i=I.jO[I.pL];I.Mu=0;for(let s=0;s<t;s++){const t=i[s];if(!t)continue;let h,e,n,r;if(1===t.cl){if(h=t.NI+25-I.fL,h>=0&&h<=50){e=t.PI+25-I.uL,e<0&&(e=0),n=t.FI+25-I.uL,n>50&&(n=50);let i=!1;for(;e<=n;)if(I.gL&&I.gL[h][e++]){i=!0;break}if(i){if(r=I.oL-t.IS,r>32)t.BS=1;else{if(r>=-32)continue;t.BS=2,r=-r}t.GS=(t._S-I.cL<<8)/r|0,t.HS=(t.CS-I.cL<<8)/r|0,t.WS=(t.AS-I.aL<<8)/r|0,t.ZS=(t.ub-I.aL<<8)/r|0,I.$O[I.Mu++]=t}}}else if(2===t.cl){if(h=t.PI+25-I.uL,h>=0&&h<=50){e=t.NI+25-I.fL,e<0&&(e=0),n=t.DI+25-I.fL,n>50&&(n=50);let i=!1;for(;e<=n;)if(I.gL&&I.gL[e++][h]){i=!0;break}if(i){if(r=I.cL-t._S,r>32)t.BS=3;else{if(r>=-32)continue;t.BS=4,r=-r}t.YS=(t.IS-I.oL<<8)/r|0,t.VS=(t.gS-I.oL<<8)/r|0,t.WS=(t.AS-I.aL<<8)/r|0,t.ZS=(t.ub-I.aL<<8)/r|0,I.$O[I.Mu++]=t}}}else if(4===t.cl&&(h=t.AS-I.aL,h>128&&(e=t.PI+25-I.uL,e<0&&(e=0),n=t.FI+25-I.uL,n>50&&(n=50),e<=n))){let i=t.NI+25-I.fL;i<0&&(i=0),r=t.DI+25-I.fL,r>50&&(r=50);let s=!1;t:for(let t=i;t<=r;t++)for(let i=e;i<=n;i++)if(I.gL&&I.gL[t][i]){s=!0;break t}s&&(t.BS=5,t.YS=(t.IS-I.oL<<8)/h|0,t.VS=(t.gS-I.oL<<8)/h|0,t.GS=(t._S-I.cL<<8)/h|0,t.HS=(t.CS-I.cL<<8)/h|0,I.$O[I.Mu++]=t)}}};DS=(t,i,s)=>{for(I.KO.fg(t);;){let t;do{if(t=I.KO.zS(),!t)return}while(!t.Qa);const h=t.Ll,e=t.Wf,n=t.UI,r=t.XS,l=this.UL[n];if(t.xS){if(i){if(n>0){const t=this.UL[n-1][h][e];if(t&&t.Qa)continue}if(h<=I.fL&&h>I.dL){const i=l[h-1][e];if(i&&i.Qa&&(i.xS||0==(1&t.US)))continue}if(h>=I.fL&&h<I.wL-1){const i=l[h+1][e];if(i&&i.Qa&&(i.xS||0==(4&t.US)))continue}if(e<=I.uL&&e>I.yL){const i=l[h][e-1];if(i&&i.Qa&&(i.xS||0==(8&t.US)))continue}if(e>=I.uL&&e<I.mL-1){const i=l[h][e+1];if(i&&i.Qa&&(i.xS||0==(2&t.US)))continue}}else i=!0;if(t.xS=!1,t.VL){const i=t.VL;i.XL?this.jS(0,h,e)||this.qS(i.XL,0,h,e,I.eL,I.nL,I.rL,I.lL):i.qL&&!this.jS(0,h,e)&&this.$S(h,e,i.qL,I.eL,I.nL,I.rL,I.lL);const n=i.tS;n&&n.sS?.il(0,I.eL,I.nL,I.rL,I.lL,n.Ll-I.oL,n.Sl-I.aL,n.Wf-I.cL,n.nS);for(let t=0;t<i.KL;t++){const h=i.JL[t];if(h){let t=h.sa;t||(t=h.KS?.il(s)??null),t?.il(h.RI,I.eL,I.nL,I.rL,I.lL,h.Ll-I.oL,h.Sl-I.aL,h.Wf-I.cL,h.nS)}}}let o=!1;t.XL?this.jS(r,h,e)||(o=!0,this.qS(t.XL,r,h,e,I.eL,I.nL,I.rL,I.lL)):t.qL&&!this.jS(r,h,e)&&(o=!0,this.$S(h,e,t.qL,I.eL,I.nL,I.rL,I.lL));let a=0,c=0;const f=t.tS,u=t.iS;if((f||u)&&(I.fL===h?a+=1:I.fL<h&&(a+=2),I.uL===e?a+=3:I.uL>e&&(a+=6),c=I._L[a],t.JS=I.EL[a]),f&&(0==(f.QS&I.CL[a])?t.PS=0:16===f.QS?(t.PS=3,t.tk=I.TL[a],t.ik=3-t.tk):32===f.QS?(t.PS=6,t.tk=I.bL[a],t.ik=6-t.tk):64===f.QS?(t.PS=12,t.tk=I.vL[a],t.ik=12-t.tk):(t.PS=9,t.tk=I.OL[a],t.ik=9-t.tk),0==(f.QS&c)||this.sk(r,h,e,f.QS)||f.sS?.il(0,I.eL,I.nL,I.rL,I.lL,f.Ll-I.oL,f.Sl-I.aL,f.Wf-I.cL,f.nS),0==(f.hk&c)||this.sk(r,h,e,f.hk)||f.hS?.il(0,I.eL,I.nL,I.rL,I.lL,f.Ll-I.oL,f.Sl-I.aL,f.Wf-I.cL,f.nS)),u&&!this.xS(r,h,e,u.sa.ub))if(0!=(u.cl&c))u.sa.il(u.Bp,I.eL,I.nL,I.rL,I.lL,u.Ll-I.oL,u.Sl-I.aL,u.Wf-I.cL,u.nS);else if(0!=(768&u.cl)){const t=u.Ll-I.oL,i=u.Sl-I.aL,s=u.Wf-I.cL,h=u.Bp;let e,n;if(e=h===p.s.fd||h===p.s.ud?-t:t,n=h===p.s.ud||h===p.s.dd?-s:s,0!=(256&u.cl)&&n<e){const e=t+I.LL[h],n=s+I.SL[h];u.sa.il(512*h+256,I.eL,I.nL,I.rL,I.lL,e,i,n,u.nS)}if(0!=(512&u.cl)&&n>e){const e=t+I.kL[h],n=s+I.RL[h];u.sa.il(512*h+1280&2047,I.eL,I.nL,I.rL,I.lL,e,i,n,u.nS)}}if(o){const i=t.$L;i&&i.sa?.il(0,I.eL,I.nL,I.rL,I.lL,i.Ll-I.oL,i.Sl-I.aL,i.Wf-I.cL,i.nS);const s=t.QL;s&&0===s.ek&&(s.nk&&s.nk.il(0,I.eL,I.nL,I.rL,I.lL,s.Ll-I.oL,s.Sl-I.aL,s.Wf-I.cL,s.nS),s.rk&&s.rk.il(0,I.eL,I.nL,I.rL,I.lL,s.Ll-I.oL,s.Sl-I.aL,s.Wf-I.cL,s.nS),s.lk&&s.lk.il(0,I.eL,I.nL,I.rL,I.lL,s.Ll-I.oL,s.Sl-I.aL,s.Wf-I.cL,s.nS))}const d=t.US;if(0!==d){if(h<I.fL&&0!=(4&d)){const t=l[h+1][e];t&&t.Qa&&I.KO.fg(t)}if(e<I.uL&&0!=(2&d)){const t=l[h][e+1];t&&t.Qa&&I.KO.fg(t)}if(h>I.fL&&0!=(1&d)){const t=l[h-1][e];t&&t.Qa&&I.KO.fg(t)}if(e>I.uL&&0!=(8&d)){const t=l[h][e-1];t&&t.Qa&&I.KO.fg(t)}}}if(0!==t.PS){let i=!0;for(let s=0;s<t.KL;s++){const h=t.JL[s];if(h&&(h.Xf!==I.Xf&&(t.FS[s]&t.PS)===t.tk)){i=!1;break}}if(i){const i=t.tS;i&&!this.sk(r,h,e,i.QS)&&i.sS?.il(0,I.eL,I.nL,I.rL,I.lL,i.Ll-I.oL,i.Sl-I.aL,i.Wf-I.cL,i.nS),t.PS=0}}if(t.NS){const i=t.KL;t.NS=!1;let n=0;t:for(let s=0;s<i;s++){const i=t.JL[s];if(!i||i.Xf===I.Xf)continue;for(let s=i.rS;s<=i.wS;s++)for(let h=i.lS;h<=i.yS;h++){const e=l[s][h];if(e){if(!e.xS){if(0===e.PS)continue;let n=0;if(s>i.rS&&(n+=1),s<i.wS&&(n+=4),h>i.lS&&(n+=8),h<i.yS&&(n+=2),(n&e.PS)!==t.ik)continue}t.NS=!0;continue t}}I.zO[n++]=i;let h=I.fL-i.rS;const e=i.wS-I.fL;e>h&&(h=e);const r=I.uL-i.lS,o=i.yS-I.uL;i.ok=o>r?h+o:h+r}for(;;){let t=-50,i=-1;for(let s=0;s<n;s++){const h=I.zO[s];h&&(h.Xf!==I.Xf&&h.ok>t&&(t=h.ok,i=s))}if(-1===i)break;const o=I.zO[i];if(o){o.Xf=I.Xf;let t=o.sa;t||(t=o.KS?.il(s)??null),t&&!this.ak(r,o.rS,o.wS,o.lS,o.yS,t.ub)&&t.il(o.RI,I.eL,I.nL,I.rL,I.lL,o.Ll-I.oL,o.Sl-I.aL,o.Wf-I.cL,o.nS);for(let t=o.rS;t<=o.wS;t++)for(let i=o.lS;i<=o.yS;i++){const s=l[t][i];s&&(0!==s.PS?I.KO.fg(s):t===h&&i===e||!s.Qa||I.KO.fg(s))}}}if(t.NS)continue}if(!t.Qa||0!==t.PS)continue;if(h<=I.fL&&h>I.dL){const t=l[h-1][e];if(t&&t.Qa)continue}if(h>=I.fL&&h<I.wL-1){const t=l[h+1][e];if(t&&t.Qa)continue}if(e<=I.uL&&e>I.yL){const t=l[h][e-1];if(t&&t.Qa)continue}if(e>=I.uL&&e<I.mL-1){const t=l[h][e+1];if(t&&t.Qa)continue}t.Qa=!1,I.AL--;const o=t.QL;if(o&&0!==o.ek&&(o.nk&&o.nk.il(0,I.eL,I.nL,I.rL,I.lL,o.Ll-I.oL,o.Sl-I.aL-o.ek,o.Wf-I.cL,o.nS),o.rk&&o.rk.il(0,I.eL,I.nL,I.rL,I.lL,o.Ll-I.oL,o.Sl-I.aL-o.ek,o.Wf-I.cL,o.nS),o.lk&&o.lk.il(0,I.eL,I.nL,I.rL,I.lL,o.Ll-I.oL,o.Sl-I.aL-o.ek,o.Wf-I.cL,o.nS)),0!==t.JS){const i=t.iS;if(i&&!this.xS(r,h,e,i.sa.ub))if(0!=(i.cl&t.JS))i.sa.il(i.Bp,I.eL,I.nL,I.rL,I.lL,i.Ll-I.oL,i.Sl-I.aL,i.Wf-I.cL,i.nS);else if(0!=(768&i.cl)){const t=i.Ll-I.oL,s=i.Sl-I.aL,h=i.Wf-I.cL,e=i.Bp;let n,r;if(n=e===p.s.fd||e===p.s.ud?-t:t,r=e===p.s.ud||e===p.s.dd?-h:h,0!=(256&i.cl)&&r>=n){const n=t+I.LL[e],r=h+I.SL[e];i.sa.il(512*e+256,I.eL,I.nL,I.rL,I.lL,n,s,r,i.nS)}if(0!=(512&i.cl)&&r<=n){const n=t+I.kL[e],r=h+I.RL[e];i.sa.il(512*e+1280&2047,I.eL,I.nL,I.rL,I.lL,n,s,r,i.nS)}}const s=t.tS;s&&(0==(s.hk&t.JS)||this.sk(r,h,e,s.hk)||s.hS?.il(0,I.eL,I.nL,I.rL,I.lL,s.Ll-I.oL,s.Sl-I.aL,s.Wf-I.cL,s.nS),0==(s.QS&t.JS)||this.sk(r,h,e,s.QS)||s.sS?.il(0,I.eL,I.nL,I.rL,I.lL,s.Ll-I.oL,s.Sl-I.aL,s.Wf-I.cL,s.nS))}if(n<this.DL-1){const t=this.UL[n+1][h][e];t&&t.Qa&&I.KO.fg(t)}if(h<I.fL){const t=l[h+1][e];t&&t.Qa&&I.KO.fg(t)}if(e<I.uL){const t=l[h][e+1];t&&t.Qa&&I.KO.fg(t)}if(h>I.fL){const t=l[h-1][e];t&&t.Qa&&I.KO.fg(t)}if(e>I.uL){const t=l[h][e-1];t&&t.Qa&&I.KO.fg(t)}}};qS=(t,i,s,e,n,r,l,o)=>{let a,c,f,u,d=a=(s<<7)-I.oL,y=c=(e<<7)-I.cL,m=f=d+128,p=u=y+128,A=this.FL[i][s][e]-I.aL,g=this.FL[i][s+1][e]-I.aL,_=this.FL[i][s+1][e+1]-I.aL,C=this.FL[i][s][e+1]-I.aL,E=y*l+d*o>>16;if(y=y*o-d*l>>16,d=E,E=A*r-y*n>>16,y=A*n+y*r>>16,A=E,y<50)return;if(E=c*l+m*o>>16,c=c*o-m*l>>16,m=E,E=g*r-c*n>>16,c=g*n+c*r>>16,g=E,c<50)return;if(E=p*l+f*o>>16,p=p*o-f*l>>16,f=E,E=_*r-p*n>>16,p=_*n+p*r>>16,_=E,p<50)return;if(E=u*l+a*o>>16,u=u*o-a*l>>16,a=E,E=C*r-u*n>>16,u=C*n+u*r>>16,C=E,u<50)return;const T=h.s._o+((d<<9)/y|0),b=h.s.Co+((A<<9)/y|0),v=h.s._o+((m<<9)/c|0),O=h.s.Co+((g<<9)/c|0),L=h.s._o+((f<<9)/p|0),S=h.s.Co+((_<<9)/p|0),k=h.s._o+((a<<9)/u|0),R=h.s.Co+((C<<9)/u|0);if(h.s.ck=0,(L-k)*(O-R)-(S-R)*(v-k)>0)if(h.s.fk=L<0||k<0||v<0||L>w.s.uk||k>w.s.uk||v>w.s.uk,I.IL&&this.dk(I.Vl,I.zl,S,R,O,L,k,v)&&(I.wf=s,I.yf=e),-1===t.wk)12345678!==t.yk&&h.s.mk(L,k,v,S,R,O,t.yk,t.pk,t.Ak);else if(I.l){const i=I.NL[t.wk];h.s.mk(L,k,v,S,R,O,this.Ik(i,t.yk),this.Ik(i,t.pk),this.Ik(i,t.Ak))}else t.gk?h.s._k(L,k,v,S,R,O,t.yk,t.pk,t.Ak,d,A,y,m,a,g,C,c,u,t.wk):h.s._k(L,k,v,S,R,O,t.yk,t.pk,t.Ak,f,_,p,a,m,C,g,u,c,t.wk);if(!((T-v)*(R-O)-(b-O)*(k-v)<=0))if(h.s.fk=T<0||v<0||k<0||T>w.s.uk||v>w.s.uk||k>w.s.uk,I.IL&&this.dk(I.Vl,I.zl,b,O,R,T,v,k)&&(I.wf=s,I.yf=e),-1!==t.wk){if(!I.l)return void h.s._k(T,v,k,b,O,R,t.Ck,t.Ak,t.pk,d,A,y,m,a,g,C,c,u,t.wk);const i=I.NL[t.wk];h.s.mk(T,v,k,b,O,R,this.Ik(i,t.Ck),this.Ik(i,t.Ak),this.Ik(i,t.pk))}else 12345678!==t.Ck&&h.s.mk(T,v,k,b,O,R,t.Ck,t.Ak,t.pk)};$S=(t,i,s,e,n,r,l)=>{let o=s.sb.Pr;for(let t=0;t<o;t++){let i=s.sb[t]-I.oL,o=s.eb[t]-I.aL,a=s.hb[t]-I.cL,c=a*r+i*l>>16;if(a=a*l-i*r>>16,i=c,c=o*n-a*e>>16,a=o*e+a*n>>16,o=c,a<50)return;s.Ek&&(y.s.Tk[t]=i,y.s.bk[t]=o,y.s.vk[t]=a),y.s.Ok[t]=h.s._o+((i<<9)/a|0),y.s.Lk[t]=h.s.Co+((o<<9)/a|0)}h.s.ck=0,o=s.Sk.Pr;for(let e=0;e<o;e++){const n=s.Sk[e],r=s.kk[e],l=s.Rk[e],o=y.s.Ok[n],a=y.s.Ok[r],c=y.s.Ok[l],f=y.s.Lk[n],u=y.s.Lk[r],d=y.s.Lk[l];if((o-a)*(d-u)-(f-u)*(c-a)>0)if(h.s.fk=o<0||a<0||c<0||o>w.s.uk||a>w.s.uk||c>w.s.uk,I.IL&&this.dk(I.Vl,I.zl,f,u,d,o,a,c)&&(I.wf=t,I.yf=i),s.Ek&&-1!==s.Ek[e])if(I.l){const t=I.NL[s.Ek[e]];h.s.mk(o,a,c,f,u,d,this.Ik(t,s.Mk[e]),this.Ik(t,s.xk[e]),this.Ik(t,s.Nk[e]))}else s.gk?h.s._k(o,a,c,f,u,d,s.Mk[e],s.xk[e],s.Nk[e],y.s.Tk[0],y.s.bk[0],y.s.vk[0],y.s.Tk[1],y.s.Tk[3],y.s.bk[1],y.s.bk[3],y.s.vk[1],y.s.vk[3],s.Ek[e]):h.s._k(o,a,c,f,u,d,s.Mk[e],s.xk[e],s.Nk[e],y.s.Tk[n],y.s.bk[n],y.s.vk[n],y.s.Tk[r],y.s.Tk[l],y.s.bk[r],y.s.bk[l],y.s.vk[r],y.s.vk[l],s.Ek[e]);else 12345678!==s.Mk[e]&&h.s.mk(o,a,c,f,u,d,s.Mk[e],s.xk[e],s.Nk[e])}};jS=(t,i,s)=>{const h=this.BL[t][i][s];if(h===-I.Xf)return!1;if(h===I.Xf)return!0;{const h=i<<7,e=s<<7;return this.Pk(h+1,this.FL[t][i][s],e+1)&&this.Pk(h+128-1,this.FL[t][i+1][s],e+1)&&this.Pk(h+128-1,this.FL[t][i+1][s+1],e+128-1)&&this.Pk(h+1,this.FL[t][i][s+1],e+128-1)?(this.BL[t][i][s]=I.Xf,!0):(this.BL[t][i][s]=-I.Xf,!1)}};sk=(t,i,s,h)=>{if(!this.jS(t,i,s))return!1;const e=i<<7,n=s<<7,r=this.FL[t][i][s]-1,l=r-120,o=r-230,a=r-238;if(h<16){if(1===h){if(e>I.oL){if(!this.Pk(e,r,n))return!1;if(!this.Pk(e,r,n+128))return!1}if(t>0){if(!this.Pk(e,l,n))return!1;if(!this.Pk(e,l,n+128))return!1}return!!this.Pk(e,o,n)&&this.Pk(e,o,n+128)}if(2===h){if(n<I.cL){if(!this.Pk(e,r,n+128))return!1;if(!this.Pk(e+128,r,n+128))return!1}if(t>0){if(!this.Pk(e,l,n+128))return!1;if(!this.Pk(e+128,l,n+128))return!1}return!!this.Pk(e,o,n+128)&&this.Pk(e+128,o,n+128)}if(4===h){if(e<I.oL){if(!this.Pk(e+128,r,n))return!1;if(!this.Pk(e+128,r,n+128))return!1}if(t>0){if(!this.Pk(e+128,l,n))return!1;if(!this.Pk(e+128,l,n+128))return!1}return!!this.Pk(e+128,o,n)&&this.Pk(e+128,o,n+128)}if(8===h){if(n>I.cL){if(!this.Pk(e,r,n))return!1;if(!this.Pk(e+128,r,n))return!1}if(t>0){if(!this.Pk(e,l,n))return!1;if(!this.Pk(e+128,l,n))return!1}return!!this.Pk(e,o,n)&&this.Pk(e+128,o,n)}}return!!this.Pk(e+64,a,n+64)&&(16===h?this.Pk(e,o,n+128):32===h?this.Pk(e+128,o,n+128):64===h?this.Pk(e+128,o,n):128===h?this.Pk(e,o,n):(console.warn('Warning unsupported wall type!'),!0))};xS=(t,i,s,h)=>{if(this.jS(t,i,s)){const e=i<<7,n=s<<7;return this.Pk(e+1,this.FL[t][i][s]-h,n+1)&&this.Pk(e+128-1,this.FL[t][i+1][s]-h,n+1)&&this.Pk(e+128-1,this.FL[t][i+1][s+1]-h,n+128-1)&&this.Pk(e+1,this.FL[t][i][s+1]-h,n+128-1)}return!1};ak=(t,i,s,h,e,n)=>{let r,l;if(i!==s||h!==e){for(r=i;r<=s;r++)for(l=h;l<=e;l++)if(this.BL[t][r][l]===-I.Xf)return!1;l=1+(i<<7);const o=2+(h<<7),a=this.FL[t][i][h]-n;if(!this.Pk(l,a,o))return!1;const c=(s<<7)-1;if(!this.Pk(c,a,o))return!1;const f=(e<<7)-1;return!!this.Pk(l,a,f)&&this.Pk(c,a,f)}return!!this.jS(t,i,h)&&(r=i<<7,l=h<<7,this.Pk(r+1,this.FL[t][i][h]-n,l+1)&&this.Pk(r+128-1,this.FL[t][i+1][h]-n,l+1)&&this.Pk(r+128-1,this.FL[t][i+1][h+1]-n,l+128-1)&&this.Pk(r+1,this.FL[t][i][h+1]-n,l+128-1))};Pk=(t,i,s)=>{for(let h=0;h<I.Mu;h++){const e=I.$O[h];if(e)if(1===e.BS){const h=e.IS-t;if(h>0){const t=e._S+(e.GS*h>>8),n=e.CS+(e.HS*h>>8),r=e.AS+(e.WS*h>>8),l=e.ub+(e.ZS*h>>8);if(s>=t&&s<=n&&i>=r&&i<=l)return!0}}else if(2===e.BS){const h=t-e.IS;if(h>0){const t=e._S+(e.GS*h>>8),n=e.CS+(e.HS*h>>8),r=e.AS+(e.WS*h>>8),l=e.ub+(e.ZS*h>>8);if(s>=t&&s<=n&&i>=r&&i<=l)return!0}}else if(3===e.BS){const h=e._S-s;if(h>0){const s=e.IS+(e.YS*h>>8),n=e.gS+(e.VS*h>>8),r=e.AS+(e.WS*h>>8),l=e.ub+(e.ZS*h>>8);if(t>=s&&t<=n&&i>=r&&i<=l)return!0}}else if(4===e.BS){const h=s-e._S;if(h>0){const s=e.IS+(e.YS*h>>8),n=e.gS+(e.VS*h>>8),r=e.AS+(e.WS*h>>8),l=e.ub+(e.ZS*h>>8);if(t>=s&&t<=n&&i>=r&&i<=l)return!0}}else if(5===e.BS){const h=i-e.AS;if(h>0){const i=e.IS+(e.YS*h>>8),n=e.gS+(e.VS*h>>8),r=e._S+(e.GS*h>>8),l=e.CS+(e.HS*h>>8);if(t>=i&&t<=n&&s>=r&&s<=l)return!0}}}return!1};dk=(t,i,s,h,e,n,r,l)=>{if(i<s&&i<h&&i<e)return!1;if(i>s&&i>h&&i>e)return!1;if(t<n&&t<r&&t<l)return!1;if(t>n&&t>r&&t>l)return!1;const o=(i-h)*(l-r)-(t-r)*(e-h);return((i-s)*(r-n)-(t-n)*(h-s))*o>0&&o*((i-e)*(n-l)-(t-l)*(s-e))>0};Ik=(t,i)=>((i=(127-i)*(127&t)/160|0)<2?i=2:i>126&&(i=126),(65408&t)+i)}},9129:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{}},682:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{Fp;zI;Pp;Dp;Qu;VI;ml;wl;Dg(t,i,s,h,e,n,r){super(),this.Fp=i,this.zI=s,this.Pp=h,this.Dp=e,this.Qu=t,this.VI=n,r&&-1!==n.Al&&this.VI.yl?(this.ml=Math.Ha()*this.VI.pl|0,this.wl=Math.Ha()*this.VI.yl[this.ml]|0):(this.ml=-1,this.wl=0)}}},1353:(t,i,s)=>{s.t(i,{s:()=>l});var h=s(8839),e=s(9178),n=s(551),r=s(8067);class l extends h.s{cl=null;il=()=>{if(!this.cl)return null;if(-1===this.jA||-1===this.KA)return this.Ib();const t=this.Ib();if(!t)return null;const i=n.s.Tr[this.jA],s=e.s.nT(i.Oo(),!0,!i.HT,!1);s.Wa(-this.qA,0,0),s.Qo(),i.VI&&i.VI.Lo&&s.ta(i.VI.Lo[this.KA]),s.lb=null,s.ob=null,128===i.pb&&128===i.Ab||s.cb(i.pb,i.Ab,i.pb),s.ia(64+i.ZT,850+i.YT,-30,-50,-30,!0);const h=[t,s],r=e.s.Dk(h,2);return 1===this.cl.lA&&(r.Eb=!0),r};au=()=>null!==this.cl;Ib=()=>{if(!this.cl)return null;if(this.wp>=0&&0===this.WA){const t=r.s.Tr[this.wp].Lo;if(t){const i=t[this.GA];let s=-1;if(this.vI>=0&&this.vI!==this.Jo){const t=r.s.Tr[this.vI].Lo;t&&(s=t[this.eg])}return this.cl.Ib(i,s,r.s.Tr[this.wp].lg)}}let t=-1;if(this.vI>=0){const i=r.s.Tr[this.vI].Lo;i&&(t=i[this.eg])}const i=this.cl.Ib(t,-1,null);return i?(this.Vr=i.ub,i):null}}},7973:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{Qu;Gw;Dg(t,i){super(),this.Qu=t,this.Gw=i}}},8839:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(9129),e=s(8067),n=s(9345);class r extends h.s{Ll=0;Wf=0;RI=0;MI=!1;lA=1;Jo=-1;sg=-1;cI=-1;uI=-1;wI=-1;mI=-1;ag=-1;fu=null;mu=100;wu=0;yu=0;Cu=0;gu=0;pu=-1e3;Au=0;Iu=0;ZA=-1;YA=0;VA=0;vI=-1;eg=0;hg=0;wp=-1;GA=0;HA=0;WA=0;UA=0;jA=-1;KA=0;JA=0;$A=0;qA=0;QA=0;iI=0;tI=0;sI=0;hI=0;eI=0;nI=0;Xf=0;Vr=0;ig=0;rI=0;pf=new Int32Array(10);Af=new Int32Array(10);og=new n.Ii(10,!1);tg=0;DA=-1;FA=-1;zA=-1;XA=-1;MA=(t,i,s)=>{if(-1!==this.wp&&e.s.Tr[this.wp].BA<=1&&(this.wp=-1),!t){const t=i-this.pf[0],h=s-this.Af[0];if(t>=-8&&t<=8&&h>=-8&&h<=8){this.rI<9&&this.rI++;for(let t=this.rI;t>0;t--)this.pf[t]=this.pf[t-1],this.Af[t]=this.Af[t-1],this.og[t]=this.og[t-1];return this.pf[0]=i,this.Af[0]=s,void(this.og[0]=!1)}}this.rI=0,this.tg=0,this.pf[0]=i,this.Af[0]=s,this.Ll=128*this.pf[0]+64*this.lA,this.Wf=128*this.Af[0]+64*this.lA};RA=(t,i)=>{let s=this.pf[0],h=this.Af[0];0===i?(s--,h++):1===i?h++:2===i?(s++,h++):3===i?s--:4===i?s++:5===i?(s--,h--):6===i?h--:7===i&&(s++,h--),-1!==this.wp&&e.s.Tr[this.wp].BA<=1&&(this.wp=-1),this.rI<9&&this.rI++;for(let t=this.rI;t>0;t--)this.pf[t]=this.pf[t-1],this.Af[t]=this.Af[t-1],this.og[t]=this.og[t-1];this.pf[0]=s,this.Af[0]=h,this.og[0]=t}}},4191:(t,i,s)=>{s.t(i,{s:()=>u});var h=s(8839),e=s(9178),n=s(5542),r=s(551),l=s(8067),o=s(8809),a=s(1840),c=s(8934),f=s(9345);class u extends h.s{static Ko=[9104,10275,7595,3610,7975,8526,918,38802,24466,10145,58654,5027,1457,16565,34991,25486];static $o=[[6798,107,10283,16,4797,7744,5799,4634,33697,22433,2983,54193],[8741,12,64030,43162,7735,8404,1701,38430,24094,10153,56621,4783,1341,16578,35003,25239],[25238,8742,12,64030,43162,7735,8404,1701,38430,24094,10153,56621,4783,1341,16578,35003],[4626,11146,6439,12,4758,10270],[4550,4537,5681,5673,5790,6806,8076,4574]];static br=new n.s(200);No=null;xS=!1;Fk=0;cu=0;Uk=new Uint16Array(12);Bk=new Uint16Array(5);pa=0;Gk=0n;Sl=0;LI=0;SI=0;ug=0;wg=0;dg=0;OI=null;NI=0;PI=0;DI=0;FI=0;l=!1;il(t){if(!this.xS)return null;let i=this.Ib();if(this.Vr=i.ub,i.Eb=!0,this.l)return i;if(-1!==this.jA&&-1!==this.KA){const t=r.s.Tr[this.jA],s=e.s.nT(t.Oo(),!0,!t.HT,!1);s.Wa(-this.qA,0,0),s.Qo(),t.VI&&t.VI.Lo&&s.ta(t.VI.Lo[this.KA]),s.lb=null,s.ob=null,128===t.pb&&128===t.Ab||s.cb(t.pb,t.Ab,t.pb),s.ia(t.ZT+64,t.YT+850,-30,-50,-30,!0);const h=[i,s];i=e.s.Dk(h,2)}if(this.OI&&(t>=this.SI&&(this.OI=null),t>=this.LI&&t<this.SI)){const t=this.OI;if(t){t.Wa(this.wg-this.Sl,this.ug-this.Ll,this.dg-this.Wf),512===this.ig?(t.ab(),t.ab(),t.ab()):1024===this.ig?(t.ab(),t.ab()):1536===this.ig&&t.ab();const s=[i,t];i=e.s.Dk(s,2),512===this.ig?t.ab():1024===this.ig?(t.ab(),t.ab()):1536===this.ig&&(t.ab(),t.ab(),t.ab()),t.Wa(this.Sl-this.wg,this.Ll-this.ug,this.Wf-this.dg)}}return i.Eb=!0,i}au=()=>this.xS;Ur=t=>{t.Nc=0,this.Fk=t.Yy,this.cu=t.Yy;for(let i=0;i<12;i++){const s=t.Yy;this.Uk[i]=0===s?0:(s<<8)+t.Yy}for(let i=0;i<5;i++){let s=t.Yy;(s<0||s>=u.$o[i].Pr)&&(s=0),this.Bk[i]=s}this.Jo=t.Gy,65535===this.Jo&&(this.Jo=-1),this.sg=t.Gy,65535===this.sg&&(this.sg=-1),this.cI=t.Gy,65535===this.cI&&(this.cI=-1),this.uI=t.Gy,65535===this.uI&&(this.uI=-1),this.wI=t.Gy,65535===this.wI&&(this.wI=-1),this.mI=t.Gy,65535===this.mI&&(this.mI=-1),this.ag=t.Gy,65535===this.ag&&(this.ag=-1),this.No=c.s.Yo(c.s.Vo(t.Pc)),this.pa=t.Yy,this.xS=!0,this.Gk=0n;for(let t=0;t<12;t++)this.Gk<<=0x4n,this.Uk[t]>=256&&(this.Gk+=BigInt(this.Uk[t])-256n);this.Uk[0]>=256&&(this.Gk+=BigInt(this.Uk[0])-256n>>4n),this.Uk[1]>=256&&(this.Gk+=BigInt(this.Uk[1])-256n>>8n);for(let t=0;t<5;t++)this.Gk<<=0x3n,this.Gk+=BigInt(this.Bk[t]);this.Gk<<=0x1n,this.Gk+=BigInt(this.Fk)};Qy=()=>{if(!this.xS)return null;const t=new f.Ii(12,null);let i=0;for(let s=0;s<12;s++){const h=this.Uk[s];if(h>=256&&h<512&&(t[i++]=o.s.Tr[h-256].Qy()),h>=512){const s=a.s.xo(h-512).Qy(this.Fk);s&&(t[i++]=s)}}const s=e.s.jo(t,i);for(let t=0;t<5;t++)0!==this.Bk[t]&&(s.qo(u.$o[t][0],u.$o[t][this.Bk[t]]),1===t&&s.qo(u.Ko[0],u.Ko[this.Bk[t]]));return s};Ib=()=>{let t=this.Gk,i=-1,s=-1,h=-1,n=-1;if(this.wp>=0&&0===this.WA){const e=l.s.Tr[this.wp];if(e.Lo&&(i=e.Lo[this.GA]),this.vI>=0&&this.vI!==this.Jo){const t=l.s.Tr[this.vI].Lo;t&&(s=t[this.eg])}e.Jb>=0&&(h=e.Jb,t+=BigInt(h-this.Uk[5])<<8n),e.Qb>=0&&(n=e.Qb,t+=BigInt(n-this.Uk[3])<<16n)}else if(this.vI>=0){const t=l.s.Tr[this.vI].Lo;t&&(i=t[this.eg])}let r=u.br?.xo(t);if(!r){const i=new f.Ii(12,null);let s=0;for(let t=0;t<12;t++){let e=this.Uk[t];if(n>=0&&3===t&&(e=n),h>=0&&5===t&&(e=h),e>=256&&e<512){const t=o.s.Tr[e-256].Oo();t&&(i[s++]=t)}if(e>=512){const t=a.s.xo(e-512).Kb(this.Fk);t&&(i[s++]=t)}}r=e.s.jo(i,s);for(let t=0;t<5;t++)0!==this.Bk[t]&&(r.qo(u.$o[t][0],u.$o[t][this.Bk[t]]),1===t&&r.qo(u.Ko[0],u.Ko[this.Bk[t]]));r.Qo(),r.ia(64,850,-30,-50,-30,!0),u.br?.hT(t,r)}if(this.l)return r;const c=e.s.gb(r,!0);return-1!==i&&-1!==s?c._b(i,s,l.s.Tr[this.wp].lg):-1!==i&&c.ta(i),c.Cb(),c.lb=null,c.ob=null,c}}},1810:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(551),e=s(9129),n=s(9178);class r extends e.s{Hk;UI;Wk;Zk;Yk;ZI;GI;BI;Vk;zk;HI;Xk=!1;Ll=0;Wf=0;Sl=0;jk=0;qk=0;$k=0;Kk=0;Jk=0;RI=0;Qk=0;ml=0;wl=0;Dg(t,i,s,e,n,r,l,o,a,c,f){super(),this.Hk=h.s.Tr[t],this.UI=i,this.Wk=s,this.Zk=n,this.Yk=e,this.GI=r,this.BI=l,this.Vk=o,this.zk=a,this.HI=c,this.ZI=f}WI=(t,i,s,h)=>{if(!this.Xk){const i=t-this.Wk,h=s-this.Zk,e=Math.sqrt(i*i+h*h);this.Ll=this.Wk+i*this.zk/e,this.Wf=this.Zk+h*this.zk/e,this.Sl=this.Yk}const e=this.BI+1-h;this.jk=(t-this.Ll)/e,this.qk=(s-this.Wf)/e,this.$k=Math.sqrt(this.jk*this.jk+this.qk*this.qk),this.Xk||(this.Kk=-this.$k*Math.tan(.02454369*this.Vk)),this.Jk=2*(i-this.Sl-this.Kk*e)/(e*e)};Qa=t=>{if(this.Xk=!0,this.Ll+=this.jk*t,this.Wf+=this.qk*t,this.Sl+=this.Kk*t+.5*this.Jk*t*t,this.Kk+=this.Jk*t,this.RI=2047&(325.949*Math.atan2(this.jk,this.qk)+1024|0),this.Qk=2047&(325.949*Math.atan2(this.Kk,this.$k)|0),this.Hk.VI&&this.Hk.VI.yl)for(this.wl+=t;this.wl>this.Hk.VI.yl[this.ml];)this.wl-=this.Hk.VI.yl[this.ml]+1,this.ml++,this.ml>=this.Hk.VI.pl&&(this.ml=0)};il=()=>{const t=this.Hk.Oo(),i=n.s.nT(t,!0,!this.Hk.HT,!1);return this.Hk.VI&&this.Hk.VI.Lo&&(i.Qo(),i.ta(this.Hk.VI.Lo[this.ml]),i.lb=null,i.ob=null),128===this.Hk.pb&&128===this.Hk.Ab||i.cb(this.Hk.pb,this.Hk.Ab,this.Hk.pb),i.tR(this.Qk),i.ia(64+this.Hk.ZT,850+this.Hk.YT,-30,-50,-30,!0),i}}},5659:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(9129),e=s(551),n=s(9178);class r extends h.s{cl;UI;Ll;Wf;Sl;GI;YI=!1;ml=0;wl=0;Dg(t,i,s,h,n,r,l){super(),this.cl=e.s.Tr[t],this.UI=i,this.Ll=s,this.Wf=h,this.Sl=n,this.GI=r+l}Qa=t=>{if(this.cl.VI&&this.cl.VI.yl)for(this.wl+=t;this.wl>this.cl.VI.yl[this.ml];)this.wl-=this.cl.VI.yl[this.ml]+1,this.ml++,this.ml>=this.cl.VI.pl&&(this.ml=0,this.YI=!0)};il=()=>{const t=this.cl.Oo(),i=n.s.nT(t,!0,!this.cl.HT,!1);return!this.YI&&this.cl.VI&&this.cl.VI.Lo&&(i.Qo(),i.ta(this.cl.VI.Lo[this.ml]),i.lb=null,i.ob=null),128===this.cl.pb&&128===this.cl.Ab||i.cb(this.cl.pb,this.cl.Ab,this.cl.pb),0!==this.cl.iv&&(90===this.cl.iv?i.ab():180===this.cl.iv?(i.ab(),i.ab()):270===this.cl.iv&&(i.ab(),i.ab(),i.ab())),i.ia(64+this.cl.ZT,850+this.cl.YT,-30,-50,-30,!0),i}}},4155:(t,i,s)=>{s.t(i,{s:()=>h});class h{Sl;Ll;Wf;sa;nS;aS;Dg(t,i,s,h,e,n){this.Sl=t,this.Ll=i,this.Wf=s,this.sa=h,this.nS=e,this.aS=n}}},6539:(t,i,s)=>{s.t(i,{s:()=>h});class h{UI;Sl;Ll;Wf;sa;KS;RI;rS;wS;lS;yS;nS;aS;ok=0;Xf=0;Dg(t,i,s,h,e,n,r,l,o,a,c,f,u){this.UI=t,this.Sl=i,this.Ll=s,this.Wf=h,this.sa=e,this.KS=n,this.RI=r,this.rS=l,this.wS=o,this.lS=a,this.yS=c,this.nS=f,this.aS=u}}},7396:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{jm;gd;Ll;Wf;Up;Bp;Gp;BI;Dg(t,i,s,h,e,n,r,l){super(),this.jm=t,this.gd=i,this.Ll=s,this.Wf=h,this.Up=e,this.Bp=n,this.Gp=r,this.BI=l}}},6150:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{jm;gd;Ll;Wf;Up;Bp;Gp;qm;$m;Km;Dg(t,i,s,h,e,n,r,l,o,a){super(),this.jm=t,this.gd=i,this.Ll=s,this.Wf=h,this.Up=e,this.Bp=n,this.Gp=r,this.qm=l,this.$m=o,this.Km=a}}},6711:(t,i,s)=>{s.t(i,{s:()=>h});class h{Sl;Ll;Wf;lk;rk;nk;nS;ek;Dg(t,i,s,h,e,n,r,l){this.Sl=t,this.Ll=i,this.Wf=s,this.lk=h,this.rk=e,this.nk=n,this.nS=r,this.ek=l}}},4138:(t,i,s)=>{s.t(i,{s:()=>h});class h{NI;DI;PI;FI;cl;IS;gS;_S;CS;AS;ub;BS=0;YS=0;VS=0;GS=0;HS=0;WS=0;ZS=0;Dg(t,i,s,h,e,n,r,l,o,a,c){this.NI=t,this.DI=i,this.PI=s,this.FI=h,this.cl=e,this.IS=n,this.gS=r,this._S=l,this.CS=o,this.AS=a,this.ub=c}}},220:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(3064),e=s(9345);class n extends h.s{UI;Ll;Wf;XS;JL;FS;XL=null;qL=null;tS=null;iS=null;$L=null;QL=null;VL=null;KL=0;US=0;zL=0;xS=!1;Qa=!1;NS=!1;PS=0;tk=0;ik=0;JS=0;Dg(t,i,s){super(),this.XS=this.UI=t,this.Ll=i,this.Wf=s,this.JL=new e.Ii(5,null),this.FS=new Int32Array(5)}}},8570:(t,i,s)=>{s.t(i,{s:()=>h});class h{static Ok=new Int32Array(6);static Lk=new Int32Array(6);static Tk=new Int32Array(6);static bk=new Int32Array(6);static vk=new Int32Array(6);static iR=[Int32Array.of(1,3,5,7),Int32Array.of(1,3,5,7),Int32Array.of(1,3,5,7),Int32Array.of(1,3,5,7,6),Int32Array.of(1,3,5,7,6),Int32Array.of(1,3,5,7,6),Int32Array.of(1,3,5,7,6),Int32Array.of(1,3,5,7,2,6),Int32Array.of(1,3,5,7,2,8),Int32Array.of(1,3,5,7,2,8),Int32Array.of(1,3,5,7,11,12),Int32Array.of(1,3,5,7,11,12),Int32Array.of(1,3,5,7,13,14)];static sR=[Int32Array.of(0,1,2,3,0,0,1,3),Int32Array.of(1,1,2,3,1,0,1,3),Int32Array.of(0,1,2,3,1,0,1,3),Int32Array.of(0,0,1,2,0,0,2,4,1,0,4,3),Int32Array.of(0,0,1,4,0,0,4,3,1,1,2,4),Int32Array.of(0,0,4,3,1,0,1,2,1,0,2,4),Int32Array.of(0,1,2,4,1,0,1,4,1,0,4,3),Int32Array.of(0,4,1,2,0,4,2,5,1,0,4,5,1,0,5,3),Int32Array.of(0,4,1,2,0,4,2,3,0,4,3,5,1,0,4,5),Int32Array.of(0,0,4,5,1,4,1,2,1,4,2,3,1,4,3,5),Int32Array.of(0,0,1,5,0,1,4,5,0,1,2,4,1,0,5,3,1,5,4,3,1,4,2,3),Int32Array.of(1,0,1,5,1,1,4,5,1,1,2,4,0,0,5,3,0,5,4,3,0,4,2,3),Int32Array.of(1,0,5,4,1,0,1,5,0,0,4,3,0,4,5,3,0,5,2,3,0,1,2,5)];static hR=128;static eR=this.hR/2|0;static nR=this.hR/4|0;static rR=3*this.hR/4|0;sb;eb;hb;Mk;xk;Nk;Sk;kk;Rk;Ek;gk;Gp;SS;kS;RS;Dg(t,i,s,e,n,r,l,o,a,c,f,u,d,w,y,m,p,A,I){this.gk=!(p!==e||p!==w||p!==o),this.Gp=i,this.SS=r,this.kS=d,this.RS=a;const g=h.iR[i],_=g.Pr;this.sb=new Int32Array(_),this.eb=new Int32Array(_),this.hb=new Int32Array(_);const C=new Int32Array(_),E=new Int32Array(_),T=t*h.hR,b=A*h.hR;for(let t=0;t<_;t++){let i,a,f,d,A,_=g[t];0==(1&_)&&_<=8&&(_=1+(_-r-r-1&7)),_>8&&_<=12&&(_=9+(_-r-9&3)),_>12&&_<=16&&(_=13+(_-r-13&3)),1===_?(i=T,a=b,f=p,d=l,A=c):2===_?(i=T+h.eR,a=b,f=p+e>>1,d=l+I>>1,A=c+s>>1):3===_?(i=T+h.hR,a=b,f=e,d=I,A=s):4===_?(i=T+h.hR,a=b+h.eR,f=e+w>>1,d=I+n>>1,A=s+y>>1):5===_?(i=T+h.hR,a=b+h.hR,f=w,d=n,A=y):6===_?(i=T+h.eR,a=b+h.hR,f=w+o>>1,d=n+m>>1,A=y+u>>1):7===_?(i=T,a=b+h.hR,f=o,d=m,A=u):8===_?(i=T,a=b+h.eR,f=o+p>>1,d=m+l>>1,A=u+c>>1):9===_?(i=T+h.eR,a=b+h.nR,f=p+e>>1,d=l+I>>1,A=c+s>>1):10===_?(i=T+h.rR,a=b+h.eR,f=e+w>>1,d=I+n>>1,A=s+y>>1):11===_?(i=T+h.eR,a=b+h.rR,f=w+o>>1,d=n+m>>1,A=y+u>>1):12===_?(i=T+h.nR,a=b+h.eR,f=o+p>>1,d=m+l>>1,A=u+c>>1):13===_?(i=T+h.nR,a=b+h.nR,f=p,d=l,A=c):14===_?(i=T+h.rR,a=b+h.nR,f=e,d=I,A=s):15===_?(i=T+h.rR,a=b+h.rR,f=w,d=n,A=y):(i=T+h.nR,a=b+h.rR,f=o,d=m,A=u),this.sb[t]=i,this.eb[t]=f,this.hb[t]=a,C[t]=d,E[t]=A}const v=h.sR[i],O=v.Pr/4|0;this.Sk=new Int32Array(O),this.kk=new Int32Array(O),this.Rk=new Int32Array(O),this.Mk=new Int32Array(O),this.xk=new Int32Array(O),this.Nk=new Int32Array(O),this.Ek=-1!==f?new Int32Array(O):null;let L=0;for(let t=0;t<O;t++){const i=v[L];let s=v[L+1],h=v[L+2],e=v[L+3];L+=4,s<4&&(s=s-r&3),h<4&&(h=h-r&3),e<4&&(e=e-r&3),this.Sk[t]=s,this.kk[t]=h,this.Rk[t]=e,0===i?(this.Mk[t]=C[s],this.xk[t]=C[h],this.Nk[t]=C[e],this.Ek&&(this.Ek[t]=-1)):(this.Mk[t]=E[s],this.xk[t]=E[h],this.Nk[t]=E[e],this.Ek&&(this.Ek[t]=f))}}}},9190:(t,i,s)=>{var h;s.t(i,{s:()=>e}),function(t){t[t.xO=0]="PLAIN",t[t.jL=1]="DIAGONAL",t[t.lR=2]="LEFT_SEMI_DIAGONAL_SMALL",t[t.oR=3]="RIGHT_SEMI_DIAGONAL_SMALL",t[t.aR=4]="LEFT_SEMI_DIAGONAL_BIG",t[t.cR=5]="RIGHT_SEMI_DIAGONAL_BIG",t[t.eR=6]="HALF_SQUARE",t[t.nR=7]="CORNER_SMALL",t[t.rR=8]="CORNER_BIG",t[t.fR=9]="FAN_SMALL",t[t.uR=10]="FAN_BIG",t[t.dR=11]="TRAPEZIUM"}(h||(h={}));const e=h},9865:(t,i,s)=>{s.t(i,{s:()=>h});class h{Ck;Ak;yk;pk;wk;LS;gk;Dg(t,i,s,h,e,n,r){this.Ck=t,this.Ak=i,this.yk=s,this.pk=h,this.wk=e,this.LS=n,this.gk=r}}},3806:(t,i,s)=>{s.t(i,{s:()=>h});class h{Sl;Ll;Wf;QS;hk;sS;hS;nS;aS;Dg(t,i,s,h,e,n,r,l,o){this.Sl=t,this.Ll=i,this.Wf=s,this.QS=h,this.hk=e,this.sS=n,this.hS=r,this.nS=l,this.aS=o}}},9118:(t,i,s)=>{s.t(i,{s:()=>h});class h{Sl;Ll;Wf;cl;Bp;sa;nS;aS;Dg(t,i,s,h,e,n,r,l){this.Sl=t,this.Ll=i,this.Wf=s,this.cl=h,this.Bp=e,this.sa=n,this.nS=r,this.aS=l}}},3832:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e{lA;wR;Dg(t){this.lA=t,this.wR=[];for(let i=0;i<t;i++)this.wR[i]=new h.s}xo=t=>{const i=this.wR[Number(t&BigInt(this.lA-1))];if(!i.my)return null;for(let s=i.my;s!==i;s=s.my)if(s&&s.fl===t)return s;return null};hT=(t,i)=>{i.fA&&i.Ky();const s=this.wR[Number(t&BigInt(this.lA-1))];i.fA=s.fA,i.my=s,i.fA&&(i.fA.my=i),i.my.fA=i,i.fl=t}}},6327:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e extends h.s{yR;mR;Dg(){super(),this.yR=this,this.mR=this}pR=()=>{this.mR&&this.yR&&(this.mR.yR=this.yR,this.yR.mR=this.mR,this.yR=null,this.mR=null)}}},8934:(t,i,s)=>{s.t(i,{s:()=>h});class h{static AR=['_','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9'];static Yu=t=>{t=t._d();let i=0n;for(let s=0;s<t.Pr&&s<12;s++){const h=t.IR(s);i*=37n,h>=65&&h<=90?i+=BigInt(h+1-65):h>=97&&h<=122?i+=BigInt(h+1-97):h>=48&&h<=57&&(i+=BigInt(h+27-48))}return i};static Vo=t=>{if(t<0n||t>=6582952005840035281n)return'invalid_name';if(t%37n===0n)return'invalid_name';let i=0;const s=Array(12);for(;0n!==t;){const h=t;t/=37n,s[11-i++]=this.AR[Number(h-37n*t)]}return s.Dr(12-i).gR('')};static hy=t=>{const i=[...t.Cd()];let s=!0;for(let t=0;t<i.Pr;t++){const h=i[t];s&&h>='a'&&h<='z'&&(i[t]=h._R(),s=!1),'.'!==h&&'!'!==h||(s=!0)}return i.gR('')};static Sc=t=>{let i='';for(let s=0;s<t.Pr;s++)i+='*';return i};static ca=t=>(t>>24&255)+'.'+(t>>16&255)+'.'+(t>>8&255)+'.'+(255&t);static Yo=t=>{if(0===t.Pr)return t;const i=[...t];for(let t=0;t<i.Pr;t++)'_'===i[t]&&(i[t]=' ',t+1<i.Pr&&i[t+1]>='a'&&i[t+1]<='z'&&(i[t+1]=String.fromCharCode(i[t+1].IR(0)+'A'.IR(0)-97)));return i[0]>='a'&&i[0]<='z'&&(i[0]=String.fromCharCode(i[0].IR(0)+'A'.IR(0)-97)),i.gR('')};static sT=t=>{const i=t._R();let s=0n;for(let t=0;t<i.Pr;t++)s=61n*s+BigInt(i.IR(t))-32n,s=s+(s>>56n)&0xffffffffffffffn;return s}}},9080:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(3064);class e{CR;ER=null;Dg(){const t=new h.s;t.my=t,t.fA=t,this.CR=t}fg=t=>{t.fA&&t.Ky(),t.fA=this.CR.fA,t.my=this.CR,t.fA&&(t.fA.my=t),t.my.fA=t};Ay=t=>{t.fA&&t.Ky(),t.fA=this.CR,t.my=this.CR.my,t.fA.my=t,t.my&&(t.my.fA=t)};zS=()=>{const t=this.CR.my;return t===this.CR?null:(t?.Ky(),t)};yy=()=>{const t=this.CR.my;return t===this.CR?(this.ER=null,null):(this.ER=t?.my||null,t)};cA=()=>{const t=this.CR.fA;return t===this.CR?(this.ER=null,null):(this.ER=t?.fA||null,t)};my=()=>{const t=this.ER;return t===this.CR?(this.ER=null,null):(this.ER=t?.my||null,t)};fA=()=>{const t=this.ER;return t===this.CR?(this.ER=null,null):(this.ER=t?.fA||null,t)};uc=()=>{for(;;){const t=this.CR.my;if(t===this.CR)return;t?.Ky()}}}},3064:(t,i,s)=>{s.t(i,{s:()=>h});class h{fl;my;fA;Dg(){this.fl=0n,this.my=this,this.fA=this}Ky=()=>{this.fA&&this.my&&(this.fA.my=this.my,this.my.fA=this.fA,this.my=null,this.fA=null)}}},5542:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(8329),e=s(3832);class n{TR;bR;Cg;Fy;Dg(t){this.TR=t,this.Fy=t,this.bR=new e.s(1024),this.Cg=new h.s}xo=t=>{const i=this.bR.xo(t);return i&&this.Cg.vR(i),i};hT=(t,i)=>{if(0===this.Fy){const t=this.Cg.OR();t?.Ky(),t?.pR()}else this.Fy--;this.bR.hT(t,i),this.Cg.vR(i)};uc=()=>{const t=this.Cg.OR();t?(t.Ky(),t.pR()):this.Fy=this.TR}}},8329:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(6327);class e{CR;Dg(){this.CR=new h.s}vR=t=>{t.mR&&t.pR(),t.mR=this.CR.mR,t.yR=this.CR,t.mR&&(t.mR.yR=t),t.yR.mR=t};OR=()=>{const t=this.CR.yR;return t===this.CR?null:(t?.pR(),t)}}},6121:(t,i,s)=>{s.t(i,{Wr:()=>e,LR:()=>r,Fg:()=>h,SR:()=>n,kR:()=>l});const h=document.getElementById('canvas'),e=h.RR('2d',{MR:!0}),n=document.createElement('canvas'),r=document.createElement('img'),l=n.RR('2d',{MR:!0})},312:(t,i,s)=>{s.t(i,{s:()=>h});class h{static la=16711680;static ua=65280;static Ic=255;static Jl=16776960;static Ac=65535;static gc=16711935;static Rl=16777215;static Kl=0;static xR=16748608;static Uu=8388608;static Fu=128;static NR=16756736;static PR=16740352;static DR=16723968;static FR=12648192;static UR=8453888;static BR=4259584;static oc=9179409;static Ad=6116423;static sl=2301979;static hl=5063219;static nl=7759444;static ll=3353893;static Bu=8388736;static Gu=13350793;static Eu=Int32Array.of(h.Jl,h.la,h.ua,h.Ac,h.gc,h.Rl)}},2991:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(6327);class e extends h.s{static Xa=new Int32Array;static Sb=0;static kb=0;static Cl=0;static Tl=0;static _l=0;static El=0;static uk=0;static GR=0;static HR=0;static rc=(t,i,s)=>{this.Xa=t,this.Sb=i,this.kb=s,this.bl(0,0,i,s)};static bu=()=>{this._l=0,this.Cl=0,this.El=this.Sb,this.Tl=this.kb,this.uk=this.El-1,this.GR=this.El/2|0};static bl=(t,i,s,h)=>{t<0&&(t=0),i<0&&(i=0),s>this.Sb&&(s=this.Sb),h>this.kb&&(h=this.kb),this.Cl=i,this.Tl=h,this._l=t,this.El=s,this.uk=this.El-1,this.GR=this.El/2|0,this.HR=this.Tl/2|0};static uc=()=>{const t=this.Sb*this.kb;for(let i=0;i<t;i++)this.Xa[i]=0};static kl=(t,i,s,h,e)=>{this.rl(t,i,e,s),this.rl(t,i+h-1,e,s),this.el(t,i,e,h),this.el(t+s-1,i,e,h)};static rl=(t,i,s,h)=>{if(i<this.Cl||i>=this.Tl)return;t<this._l&&(h-=this._l-t,t=this._l),t+h>this.El&&(h=this.El-t);const e=t+i*this.Sb;for(let t=0;t<h;t++)this.Xa[e+t]=s};static el=(t,i,s,h)=>{if(t<this._l||t>=this.El)return;i<this.Cl&&(h-=this.Cl-i,i=this.Cl),i+h>this.Tl&&(h=this.Tl-i);const e=t+i*this.Sb;for(let t=0;t<h;t++)this.Xa[e+t*this.Sb]=s};static WR=(t,i,s,h,e)=>{const n=Math.abs(s-t),r=Math.abs(h-i),l=t<s?1:-1,o=i<h?1:-1;let a=n-r;for(;t>=this._l&&t<this.El&&i>=this.Cl&&i<this.Tl&&(this.Xa[t+i*this.Sb]=e),t!==s||i!==h;){const s=2*a;s>-r&&(a-=r,t+=l),s<n&&(a+=n,i+=o)}};static Zr=(t,i,s,h,e)=>{t<this._l&&(s-=this._l-t,t=this._l),i<this.Cl&&(h-=this.Cl-i,i=this.Cl),t+s>this.El&&(s=this.El-t),i+h>this.Tl&&(h=this.Tl-i);const n=this.Sb-s;let r=t+i*this.Sb;for(let t=-h;t<0;t++){for(let t=-s;t<0;t++)this.Xa[r++]=e;r+=n}};static ZR=(t,i,s)=>{t<this._l||t>=this.El||i<this.Cl||i>=this.Tl||(this.Xa[t+i*this.Sb]=s)}}},8078:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(2991),e=s(664),n=s(9345);class r extends h.s{static l=!1;static YR=new Int32Array(512);static VR=new Int32Array(2048);static Eo=new Int32Array(2048);static vo=new Int32Array(2048);static NO=new Int32Array(65536);static mg=new n.Ii(50,null);static zR=0;static qa=new Int32Array;static _o=0;static Co=0;static Rb=!0;static fk=!1;static ck=0;static XR=null;static jR=new n.Ii(50,null);static qR=0;static Xf=0;static yg=new Int32Array(50);static $R=new n.Ii(50,null);static KR=!1;static JR=new n.Ii(50,!1);static QR=new Int32Array(50);static{for(let t=1;t<512;t++)this.YR[t]=32768/t|0;for(let t=1;t<2048;t++)this.VR[t]=65536/t|0;for(let t=0;t<2048;t++)this.Eo[t]=65536*Math.Eo(.0030679615757712823*t)|0,this.vo[t]=65536*Math.vo(.0030679615757712823*t)|0}static gr=()=>{this.YR=null,this.YR=null,this.Eo=null,this.vo=null,this.qa=null,this.mg=null,this.JR=null,this.QR=null,this.XR=null,this.jR=null,this.yg=null,this.NO=null,this.$R=null,console.log('Draw3D unloaded!')};static Bg=()=>{this.qa=new Int32Array(h.s.kb);for(let t=0;t<h.s.kb;t++)this.qa[t]=h.s.Sb*t;this._o=h.s.Sb/2|0,this.Co=h.s.kb/2|0};static ja=(t,i)=>{this.qa=new Int32Array(i);for(let s=0;s<i;s++)this.qa[s]=t*s;this._o=t/2|0,this.Co=i/2|0};static Sp=()=>{this.XR=null,this.jR.io(null)};static Za=t=>{this.zR=0;for(let i=0;i<50;i++)try{this.mg[i]=e.s.xa(t,i._u()),this.l&&128===this.mg[i]?.jl?this.mg[i]?.tM():this.mg[i]?.Db(),this.zR++}catch(t){}};static DO=t=>{if(0!==this.QR[t])return this.QR[t];const i=this.$R[t];if(!i)return 0;let s=0,h=0,e=0;const n=i.Pr;for(let t=0;t<n;t++)s+=i[t]>>16&255,h+=i[t]>>8&255,e+=255&i[t];let r=((s/n|0)<<16)+((h/n|0)<<8)+(e/n|0);return r=this.iM(r,1.4),0===r&&(r=1),this.QR[t]=r,r};static Ya=t=>{const i=t+.03*Math.Ha()-.015;let s=0;for(let t=0;t<512;t++){const h=(t/8|0)/64+.0078125,e=(7&t)/8+.0625;for(let t=0;t<128;t++){const n=t/128;let r=n,l=n,o=n;if(0!==e){let t;t=n<.5?n*(e+1):n+e-n*e;const i=2*n-t;let s=h+.3333333333333333;s>1&&s--;let a=h-.3333333333333333;a<0&&a++,r=6*s<1?i+6*(t-i)*s:2*s<1?t:3*s<2?i+(t-i)*(.6666666666666666-s)*6:i,l=6*h<1?i+6*(t-i)*h:2*h<1?t:3*h<2?i+(t-i)*(.6666666666666666-h)*6:i,o=6*a<1?i+6*(t-i)*a:2*a<1?t:3*a<2?i+(t-i)*(.6666666666666666-a)*6:i}const a=((256*r|0)<<16)+((256*l|0)<<8)+(256*o|0);this.NO[s++]=this.iM(a,i)}}for(let t=0;t<50;t++){const s=this.mg[t];if(!s)continue;const h=s.NO;this.$R[t]=new Int32Array(h.Pr);for(let s=0;s<h.Pr;s++){const e=this.$R[t];e&&(e[s]=this.iM(h[s],i))}}for(let t=0;t<50;t++)this.pg(t)};static iM=(t,i)=>{const s=(t>>16)/256,h=(t>>8&255)/256,e=(255&t)/256;return((256*Math.pow(s,i)|0)<<16)+((256*Math.pow(h,i)|0)<<8)+(256*Math.pow(e,i)|0)};static Va=t=>{this.XR||(this.qR=t,this.l?this.XR=new n.Xe(t,16384):this.XR=new n.Xe(t,65536),this.jR.io(null))};static mk=(t,i,s,e,n,l,o,a,c)=>{let f=0,u=0;n!==e&&(f=(i-t<<16)/(n-e)|0,u=(a-o<<15)/(n-e)|0);let d=0,w=0;l!==n&&(d=(s-i<<16)/(l-n)|0,w=(c-a<<15)/(l-n)|0);let y=0,m=0;if(l!==e&&(y=(t-s<<16)/(e-l)|0,m=(o-c<<15)/(e-l)|0),e<=n&&e<=l){if(e<h.s.Tl)if(n>h.s.Tl&&(n=h.s.Tl),l>h.s.Tl&&(l=h.s.Tl),n<l)if(s=t<<=16,c=o<<=15,e<0&&(s-=y*e,t-=f*e,c-=m*e,o-=u*e,e=0),i<<=16,a<<=15,n<0&&(i-=d*n,a-=w*n,n=0),e!==n&&y<f||e===n&&y>d)for(l-=n,n-=e,e=r.qa[e];;){if(--n<0)for(;;){if(--l<0)return;this.sM(s>>16,i>>16,c>>7,a>>7,h.s.Xa,e,0),s+=y,i+=d,c+=m,a+=w,e+=h.s.Sb}this.sM(s>>16,t>>16,c>>7,o>>7,h.s.Xa,e,0),s+=y,t+=f,c+=m,o+=u,e+=h.s.Sb}else for(l-=n,n-=e,e=r.qa[e];;){if(--n<0)for(;;){if(--l<0)return;this.sM(i>>16,s>>16,a>>7,c>>7,h.s.Xa,e,0),s+=y,i+=d,c+=m,a+=w,e+=h.s.Sb}this.sM(t>>16,s>>16,o>>7,c>>7,h.s.Xa,e,0),s+=y,t+=f,c+=m,o+=u,e+=h.s.Sb}else if(i=t<<=16,a=o<<=15,e<0&&(i-=y*e,t-=f*e,a-=m*e,o-=u*e,e=0),s<<=16,c<<=15,l<0&&(s-=d*l,c-=w*l,l=0),e!==l&&y<f||e===l&&d>f)for(n-=l,l-=e,e=r.qa[e];;){if(--l<0)for(;;){if(--n<0)return;this.sM(s>>16,t>>16,c>>7,o>>7,h.s.Xa,e,0),s+=d,t+=f,c+=w,o+=u,e+=h.s.Sb}this.sM(i>>16,t>>16,a>>7,o>>7,h.s.Xa,e,0),i+=y,t+=f,a+=m,o+=u,e+=h.s.Sb}else for(n-=l,l-=e,e=r.qa[e];;){if(--l<0)for(;;){if(--n<0)return;this.sM(t>>16,s>>16,o>>7,c>>7,h.s.Xa,e,0),s+=d,t+=f,c+=w,o+=u,e+=h.s.Sb}this.sM(t>>16,i>>16,o>>7,a>>7,h.s.Xa,e,0),i+=y,t+=f,a+=m,o+=u,e+=h.s.Sb}}else if(n<=l){if(n<h.s.Tl)if(l>h.s.Tl&&(l=h.s.Tl),e>h.s.Tl&&(e=h.s.Tl),l<e)if(t=i<<=16,o=a<<=15,n<0&&(t-=f*n,i-=d*n,o-=u*n,a-=w*n,n=0),s<<=16,c<<=15,l<0&&(s-=y*l,c-=m*l,l=0),n!==l&&f<d||n===l&&f>y)for(e-=l,l-=n,n=r.qa[n];;){if(--l<0)for(;;){if(--e<0)return;this.sM(t>>16,s>>16,o>>7,c>>7,h.s.Xa,n,0),t+=f,s+=y,o+=u,c+=m,n+=h.s.Sb}this.sM(t>>16,i>>16,o>>7,a>>7,h.s.Xa,n,0),t+=f,i+=d,o+=u,a+=w,n+=h.s.Sb}else for(e-=l,l-=n,n=r.qa[n];;){if(--l<0)for(;;){if(--e<0)return;this.sM(s>>16,t>>16,c>>7,o>>7,h.s.Xa,n,0),t+=f,s+=y,o+=u,c+=m,n+=h.s.Sb}this.sM(i>>16,t>>16,a>>7,o>>7,h.s.Xa,n,0),t+=f,i+=d,o+=u,a+=w,n+=h.s.Sb}else if(s=i<<=16,c=a<<=15,n<0&&(s-=f*n,i-=d*n,c-=u*n,a-=w*n,n=0),t<<=16,o<<=15,e<0&&(t-=y*e,o-=m*e,e=0),l-=e,e-=n,n=r.qa[n],f<d)for(;;){if(--e<0)for(;;){if(--l<0)return;this.sM(t>>16,i>>16,o>>7,a>>7,h.s.Xa,n,0),t+=y,i+=d,o+=m,a+=w,n+=h.s.Sb}this.sM(s>>16,i>>16,c>>7,a>>7,h.s.Xa,n,0),s+=f,i+=d,c+=u,a+=w,n+=h.s.Sb}else for(;;){if(--e<0)for(;;){if(--l<0)return;this.sM(i>>16,t>>16,a>>7,o>>7,h.s.Xa,n,0),t+=y,i+=d,o+=m,a+=w,n+=h.s.Sb}this.sM(i>>16,s>>16,a>>7,c>>7,h.s.Xa,n,0),s+=f,i+=d,c+=u,a+=w,n+=h.s.Sb}}else if(l<h.s.Tl)if(e>h.s.Tl&&(e=h.s.Tl),n>h.s.Tl&&(n=h.s.Tl),e<n)if(i=s<<=16,a=c<<=15,l<0&&(i-=d*l,s-=y*l,a-=w*l,c-=m*l,l=0),t<<=16,o<<=15,e<0&&(t-=f*e,o-=u*e,e=0),n-=e,e-=l,l=r.qa[l],d<y)for(;;){if(--e<0)for(;;){if(--n<0)return;this.sM(i>>16,t>>16,a>>7,o>>7,h.s.Xa,l,0),i+=d,t+=f,a+=w,o+=u,l+=h.s.Sb}this.sM(i>>16,s>>16,a>>7,c>>7,h.s.Xa,l,0),i+=d,s+=y,a+=w,c+=m,l+=h.s.Sb}else for(;;){if(--e<0)for(;;){if(--n<0)return;this.sM(t>>16,i>>16,o>>7,a>>7,h.s.Xa,l,0),i+=d,t+=f,a+=w,o+=u,l+=h.s.Sb}this.sM(s>>16,i>>16,c>>7,a>>7,h.s.Xa,l,0),i+=d,s+=y,a+=w,c+=m,l+=h.s.Sb}else if(t=s<<=16,o=c<<=15,l<0&&(t-=d*l,s-=y*l,o-=w*l,c-=m*l,l=0),i<<=16,a<<=15,n<0&&(i-=f*n,a-=u*n,n=0),e-=n,n-=l,l=r.qa[l],d<y)for(;;){if(--n<0)for(;;){if(--e<0)return;this.sM(i>>16,s>>16,a>>7,c>>7,h.s.Xa,l,0),i+=f,s+=y,a+=u,c+=m,l+=h.s.Sb}this.sM(t>>16,s>>16,o>>7,c>>7,h.s.Xa,l,0),t+=d,s+=y,o+=w,c+=m,l+=h.s.Sb}else for(;;){if(--n<0)for(;;){if(--e<0)return;this.sM(s>>16,i>>16,c>>7,a>>7,h.s.Xa,l,0),i+=f,s+=y,a+=u,c+=m,l+=h.s.Sb}this.sM(s>>16,t>>16,c>>7,o>>7,h.s.Xa,l,0),t+=d,s+=y,o+=w,c+=m,l+=h.s.Sb}};static sM=(t,i,s,e,n,l,o)=>{let a;if(r.Rb){let c;if(r.fk){if(c=i-t>3?(e-s)/(i-t)|0:0,i>h.s.uk&&(i=h.s.uk),t<0&&(s-=t*c,t=0),t>=i)return;l+=t,o=i-t>>2,c<<=2}else{if(!(t<i))return;l+=t,c=(o=i-t>>2)>0?(e-s)*r.YR[o]>>15:0}if(0===r.ck)for(;;){if(--o<0){if((o=i-t&3)>0){a=r.NO[s>>8];do{n[l++]=a,o--}while(o>0);return}break}a=r.NO[s>>8],s+=c,n[l++]=a,n[l++]=a,n[l++]=a,n[l++]=a}else{const h=r.ck,e=256-r.ck;for(;;){if(--o<0){if((o=i-t&3)>0){a=r.NO[s>>8],a=((16711935&a)*e>>8&16711935)+((65280&a)*e>>8&65280);do{n[l++]=a+((16711935&n[l])*h>>8&16711935)+((65280&n[l])*h>>8&65280),o--}while(o>0)}break}a=r.NO[s>>8],s+=c,a=((16711935&a)*e>>8&16711935)+((65280&a)*e>>8&65280),n[l++]=a+((16711935&n[l])*h>>8&16711935)+((65280&n[l])*h>>8&65280),n[l++]=a+((16711935&n[l])*h>>8&16711935)+((65280&n[l])*h>>8&65280),n[l++]=a+((16711935&n[l])*h>>8&16711935)+((65280&n[l])*h>>8&65280),n[l++]=a+((16711935&n[l])*h>>8&16711935)+((65280&n[l])*h>>8&65280)}}}else if(t<i){const c=(e-s)/(i-t)|0;if(r.fk&&(i>h.s.uk&&(i=h.s.uk),t<0&&(s-=t*c,t=0),t>=i))return;if(l+=t,o=i-t,0===r.ck)do{n[l++]=r.NO[s>>8],s+=c,o--}while(o>0);else{const t=r.ck,i=256-r.ck;do{a=r.NO[s>>8],s+=c,a=((16711935&a)*i>>8&16711935)+((65280&a)*i>>8&65280),n[l++]=a+((16711935&n[l])*t>>8&16711935)+((65280&n[l])*t>>8&65280),o--}while(o>0)}}};static hM=(t,i,s,e,n,r,l)=>{let o=0;n!==e&&(o=(i-t<<16)/(n-e)|0);let a=0;r!==n&&(a=(s-i<<16)/(r-n)|0);let c=0;if(r!==e&&(c=(t-s<<16)/(e-r)|0),e<=n&&e<=r){if(e<h.s.Tl)if(n>h.s.Tl&&(n=h.s.Tl),r>h.s.Tl&&(r=h.s.Tl),n<r)if(s=t<<=16,e<0&&(s-=c*e,t-=o*e,e=0),i<<=16,n<0&&(i-=a*n,n=0),e!==n&&c<o||e===n&&c>a)for(r-=n,n-=e,e=this.qa[e];;){if(--n<0)for(;;){if(--r<0)return;this.eM(s>>16,i>>16,h.s.Xa,e,l),s+=c,i+=a,e+=h.s.Sb}this.eM(s>>16,t>>16,h.s.Xa,e,l),s+=c,t+=o,e+=h.s.Sb}else for(r-=n,n-=e,e=this.qa[e];;){if(--n<0)for(;;){if(--r<0)return;this.eM(i>>16,s>>16,h.s.Xa,e,l),s+=c,i+=a,e+=h.s.Sb}this.eM(t>>16,s>>16,h.s.Xa,e,l),s+=c,t+=o,e+=h.s.Sb}else if(i=t<<=16,e<0&&(i-=c*e,t-=o*e,e=0),s<<=16,r<0&&(s-=a*r,r=0),e!==r&&c<o||e===r&&a>o)for(n-=r,r-=e,e=this.qa[e];;){if(--r<0)for(;;){if(--n<0)return;this.eM(s>>16,t>>16,h.s.Xa,e,l),s+=a,t+=o,e+=h.s.Sb}this.eM(i>>16,t>>16,h.s.Xa,e,l),i+=c,t+=o,e+=h.s.Sb}else for(n-=r,r-=e,e=this.qa[e];;){if(--r<0)for(;;){if(--n<0)return;this.eM(t>>16,s>>16,h.s.Xa,e,l),s+=a,t+=o,e+=h.s.Sb}this.eM(t>>16,i>>16,h.s.Xa,e,l),i+=c,t+=o,e+=h.s.Sb}}else if(n<=r){if(n<h.s.Tl)if(r>h.s.Tl&&(r=h.s.Tl),e>h.s.Tl&&(e=h.s.Tl),r<e)if(t=i<<=16,n<0&&(t-=o*n,i-=a*n,n=0),s<<=16,r<0&&(s-=c*r,r=0),n!==r&&o<a||n===r&&o>c)for(e-=r,r-=n,n=this.qa[n];;){if(--r<0)for(;;){if(--e<0)return;this.eM(t>>16,s>>16,h.s.Xa,n,l),t+=o,s+=c,n+=h.s.Sb}this.eM(t>>16,i>>16,h.s.Xa,n,l),t+=o,i+=a,n+=h.s.Sb}else for(e-=r,r-=n,n=this.qa[n];;){if(--r<0)for(;;){if(--e<0)return;this.eM(s>>16,t>>16,h.s.Xa,n,l),t+=o,s+=c,n+=h.s.Sb}this.eM(i>>16,t>>16,h.s.Xa,n,l),t+=o,i+=a,n+=h.s.Sb}else if(s=i<<=16,n<0&&(s-=o*n,i-=a*n,n=0),t<<=16,e<0&&(t-=c*e,e=0),o<a)for(r-=e,e-=n,n=this.qa[n];;){if(--e<0)for(;;){if(--r<0)return;this.eM(t>>16,i>>16,h.s.Xa,n,l),t+=c,i+=a,n+=h.s.Sb}this.eM(s>>16,i>>16,h.s.Xa,n,l),s+=o,i+=a,n+=h.s.Sb}else for(r-=e,e-=n,n=this.qa[n];;){if(--e<0)for(;;){if(--r<0)return;this.eM(i>>16,t>>16,h.s.Xa,n,l),t+=c,i+=a,n+=h.s.Sb}this.eM(i>>16,s>>16,h.s.Xa,n,l),s+=o,i+=a,n+=h.s.Sb}}else if(r<h.s.Tl)if(e>h.s.Tl&&(e=h.s.Tl),n>h.s.Tl&&(n=h.s.Tl),e<n)if(i=s<<=16,r<0&&(i-=a*r,s-=c*r,r=0),t<<=16,e<0&&(t-=o*e,e=0),a<c)for(n-=e,e-=r,r=this.qa[r];;){if(--e<0)for(;;){if(--n<0)return;this.eM(i>>16,t>>16,h.s.Xa,r,l),i+=a,t+=o,r+=h.s.Sb}this.eM(i>>16,s>>16,h.s.Xa,r,l),i+=a,s+=c,r+=h.s.Sb}else for(n-=e,e-=r,r=this.qa[r];;){if(--e<0)for(;;){if(--n<0)return;this.eM(t>>16,i>>16,h.s.Xa,r,l),i+=a,t+=o,r+=h.s.Sb}this.eM(s>>16,i>>16,h.s.Xa,r,l),i+=a,s+=c,r+=h.s.Sb}else if(t=s<<=16,r<0&&(t-=a*r,s-=c*r,r=0),i<<=16,n<0&&(i-=o*n,n=0),a<c)for(e-=n,n-=r,r=this.qa[r];;){if(--n<0)for(;;){if(--e<0)return;this.eM(i>>16,s>>16,h.s.Xa,r,l),i+=o,s+=c,r+=h.s.Sb}this.eM(t>>16,s>>16,h.s.Xa,r,l),t+=a,s+=c,r+=h.s.Sb}else for(e-=n,n-=r,r=this.qa[r];;){if(--n<0)for(;;){if(--e<0)return;this.eM(s>>16,i>>16,h.s.Xa,r,l),i+=o,s+=c,r+=h.s.Sb}this.eM(s>>16,t>>16,h.s.Xa,r,l),t+=a,s+=c,r+=h.s.Sb}};static _k=(t,i,s,e,n,r,l,o,a,c,f,u,d,w,y,m,p,A,I)=>{const g=this.nM(I);this.KR=!this.JR[I];const _=c-d,C=f-y,E=u-p,T=w-c,b=m-f,v=A-u;let O=T*f-b*c<<14;const L=b*u-v*f<<8,S=v*c-T*u<<5;let k=_*f-C*c<<14;const R=C*u-E*f<<8,M=E*c-_*u<<5;let x=C*T-_*b<<14;const N=E*b-C*v<<8,P=_*v-E*T<<5;let D=0,F=0;n!==e&&(D=(i-t<<16)/(n-e)|0,F=(o-l<<16)/(n-e)|0);let U=0,B=0;r!==n&&(U=(s-i<<16)/(r-n)|0,B=(a-o<<16)/(r-n)|0);let G=0,H=0;if(r!==e&&(G=(t-s<<16)/(e-r)|0,H=(l-a<<16)/(e-r)|0),e<=n&&e<=r){if(e<h.s.Tl)if(n>h.s.Tl&&(n=h.s.Tl),r>h.s.Tl&&(r=h.s.Tl),n<r){s=t<<=16,a=l<<=16,e<0&&(s-=G*e,t-=D*e,a-=H*e,l-=F*e,e=0),i<<=16,o<<=16,n<0&&(i-=U*n,o-=B*n,n=0);const c=e-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,e!==n&&G<D||e===n&&G>U)for(r-=n,n-=e,e=this.qa[e];;){if(--n<0)for(;;){if(--r<0)return;this.rM(s>>16,i>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,a>>8,o>>8),s+=G,i+=U,a+=H,o+=B,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(s>>16,t>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,a>>8,l>>8),s+=G,t+=D,a+=H,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(r-=n,n-=e,e=this.qa[e];;){if(--n<0)for(;;){if(--r<0)return;this.rM(i>>16,s>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,o>>8,a>>8),s+=G,i+=U,a+=H,o+=B,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(t>>16,s>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,l>>8,a>>8),s+=G,t+=D,a+=H,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}else{i=t<<=16,o=l<<=16,e<0&&(i-=G*e,t-=D*e,o-=H*e,l-=F*e,e=0),s<<=16,a<<=16,r<0&&(s-=U*r,a-=B*r,r=0);const c=e-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,(e===r||G>=D)&&(e!==r||U<=D))for(n-=r,r-=e,e=this.qa[e];;){if(--r<0)for(;;){if(--n<0)return;this.rM(t>>16,s>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,l>>8,a>>8),s+=U,t+=D,a+=B,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(t>>16,i>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,l>>8,o>>8),i+=G,t+=D,o+=H,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(n-=r,r-=e,e=this.qa[e];;){if(--r<0)for(;;){if(--n<0)return;this.rM(s>>16,t>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,a>>8,l>>8),s+=U,t+=D,a+=B,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(i>>16,t>>16,h.s.Xa,e,g,0,0,O,k,x,L,R,N,o>>8,l>>8),i+=G,t+=D,o+=H,l+=F,e+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}}else if(n<=r){if(n<h.s.Tl)if(r>h.s.Tl&&(r=h.s.Tl),e>h.s.Tl&&(e=h.s.Tl),r<e){t=i<<=16,l=o<<=16,n<0&&(t-=D*n,i-=U*n,l-=F*n,o-=B*n,n=0),s<<=16,a<<=16,r<0&&(s-=G*r,a-=H*r,r=0);const c=n-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,n!==r&&D<U||n===r&&D>G)for(e-=r,r-=n,n=this.qa[n];;){if(--r<0)for(;;){if(--e<0)return;this.rM(t>>16,s>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,l>>8,a>>8),t+=D,s+=G,l+=F,a+=H,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(t>>16,i>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,l>>8,o>>8),t+=D,i+=U,l+=F,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(e-=r,r-=n,n=this.qa[n];;){if(--r<0)for(;;){if(--e<0)return;this.rM(s>>16,t>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,a>>8,l>>8),t+=D,s+=G,l+=F,a+=H,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(i>>16,t>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,o>>8,l>>8),t+=D,i+=U,l+=F,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}else{s=i<<=16,a=o<<=16,n<0&&(s-=D*n,i-=U*n,a-=F*n,o-=B*n,n=0),t<<=16,l<<=16,e<0&&(t-=G*e,l-=H*e,e=0);const c=n-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,r-=e,e-=n,n=this.qa[n],D<U)for(;;){if(--e<0)for(;;){if(--r<0)return;this.rM(t>>16,i>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,l>>8,o>>8),t+=G,i+=U,l+=H,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(s>>16,i>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,a>>8,o>>8),s+=D,i+=U,a+=F,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(;;){if(--e<0)for(;;){if(--r<0)return;this.rM(i>>16,t>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,o>>8,l>>8),t+=G,i+=U,l+=H,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(i>>16,s>>16,h.s.Xa,n,g,0,0,O,k,x,L,R,N,o>>8,a>>8),s+=D,i+=U,a+=F,o+=B,n+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}}else if(r<h.s.Tl)if(e>h.s.Tl&&(e=h.s.Tl),n>h.s.Tl&&(n=h.s.Tl),e<n){i=s<<=16,o=a<<=16,r<0&&(i-=U*r,s-=G*r,o-=B*r,a-=H*r,r=0),t<<=16,l<<=16,e<0&&(t-=D*e,l-=F*e,e=0);const c=r-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,n-=e,e-=r,r=this.qa[r],U<G)for(;;){if(--e<0)for(;;){if(--n<0)return;this.rM(i>>16,t>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,o>>8,l>>8),i+=U,t+=D,o+=B,l+=F,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(i>>16,s>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,o>>8,a>>8),i+=U,s+=G,o+=B,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(;;){if(--e<0)for(;;){if(--n<0)return;this.rM(t>>16,i>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,l>>8,o>>8),i+=U,t+=D,o+=B,l+=F,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(s>>16,i>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,a>>8,o>>8),i+=U,s+=G,o+=B,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}else{t=s<<=16,l=a<<=16,r<0&&(t-=U*r,s-=G*r,l-=B*r,a-=H*r,r=0),i<<=16,o<<=16,n<0&&(i-=D*n,o-=F*n,n=0);const c=r-this.Co;if(O+=S*c,k+=M*c,x+=P*c,O|=0,k|=0,x|=0,e-=n,n-=r,r=this.qa[r],U<G)for(;;){if(--n<0)for(;;){if(--e<0)return;this.rM(i>>16,s>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,o>>8,a>>8),i+=D,s+=G,o+=F,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(t>>16,s>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,l>>8,a>>8),t+=U,s+=G,l+=B,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}else for(;;){if(--n<0)for(;;){if(--e<0)return;this.rM(s>>16,i>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,a>>8,o>>8),i+=D,s+=G,o+=F,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}this.rM(s>>16,t>>16,h.s.Xa,r,g,0,0,O,k,x,L,R,N,a>>8,l>>8),t+=U,s+=G,l+=B,a+=H,r+=h.s.Sb,O+=S,k+=M,x+=P,O|=0,k|=0,x|=0}}};static rM=(t,i,s,e,n,r,l,o,a,c,f,u,d,w,y)=>{if(t>=i)return;let m,p,A,I,g,_,C,E,T;if(this.fk){if(m=(y-w)/(i-t)|0,i>h.s.uk&&(i=h.s.uk),t<0&&(w-=t*m,t=0),t>=i)return;p=i-t>>3,m<<=12}else i-t>7?(p=i-t>>3,m=(y-w)*this.YR[p]>>6):(p=0,m=0);if(w<<=9,e+=t,this.l&&n)if(A=0,I=0,_=t-this._o,o+=(f>>3)*_,a+=(u>>3)*_,c+=(d>>3)*_,o|=0,a|=0,g=(c|=0)>>12,0!==g&&(l=a/g|0,(r=o/g|0)<0?r=0:r>4032&&(r=4032)),o+=f,a+=u,c+=d,o|=0,a|=0,g=(c|=0)>>12,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>4032&&(A=4032)),C=A-r>>3,E=I-l>>3,r+=w>>3&786432,T=w>>23,this.KR){for(;p-- >0;)s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E,s[e++]=n[(4032&l)+(r>>6)]>>>T,r=A,l=I,o+=f,a+=u,g=(c+=d)>>12,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>4032&&(A=4032)),C=A-r>>3,E=I-l>>3,r+=(w+=m)>>3&786432,T=w>>23;for(p=i-t&7;p-- >0;)s[e++]=n[(4032&l)+(r>>6)]>>>T,r+=C,l+=E}else{for(;p-- >0;){let t;0!=(t=n[(4032&l)+(r>>6)]>>>T)&&(s[e]=t),e+=1,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e++,0!=(t=n[(4032&(l+=E))+((r+=C)>>6)]>>>T)&&(s[e]=t),e+=1,r=A,l=I,o+=f,a+=u,c+=d,o|=0,a|=0,g=(c|=0)>>12,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>4032&&(A=4032)),C=A-r>>3,E=I-l>>3,r+=(w+=m)>>3&786432,T=w>>23}for(p=i-t&7;p-- >0;){let t;0!=(t=n[(4032&l)+(r>>6)]>>>T)&&(s[e]=t),e++,r+=C,l+=E}}else if(A=0,I=0,_=t-this._o,o+=(f>>3)*_,a+=(u>>3)*_,c+=(d>>3)*_,o|=0,a|=0,g=(c|=0)>>14,0!==g&&(l=a/g|0,(r=o/g|0)<0?r=0:r>16256&&(r=16256)),o+=f,a+=u,c+=d,o|=0,a|=0,g=(c|=0)>>14,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>16256&&(A=16256)),C=A-r>>3,E=I-l>>3,r+=6291456&w,T=w>>23,this.KR&&n){for(;p-- >0;)s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E,s[e++]=n[(16256&l)+(r>>7)]>>>T,r=A,l=I,o+=f,a+=u,c+=d,o|=0,a|=0,g=(c|=0)>>14,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>16256&&(A=16256)),C=A-r>>3,E=I-l>>3,r+=6291456&(w+=m),T=w>>23;for(p=i-t&7;p-- >0;)s[e++]=n[(16256&l)+(r>>7)]>>>T,r+=C,l+=E}else{for(;p-- >0&&n;){let t;0!=(t=n[(16256&l)+(r>>7)]>>>T)&&(s[e]=t),e+=1,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,0!=(t=n[(16256&(l+=E))+((r+=C)>>7)]>>>T)&&(s[e]=t),e++,r=A,l=I,o+=f,a+=u,c+=d,o|=0,a|=0,g=(c|=0)>>14,0!==g&&(A=o/g|0,I=a/g|0,A<7?A=7:A>16256&&(A=16256)),C=A-r>>3,E=I-l>>3,r+=6291456&(w+=m),T=w>>23}for(p=i-t&7;p-- >0&&n;){let t;0!=(t=n[(16256&l)+(r>>7)]>>>T)&&(s[e]=t),e++,r+=C,l+=E}}};static eM=(t,i,s,e,n)=>{if(this.fk&&(i>h.s.uk&&(i=h.s.uk),t<0&&(t=0)),t>=i)return;e+=t;let r=i-t>>2;if(0===this.ck)for(;;){if(r--,r<0)for(r=i-t&3;;){if(r--,r<0)return;s[e++]=n}s[e++]=n,s[e++]=n,s[e++]=n,s[e++]=n}const l=this.ck,o=256-this.ck;for(n=((16711935&n)*o>>8&16711935)+((65280&n)*o>>8&65280);;){if(r--,r<0)for(r=i-t&3;;){if(r--,r<0)return;s[e++]=n+((16711935&s[e])*l>>8&16711935)+((65280&s[e])*l>>8&65280)}s[e++]=n+((16711935&s[e])*l>>8&16711935)+((65280&s[e])*l>>8&65280),s[e++]=n+((16711935&s[e])*l>>8&16711935)+((65280&s[e])*l>>8&65280),s[e++]=n+((16711935&s[e])*l>>8&16711935)+((65280&s[e])*l>>8&65280),s[e++]=n+((16711935&s[e])*l>>8&16711935)+((65280&s[e])*l>>8&65280)}};static pg=t=>{this.jR[t]&&this.XR&&(this.XR[this.qR++]=this.jR[t],this.jR[t]=null)};static nM=t=>{if(this.yg[t]=this.Xf++,this.jR[t])return this.jR[t];let i;if(this.qR>0&&this.XR)i=this.XR[--this.qR],this.XR[this.qR]=null;else{let t=0,s=-1;for(let i=0;i<this.zR;i++)this.jR[i]&&(this.yg[i]<t||-1===s)&&(t=this.yg[i],s=i);i=this.jR[s],this.jR[s]=null}this.jR[t]=i;const s=this.mg[t],h=this.$R[t];if(!i||!s||!h)return null;if(this.l){this.JR[t]=!1;for(let e=0;e<4096;e++){const n=i[e]=16316671&h[s.Xa[e]];0===n&&(this.JR[t]=!0),i[e+4096]=n-(n>>>3)&16316671,i[e+8192]=n-(n>>>2)&16316671,i[e+12288]=n-(n>>>2)-(n>>>3)&16316671}}else{if(64===s.Yr)for(let t=0;t<128;t++)for(let e=0;e<128;e++)i[e+(t<<7|0)]=h[s.Xa[(e>>1)+(t>>1<<6|0)]];else for(let t=0;t<16384;t++)i[t]=h[s.Xa[t]];this.JR[t]=!1;for(let s=0;s<16384;s++){i[s]&=16316671;const h=i[s];0===h&&(this.JR[t]=!0),i[s+16384]=h-(h>>>3)&16316671,i[s+32768]=h-(h>>>2)&16316671,i[s+49152]=h-(h>>>2)-(h>>>3)&16316671}}return i}}},5147:(t,i,s)=>{s.t(i,{gE:()=>e});var h=s(6121);const e=async t=>{255!==t[0]&&(t[0]=255),URL.revokeObjectURL(h.LR.lM),h.LR.lM=URL.createObjectURL(new Blob([t],{cl:'image/jpeg'})),await new Promise((t=>h.LR.oM=()=>t())),h.kR.aM(0,0,h.SR.Yr,h.SR.Vr);const i=h.LR.cM,s=h.LR.fM;return h.SR.Yr=i,h.SR.Vr=s,h.kR.uM(h.LR,0,0),h.kR.dM(0,0,i,s)}},9178:(t,i,s)=>{s.t(i,{s:()=>f});var h=s(2383),e=s(2991),n=s(8078),r=s(8762),l=s(6327),o=s(9345);class a{ib=0;TS=0;wM=0;yM=-1;mM=-1;pM=-1;AM=-1;IM=-1;gM=-1;_M=-1;CM=-1;EM=-1;TM=0;bM=-1;vM=-1;OM=-1;xc=null}class c{Ll=0;Sl=0;Wf=0;KC=0}class f extends l.s{static LM=null;static CR=null;static SM=null;static kM=null;static RM=null;static MM=null;static xM=null;static NM=null;static PM=null;static DM=null;static FM=null;static UM=null;static BM=null;static GM=null;static HM=null;static WM=new o.Ii(4096,!1);static ZM=new o.Ii(4096,!1);static YM=new Int32Array(4096);static VM=new Int32Array(4096);static zM=new Int32Array(4096);static XM=new Int32Array(4096);static jM=new Int32Array(4096);static qM=new Int32Array(4096);static $M=new Int32Array(1500);static KM=new o.Xe(1500,512);static JM=new Int32Array(12);static QM=new o.Xe(12,2e3);static tx=new Int32Array(2e3);static ix=new Int32Array(2e3);static sx=new Int32Array(12);static hx=new Int32Array(10);static ex=new Int32Array(10);static nx=new Int32Array(10);static Ce=0;static rx=0;static Ee=0;static jf=!1;static Vl=0;static zl=0;static qf=0;static nA=new Int32Array(1e3);static lx=!1;static za(t){try{f.CR=new h.s(t.Ur('ob_head.dat')),f.SM=new h.s(t.Ur('ob_face1.dat')),f.kM=new h.s(t.Ur('ob_face2.dat')),f.RM=new h.s(t.Ur('ob_face3.dat')),f.MM=new h.s(t.Ur('ob_face4.dat')),f.xM=new h.s(t.Ur('ob_face5.dat')),f.NM=new h.s(t.Ur('ob_point1.dat')),f.PM=new h.s(t.Ur('ob_point2.dat')),f.DM=new h.s(t.Ur('ob_point3.dat')),f.FM=new h.s(t.Ur('ob_point4.dat')),f.UM=new h.s(t.Ur('ob_point5.dat')),f.BM=new h.s(t.Ur('ob_vertex1.dat')),f.GM=new h.s(t.Ur('ob_vertex2.dat')),f.HM=new h.s(t.Ur('ob_axis.dat')),f.CR.Nc=0,f.NM.Nc=0,f.PM.Nc=0,f.DM.Nc=0,f.FM.Nc=0,f.BM.Nc=0,f.GM.Nc=0;const i=f.CR.Gy;f.LM=new o.Ii(i+100,null);let s=0,e=0,n=0,r=0,l=0,c=0,u=0;for(let t=0;t<i;t++){const t=f.CR.Gy,i=new a;i.ib=f.CR.Gy,i.TS=f.CR.Gy,i.wM=f.CR.Yy,i.yM=f.NM.Nc,i.mM=f.PM.Nc,i.pM=f.DM.Nc,i.AM=f.FM.Nc,i.gM=f.BM.Nc,i._M=f.GM.Nc;const h=f.CR.Yy,o=f.CR.Yy,d=f.CR.Yy,w=f.CR.Yy,y=f.CR.Yy;for(let t=0;t<i.ib;t++){const t=f.NM.Yy;0!=(1&t)&&f.PM.ox,0!=(2&t)&&f.DM.ox,0!=(4&t)&&f.FM.ox}for(let t=0;t<i.TS;t++){1===f.GM.Yy&&(f.BM.ox,f.BM.ox),f.BM.ox}i.CM=n,n+=2*i.TS,1===h&&(i.EM=r,r+=i.TS),255===o?(i.TM=l,l+=i.TS):i.TM=-o-1,1===d&&(i.bM=c,c+=i.TS),1===w&&(i.vM=u,u+=i.TS),1===y&&(i.IM=e,e+=i.ib),i.OM=s,s+=i.wM,f.LM[t]=i}}catch(t){console.log('Error loading model index'),console.Ja(t)}}static ax(t,i){if(null===f.LM&&(f.LM=[]),null===t){const t=new a;return t.ib=0,t.TS=0,t.wM=0,void(f.LM[i]=t)}const s=new h.s(t);s.Nc=s.Pr-18;const e=new a;e.xc=t,e.ib=s.Gy,e.TS=s.Gy,e.wM=s.Yy,f.LM[i]=e;const n=s.Yy,r=s.Yy,l=s.Yy,o=s.Yy,c=s.Yy,u=s.Gy,d=s.Gy,w=s.Gy,y=s.Gy;let m=0;e.yM=m,m+=e.ib,e._M=m,m+=e.TS,e.TM=m,255===r?m+=e.TS:e.TM=-r-1,e.vM=m,1===o?m+=e.TS:e.vM=-1,e.EM=m,1===n?m+=e.TS:e.EM=-1,e.IM=m,1===c?m+=e.ib:e.IM=-1,e.bM=m,1===l?m+=e.TS:e.bM=-1,e.gM=m,m+=y,e.CM=m,m+=2*e.TS,e.OM=m,m+=6*e.wM,e.mM=m,m+=u,e.pM=m,m+=d,e.AM=m,m+=w}static gr(){f.LM=null,f.CR=null,f.SM=null,f.kM=null,f.RM=null,f.MM=null,f.xM=null,f.NM=null,f.PM=null,f.DM=null,f.FM=null,f.UM=null,f.BM=null,f.GM=null,f.HM=null,f.WM=null,f.ZM=null,f.YM=null,f.VM=null,f.zM=null,f.XM=null,f.jM=null,f.qM=null,f.$M=null,f.KM=null,f.JM=null,f.QM=null,f.tx=null,f.ix=null,f.sx=null}static cx(t,i,s){return 2==(2&s)?(i<0?i=0:i>127&&(i=127),127-i):((i=i*(127&t)>>7)<2?i=2:i>126&&(i=126),(65408&t)+i)}static tb=(t,i,s)=>{const h=t.ib,e=t.TS,n=t.wM;let r,l,a,u,d;if(i){r=new Int32Array(h);for(let i=0;i<h;i++)r[i]=t.eb[i]}else r=t.eb;let w=null,y=null;if(s){l=new Int32Array(e),a=new Int32Array(e),u=new Int32Array(e);for(let i=0;i<e;i++)t.fx&&(l[i]=t.fx[i]),t.ux&&(a[i]=t.ux[i]),t.dx&&(u[i]=t.dx[i]);if(d=new Int32Array(e),t.ES)for(let i=0;i<e;i++)d[i]=t.ES[i];else for(let t=0;t<e;t++)d[t]=0;w=new o.Ii(h,null);for(let i=0;i<h;i++){const s=w[i]=new c;if(t.cS){const h=t.cS[i];h&&(s.Ll=h.Ll,s.Sl=h.Sl,s.Wf=h.Wf,s.KC=h.KC)}}y=t.pS}else l=t.fx,a=t.ux,u=t.dx,d=t.ES;return new f({ib:h,sb:t.sb,eb:r,hb:t.hb,TS:e,bS:t.bS,vS:t.vS,OS:t.OS,fx:l,ux:a,dx:u,ES:d,wx:t.wx,yx:t.yx,eT:t.eT,BA:t.BA,wM:n,mx:t.mx,px:t.px,Ax:t.Ax,IS:t.IS,gS:t.gS,_S:t._S,CS:t.CS,WO:t.WO,AS:t.AS,ub:t.ub,Ix:t.Ix,gx:t.gx,cS:w,pS:y})};static nT=(t,i,s,h)=>{const e=t.ib,n=t.TS,r=t.wM;let l,o,a,c,u;if(h)l=t.sb,o=t.eb,a=t.hb;else{l=new Int32Array(e),o=new Int32Array(e),a=new Int32Array(e);for(let i=0;i<e;i++)l[i]=t.sb[i],o[i]=t.eb[i],a[i]=t.hb[i]}if(i)c=t.eT;else{c=new Int32Array(n);for(let i=0;i<n;i++)t.eT&&(c[i]=t.eT[i])}if(s)u=t.yx;else if(u=new Int32Array(n),t.yx)for(let i=0;i<n;i++)u[i]=t.yx[i];else for(let t=0;t<n;t++)u[t]=0;return new f({ib:e,sb:l,eb:o,hb:a,TS:n,bS:t.bS,vS:t.vS,OS:t.OS,fx:null,ux:null,dx:null,ES:t.ES,wx:t.wx,yx:u,eT:c,BA:t.BA,wM:r,mx:t.mx,px:t.px,Ax:t.Ax,_x:t._x,Cx:t.Cx})};static gb=(t,i)=>{const s=t.ib,h=t.TS,e=t.wM,n=new Int32Array(s),r=new Int32Array(s),l=new Int32Array(s);for(let i=0;i<s;i++)n[i]=t.sb[i],r[i]=t.eb[i],l[i]=t.hb[i];let o;if(i)o=t.yx;else if(o=new Int32Array(h),t.yx)for(let i=0;i<h;i++)o[i]=t.yx[i];else for(let t=0;t<h;t++)o[t]=0;return new f({ib:s,sb:n,eb:r,hb:l,TS:h,bS:t.bS,vS:t.vS,OS:t.OS,fx:t.fx,ux:t.ux,dx:t.dx,ES:t.ES,wx:t.wx,yx:o,eT:t.eT,BA:t.BA,wM:e,mx:t.mx,px:t.px,Ax:t.Ax,ob:t.ob,lb:t.lb})};static Dk=(t,i)=>{let s=!1,h=!1,e=!1,n=!1,r=0,l=0,o=0,a=-1;for(let c=0;c<i;c++){const i=t[c];i&&(r+=i.ib,l+=i.TS,o+=i.wM,s||=null!==i.ES,i.wx?h=!0:(-1===a&&(a=i.BA),a!==i.BA&&(h=!0)),e||=null!==i.yx,n||=null!==i.eT)}const c=new Int32Array(r),u=new Int32Array(r),d=new Int32Array(r),w=new Int32Array(l),y=new Int32Array(l),m=new Int32Array(l),p=new Int32Array(l),A=new Int32Array(l),I=new Int32Array(l),g=new Int32Array(o),_=new Int32Array(o),C=new Int32Array(o);let E=null;s&&(E=new Int32Array(l));let T=null;h&&(T=new Int32Array(l));let b=null;e&&(b=new Int32Array(l));let v=null;n&&(v=new Int32Array(l)),r=0,l=0,o=0;for(let a=0;a<i;a++){const i=t[a];if(i){const t=r;for(let t=0;t<i.ib;t++)c[r]=i.sb[t],u[r]=i.eb[t],d[r]=i.hb[t],r++;for(let r=0;r<i.TS;r++)w[l]=i.bS[r]+t,y[l]=i.vS[r]+t,m[l]=i.OS[r]+t,i.fx&&(p[l]=i.fx[r]),i.ux&&(A[l]=i.ux[r]),i.dx&&(I[l]=i.dx[r]),s&&(i.ES?E&&(E[l]=i.ES[r]):E&&(E[l]=0)),h&&(i.wx?T&&(T[l]=i.wx[r]):T&&(T[l]=i.BA)),e&&(i.yx?b&&(b[l]=i.yx[r]):b&&(b[l]=0)),n&&i.eT&&v&&(v[l]=i.eT[r]),l++;for(let s=0;s<i.wM;s++)g[o]=i.mx[s]+t,_[o]=i.px[s]+t,C[o]=i.Ax[s]+t,o++}}const O=new f({ib:r,sb:c,eb:u,hb:d,TS:l,bS:w,vS:y,OS:m,fx:p,ux:A,dx:I,ES:E,wx:T,yx:b,eT:v,BA:a,wM:o,mx:g,px:_,Ax:C});return O.Cb(),O};static jo=(t,i)=>{let s=!1,h=!1,e=!1,n=!1,r=0,l=0,o=0,a=-1;for(let c=0;c<i;c++){const i=t[c];i&&(r+=i.ib,l+=i.TS,o+=i.wM,s||=null!==i.ES,i.wx?h=!0:(-1===a&&(a=i.BA),a!==i.BA&&(h=!0)),e||=null!==i.yx,n||=null!==i.Cx)}const c=new Int32Array(r),u=new Int32Array(r),d=new Int32Array(r),w=new Int32Array(r),y=new Int32Array(l),m=new Int32Array(l),p=new Int32Array(l),A=new Int32Array(o),I=new Int32Array(o),g=new Int32Array(o);let _=null;s&&(_=new Int32Array(l));let C=null;h&&(C=new Int32Array(l));let E=null;e&&(E=new Int32Array(l));let T=null;n&&(T=new Int32Array(l));const b=new Int32Array(l);r=0,l=0,o=0;const v=(t,i,s,h,e,n,r)=>{let l=-1;const o=t.sb[i],a=t.eb[i],c=t.hb[i];for(let t=0;t<r;t++)if(o===s[t]&&a===h[t]&&c===e[t]){l=t;break}return-1===l&&(s[r]=o,h[r]=a,e[r]=c,n&&t._x&&(n[r]=t._x[i]),l=r++),{Ex:l,ib:r}};for(let a=0;a<i;a++){const i=t[a];if(i){for(let t=0;t<i.TS;t++){s&&(i.ES?_&&(_[l]=i.ES[t]):_&&(_[l]=0)),h&&(i.wx?C&&(C[l]=i.wx[t]):C&&(C[l]=i.BA)),e&&(i.yx?E&&(E[l]=i.yx[t]):E&&(E[l]=0)),n&&i.Cx&&T&&(T[l]=i.Cx[t]),i.eT&&(b[l]=i.eT[t]);const o=v(i,i.bS[t],c,u,d,w,r);r=o.ib;const a=v(i,i.vS[t],c,u,d,w,r);r=a.ib;const f=v(i,i.OS[t],c,u,d,w,r);r=f.ib,y[l]=o.Ex,m[l]=a.Ex,p[l]=f.Ex,l++}for(let t=0;t<i.wM;t++){const s=v(i,i.mx[t],c,u,d,w,r);r=s.ib;const h=v(i,i.px[t],c,u,d,w,r);r=h.ib;const e=v(i,i.Ax[t],c,u,d,w,r);r=e.ib,A[o]=s.Ex,I[o]=h.Ex,g[o]=e.Ex,o++}}}return new f({ib:r,sb:c,eb:u,hb:d,TS:l,bS:y,vS:m,OS:p,fx:null,ux:null,dx:null,ES:_,wx:C,yx:E,eT:b,BA:a,wM:o,mx:A,px:I,Ax:g,_x:w,Cx:T})};static sa=t=>{if(!f.LM)throw new Error('cant loading model metadata!!!!!');const i=f.LM[t];if(!i)throw console.log(`Error model:${t} not found!`),new Error('cant loading model metadata!!!!!');if(!(f.CR&&f.SM&&f.kM&&f.RM&&f.MM&&f.xM&&f.NM&&f.PM&&f.DM&&f.FM&&f.UM&&f.BM&&f.GM&&f.HM))throw new Error('cant loading model!!!!!');const s=i.ib,h=i.TS,e=i.wM,n=new Int32Array(s),r=new Int32Array(s),l=new Int32Array(s),o=new Int32Array(h),a=new Int32Array(h),c=new Int32Array(h),u=new Int32Array(e),d=new Int32Array(e),w=new Int32Array(e);let y=null;i.IM>=0&&(y=new Int32Array(s));let m=null;i.EM>=0&&(m=new Int32Array(h));let p=null,A=0;i.TM>=0?p=new Int32Array(h):A=-i.TM-1;let I=null;i.bM>=0&&(I=new Int32Array(h));let g=null;i.vM>=0&&(g=new Int32Array(h));const _=new Int32Array(h);f.NM.Nc=i.yM,f.PM.Nc=i.mM,f.DM.Nc=i.pM,f.FM.Nc=i.AM,f.UM.Nc=i.IM;let C,E,T,b=0,v=0,O=0;for(let t=0;t<s;t++){const i=f.NM.Yy;C=0,0!=(1&i)&&(C=f.PM.ox),E=0,0!=(2&i)&&(E=f.DM.ox),T=0,0!=(4&i)&&(T=f.FM.ox),n[t]=b+C,r[t]=v+E,l[t]=O+T,b=n[t],v=r[t],O=l[t],y&&(y[t]=f.UM.Yy)}f.SM.Nc=i.CM,f.kM.Nc=i.EM,f.RM.Nc=i.TM,f.MM.Nc=i.bM,f.xM.Nc=i.vM;for(let t=0;t<h;t++)_[t]=f.SM.Gy,m&&(m[t]=f.kM.Yy),p&&(p[t]=f.RM.Yy),I&&(I[t]=f.MM.Yy),g&&(g[t]=f.xM.Yy);f.BM.Nc=i.gM,f.GM.Nc=i._M,C=0,E=0,T=0;let L=0;for(let t=0;t<h;t++){const i=f.GM.Yy;if(1===i)C=f.BM.ox+L,L=C,E=f.BM.ox+L,L=E,T=f.BM.ox+L,L=T;else if(2===i)E=T,T=f.BM.ox+L,L=T;else if(3===i)C=T,T=f.BM.ox+L,L=T;else if(4===i){const t=C;C=E,E=t,T=f.BM.ox+L,L=T}o[t]=C,a[t]=E,c[t]=T}f.HM.Nc=6*i.OM;for(let t=0;t<e;t++)u[t]=f.HM.Gy,d[t]=f.HM.Gy,w[t]=f.HM.Gy;return new f({ib:s,sb:n,eb:r,hb:l,TS:h,bS:o,vS:a,OS:c,fx:null,ux:null,dx:null,ES:m,wx:p,yx:I,eT:_,BA:A,wM:e,mx:u,px:d,Ax:w,_x:y,Cx:g})};static Tx=(t,i)=>{if(!f.LM||!f.LM[i])throw new Error('No model metadata');const s=f.LM[i];if(s.xc=t,!s.xc.Pr)throw new Error('No model data');const e=s.ib,n=s.TS,r=s.wM,l=new Int32Array(e),o=new Int32Array(e),a=new Int32Array(e),c=new Int32Array(n),u=new Int32Array(n),d=new Int32Array(n),w=new Int32Array(r),y=new Int32Array(r),m=new Int32Array(r);let p=null;s.IM>=0&&(p=new Int32Array(e));let A=null;s.EM>=0&&(A=new Int32Array(n));let I=null,g=0;s.TM>=0?I=new Int32Array(n):g=-s.TM-1;let _=null;s.bM>=0&&(_=new Int32Array(n));let C=null;s.vM>=0&&(C=new Int32Array(n));const E=new Int32Array(n),T=new h.s(s.xc);T.Nc=s.yM;const b=new h.s(s.xc);b.Nc=s.mM;const v=new h.s(s.xc);v.Nc=s.pM;const O=new h.s(s.xc);O.Nc=s.AM;const L=new h.s(s.xc);L.Nc=s.IM;let S,k,R,M=0,x=0,N=0;for(let t=0;t<e;t++){const i=T.Yy;S=0,0!=(1&i)&&(S=b.ox),k=0,0!=(2&i)&&(k=v.ox),R=0,0!=(4&i)&&(R=O.ox),l[t]=M+S,o[t]=x+k,a[t]=N+R,M=l[t],x=o[t],N=a[t],p&&(p[t]=L.Yy)}const P=new h.s(s.xc);P.Nc=s.CM;const D=new h.s(s.xc);D.Nc=s.EM;const F=new h.s(s.xc);F.Nc=s.TM;const U=new h.s(s.xc);U.Nc=s.bM;const B=new h.s(s.xc);B.Nc=s.vM;for(let t=0;t<n;t++)E[t]=P.Gy,A&&(A[t]=D.Yy),I&&(I[t]=F.Yy),_&&(_[t]=U.Yy),C&&(C[t]=B.Yy);const G=new h.s(s.xc);G.Nc=s.gM;const H=new h.s(s.xc);H.Nc=s._M,S=0,k=0,R=0;let W=0;for(let t=0;t<n;t++){const i=H.Yy;if(1===i)S=G.ox+W,W=S,k=G.ox+W,W=k,R=G.ox+W,W=R;else if(2===i)k=R,R=G.ox+W,W=R;else if(3===i)S=R,R=G.ox+W,W=R;else if(4===i){const t=S;S=k,k=t,R=G.ox+W,W=R}c[t]=S,u[t]=k,d[t]=R}const Z=new h.s(s.xc);Z.Nc=6*s.OM;for(let t=0;t<r;t++)w[t]=Z.Gy,y[t]=Z.Gy,m[t]=Z.Gy;return new f({ib:e,sb:l,eb:o,hb:a,TS:n,bS:c,vS:u,OS:d,fx:null,ux:null,dx:null,ES:A,wx:I,yx:_,eT:E,BA:g,wM:r,mx:w,px:y,Ax:m,_x:p,Cx:C})};ib;sb;eb;hb;TS;bS;vS;OS;fx;ux;dx;ES;wx;yx;eT;BA;wM;mx;px;Ax;IS;gS;_S;CS;WO;AS;ub;Ix;gx;_x;Cx;ob;lb;cS;pS;fb=0;Eb=!1;bx=-1;vx=-1;Dg(t){super(),this.ib=t.ib,this.sb=t.sb,this.eb=t.eb,this.hb=t.hb,this.TS=t.TS,this.bS=t.bS,this.vS=t.vS,this.OS=t.OS,this.fx=t.fx,this.ux=t.ux,this.dx=t.dx,this.ES=t.ES,this.wx=t.wx,this.yx=t.yx,this.eT=t.eT,this.BA=t.BA,this.wM=t.wM,this.mx=t.mx,this.px=t.px,this.Ax=t.Ax,this.IS=t.IS??0,this.gS=t.gS??0,this._S=t._S??0,this.CS=t.CS??0,this.WO=t.WO??0,this.AS=t.AS??0,this.ub=t.ub??0,this.Ix=t.Ix??0,this.gx=t.gx??0,this._x=t._x??null,this.Cx=t.Cx??null,this.ob=t.ob??null,this.lb=t.lb??null,this.cS=t.cS??null,this.pS=t.pS??null}Cb=()=>{this.ub=0,this.WO=0,this.AS=0;for(let t=0;t<this.ib;t++){const i=this.sb[t],s=this.eb[t],h=this.hb[t];-s>this.ub&&(this.ub=-s),s>this.AS&&(this.AS=s);const e=i*i+h*h;e>this.WO&&(this.WO=e)}this.WO=Math.sqrt(this.WO)+.99|0,this.gx=Math.sqrt(this.WO*this.WO+this.ub*this.ub)+.99|0,this.Ix=this.gx+(Math.sqrt(this.WO*this.WO+this.AS*this.AS)+.99|0)};nb=()=>{this.ub=0,this.AS=0;for(let t=0;t<this.ib;t++){const i=this.eb[t];-i>this.ub&&(this.ub=-i),i>this.AS&&(this.AS=i)}this.gx=Math.sqrt(this.WO*this.WO+this.ub*this.ub)+.99|0,this.Ix=this.gx+(Math.sqrt(this.WO*this.WO+this.AS*this.AS)+.99|0)};Qo=()=>{if(this._x){const t=new Int32Array(256);let i=0;for(let s=0;s<this.ib;s++){const h=this._x[s];t[h]++,h>i&&(i=h)}this.ob=new o.Ii(i+1,null);for(let s=0;s<=i;s++)this.ob[s]=new Int32Array(t[s]),t[s]=0;let s=0;for(;s<this.ib;){const i=this._x[s],h=this.ob[i];h&&(h[t[i]++]=s++)}this._x=null}if(this.Cx){const t=new Int32Array(256);let i=0;for(let s=0;s<this.TS;s++){const h=this.Cx[s];t[h]++,h>i&&(i=h)}this.lb=new o.Ii(i+1,null);for(let s=0;s<=i;s++)this.lb[s]=new Int32Array(t[s]),t[s]=0;let s=0;for(;s<this.TS;){const i=this.Cx[s],h=this.lb[i];h&&(h[t[i]++]=s++)}this.Cx=null}};_b=(t,i,s)=>{if(-1!==t)if(s&&-1!==i){const h=r.s.Tr[t],e=r.s.Tr[i],n=h.Ox;f.Ce=0,f.rx=0,f.Ee=0;let l=0,o=s[l++];for(let t=0;t<h.Pr;t++){if(!h.Lx)continue;const i=h.Lx[t];for(;i>o;)o=s[l++];n&&n.Sx&&h.Ll&&h.Sl&&h.Wf&&n.kx&&(i!==o||0===n.Sx[i])&&this.Rx(h.Ll[t],h.Sl[t],h.Wf[t],n.kx[i],n.Sx[i])}f.Ce=0,f.rx=0,f.Ee=0,l=0,o=s[l++];for(let t=0;t<e.Pr;t++){if(!e.Lx)continue;const i=e.Lx[t];for(;i>o;)o=s[l++];n&&n.Sx&&e.Ll&&e.Sl&&e.Wf&&n.kx&&(i===o||0===n.Sx[i])&&this.Rx(e.Ll[t],e.Sl[t],e.Wf[t],n.kx[i],n.Sx[i])}}else this.ta(t)};ta=t=>{if(!this.ob||-1===t||!r.s.Tr[t])return;const i=r.s.Tr[t],s=i.Ox;f.Ce=0,f.rx=0,f.Ee=0;for(let t=0;t<i.Pr;t++){if(!(i.Lx&&i.Ll&&i.Sl&&i.Wf&&s&&s.kx&&s.Sx))continue;const h=i.Lx[t];this.Rx(i.Ll[t],i.Sl[t],i.Wf[t],s.kx[h],s.Sx[h])}};ab=()=>{for(let t=0;t<this.ib;t++){const i=this.sb[t];this.sb[t]=this.hb[t],this.hb[t]=-i}};tR=t=>{const i=n.s.Eo[t],s=n.s.vo[t];for(let t=0;t<this.ib;t++){const h=this.eb[t]*s-this.hb[t]*i>>16;this.hb[t]=this.eb[t]*i+this.hb[t]*s>>16,this.eb[t]=h}};Wa=(t,i,s)=>{for(let h=0;h<this.ib;h++)this.sb[h]+=i,this.eb[h]+=t,this.hb[h]+=s};qo=(t,i)=>{if(this.eT)for(let s=0;s<this.TS;s++)this.eT[s]===t&&(this.eT[s]=i)};rb=()=>{for(let t=0;t<this.ib;t++)this.hb[t]=-this.hb[t];for(let t=0;t<this.TS;t++){const i=this.bS[t];this.bS[t]=this.OS[t],this.OS[t]=i}};cb=(t,i,s)=>{for(let h=0;h<this.ib;h++)this.sb[h]=this.sb[h]*t/128|0,this.eb[h]=this.eb[h]*i/128|0,this.hb[h]=this.hb[h]*s/128|0};ia=(t,i,s,h,e,n)=>{const r=i*(0|Math.sqrt(s*s+h*h+e*e))>>8;if(this.fx&&this.ux&&this.dx||(this.fx=new Int32Array(this.TS),this.ux=new Int32Array(this.TS),this.dx=new Int32Array(this.TS)),!this.cS){this.cS=new o.Ii(this.ib,null);for(let t=0;t<this.ib;t++)this.cS[t]=new c}for(let i=0;i<this.TS;i++){const n=this.bS[i],l=this.vS[i],o=this.OS[i],a=this.sb[l]-this.sb[n],c=this.eb[l]-this.eb[n],u=this.hb[l]-this.hb[n],d=this.sb[o]-this.sb[n],w=this.eb[o]-this.eb[n],y=this.hb[o]-this.hb[n];let m=c*y-w*u,p=u*d-y*a,A=a*w-d*c;for(;m>8192||p>8192||A>8192||m<-8192||p<-8192||A<-8192;)m>>=1,p>>=1,A>>=1;let I=0|Math.sqrt(m*m+p*p+A*A);if(I<=0&&(I=1),m=256*m/I|0,p=256*p/I|0,A=256*A/I|0,this.ES&&0!=(1&this.ES[i])){const n=t+((s*m+h*p+e*A)/(r+(r/2|0))|0);this.eT&&(this.fx[i]=f.cx(this.eT[i],n,this.ES[i]))}else{let t=this.cS[n];t&&(t.Ll+=m,t.Sl+=p,t.Wf+=A,t.KC++),t=this.cS[l],t&&(t.Ll+=m,t.Sl+=p,t.Wf+=A,t.KC++),t=this.cS[o],t&&(t.Ll+=m,t.Sl+=p,t.Wf+=A,t.KC++)}}if(n)this.dS(t,r,s,h,e);else{this.pS=new o.Ii(this.ib,null);for(let t=0;t<this.ib;t++){const i=this.cS[t],s=new c;i&&(s.Ll=i.Ll,s.Sl=i.Sl,s.Wf=i.Wf,s.KC=i.KC),this.pS[t]=s}}n?this.Cb():this.Mx()};dS=(t,i,s,h,e)=>{for(let n=0;n<this.TS;n++){const r=this.bS[n],l=this.vS[n],o=this.OS[n];if(!this.ES&&this.eT&&this.cS&&this.fx&&this.ux&&this.dx){const a=this.eT[n],c=this.cS[r];c&&(this.fx[n]=f.cx(a,t+((s*c.Ll+h*c.Sl+e*c.Wf)/(i*c.KC)|0),0));const u=this.cS[l];u&&(this.ux[n]=f.cx(a,t+((s*u.Ll+h*u.Sl+e*u.Wf)/(i*u.KC)|0),0));const d=this.cS[o];d&&(this.dx[n]=f.cx(a,t+((s*d.Ll+h*d.Sl+e*d.Wf)/(i*d.KC)|0),0))}else if(this.ES&&0==(1&this.ES[n])&&this.eT&&this.cS&&this.fx&&this.ux&&this.dx){const a=this.eT[n],c=this.ES[n],u=this.cS[r];u&&(this.fx[n]=f.cx(a,t+((s*u.Ll+h*u.Sl+e*u.Wf)/(i*u.KC)|0),c));const d=this.cS[l];d&&(this.ux[n]=f.cx(a,t+((s*d.Ll+h*d.Sl+e*d.Wf)/(i*d.KC)|0),c));const w=this.cS[o];w&&(this.dx[n]=f.cx(a,t+((s*w.Ll+h*w.Sl+e*w.Wf)/(i*w.KC)|0),c))}}if(this.cS=null,this.pS=null,this._x=null,this.Cx=null,this.ES)for(let t=0;t<this.TS;t++)if(2==(2&this.ES[t]))return;this.eT=null};ko=(t,i,s,h,e,r,l)=>{const o=n.s.Eo[t],a=n.s.vo[t],c=n.s.Eo[i],u=n.s.vo[i],d=n.s.Eo[s],w=n.s.vo[s],y=n.s.Eo[h],m=n.s.vo[h],p=r*y+l*m>>16;for(let h=0;h<this.ib;h++){let A,I=this.sb[h],g=this.eb[h],_=this.hb[h];0!==s&&(A=g*d+I*w>>16,g=g*w-I*d>>16,I=A),0!==t&&(A=g*a-_*o>>16,_=g*o+_*a>>16,g=A),0!==i&&(A=_*c+I*u>>16,_=_*u-I*c>>16,I=A),I+=e,g+=r,_+=l,A=g*m-_*y>>16,_=g*y+_*m>>16,g=A,f.YM&&f.VM&&f.zM&&(f.zM[h]=_-p,f.YM[h]=n.s._o+((I<<9)/_|0),f.VM[h]=n.s.Co+((g<<9)/_|0)),this.wM>0&&f.XM&&f.jM&&f.qM&&(f.XM[h]=I,f.jM[h]=g,f.qM[h]=_)}try{this.xx(!1,!1,0)}catch(t){}};il=(t,i,s,h,r,l,o,a,c)=>{const u=a*r-l*h>>16,d=o*i+u*s>>16,w=this.WO*s>>16,y=d+w;if(y<=50||d>=3500)return;const m=a*h+l*r>>16;let p=m-this.WO<<9;if((p/y|0)>=e.s.GR)return;let A=m+this.WO<<9;if((A/y|0)<=-e.s.GR)return;const I=o*s-u*i>>16,g=this.WO*i>>16;let _=I+g<<9;if((_/y|0)<=-e.s.HR)return;let C=I-(g+(this.ub*s>>16))<<9;if((C/y|0)>=e.s.HR)return;let E=d-(w+(this.ub*i>>16))<=50,T=!1;if(c>0&&f.jf){let t=d-w;t<=50&&(t=50),m>0?(p=p/y|0,A=A/t|0):(A=A/y|0,p=p/t|0),I>0?(C=C/y|0,_=_/t|0):(_=_/y|0,C=C/t|0);const i=f.Vl-n.s._o,s=f.zl-n.s.Co;i>p&&i<A&&s>C&&s<_&&(this.Eb?f.nA[f.qf++]=c:T=!0)}const b=n.s._o,v=n.s.Co;let O=0,L=0;0!==t&&(O=n.s.Eo[t],L=n.s.vo[t]);for(let e=0;e<this.ib;e++){let n,c=this.sb[e],u=this.eb[e],w=this.hb[e];0!==t&&(n=w*O+c*L>>16,w=w*L-c*O>>16,c=n),c+=l,u+=o,w+=a,n=w*h+c*r>>16,w=w*r-c*h>>16,c=n,n=u*s-w*i>>16,w=u*i+w*s>>16,u=n,f.zM&&(f.zM[e]=w-d),w>=50&&f.YM&&f.VM?(f.YM[e]=b+((c<<9)/w|0),f.VM[e]=v+((u<<9)/w|0)):f.YM&&(f.YM[e]=-5e3,E=!0),(E||this.wM>0)&&f.XM&&f.jM&&f.qM&&(f.XM[e]=c,f.jM[e]=u,f.qM[e]=w)}try{this.xx(E,T,c)}catch(t){}};xx=(t,i,s,h=!1)=>{f.lx&&(this.bx=-1,this.vx=-1);for(let t=0;t<this.Ix;t++)f.$M&&(f.$M[t]=0);for(let h=0;h<this.TS;h++)if((!this.ES||-1!==this.ES[h])&&f.YM&&f.VM&&f.zM&&f.KM&&f.$M){const n=this.bS[h],r=this.vS[h],l=this.OS[h],o=f.YM[n],a=f.YM[r],c=f.YM[l],u=f.VM[n],d=f.VM[r],w=f.VM[l],y=f.zM[n],m=f.zM[r],p=f.zM[l];if(!t||-5e3!==o&&-5e3!==a&&-5e3!==c){i&&this.Nx(f.Vl,f.zl,u,d,w,o,a,c)&&(f.nA[f.qf++]=s,i=!1);if((o-a)*(w-d)-(u-d)*(c-a)<=0)continue;if(f.ZM&&(f.ZM[h]=!1),f.WM&&(f.WM[h]=o<0||a<0||c<0||o>e.s.uk||a>e.s.uk||c>e.s.uk),f.KM&&f.$M){const t=((y+m+p)/3|0)+this.gx;f.KM[t][f.$M[t]++]=h,f.lx&&this.Nx(f.Vl,f.zl,u,d,w,o,a,c)&&this.vx<t&&(this.bx=h,this.vx=t)}}else if(f.ZM&&(f.ZM[h]=!0),f.KM&&f.$M){const t=((y+m+p)/3|0)+this.gx;f.KM[t][f.$M[t]++]=h}}if(!this.wx&&f.$M){for(let t=this.Ix-1;t>=0;t--){const i=f.$M[t];if(!(i<=0)&&f.KM){const s=f.KM[t];for(let t=0;t<i;t++)this.Px(s[t],h)}}return}for(let t=0;t<12;t++)f.JM&&f.sx&&(f.JM[t]=0,f.sx[t]=0);if(f.$M)for(let t=this.Ix-1;t>=0;t--){const i=f.$M[t];if(i>0&&f.KM){const s=f.KM[t];for(let h=0;h<i;h++)if(this.wx&&f.JM&&f.QM){const i=s[h],e=this.wx[i],n=f.JM[e]++;f.QM[e][n]=i,e<10&&f.sx?f.sx[e]+=t:10===e&&f.tx?f.tx[n]=t:f.ix&&(f.ix[n]=t)}}}let n=0;f.JM&&f.sx&&(f.JM[1]>0||f.JM[2]>0)&&(n=(f.sx[1]+f.sx[2])/(f.JM[1]+f.JM[2])|0);let r=0;f.JM&&f.sx&&(f.JM[3]>0||f.JM[4]>0)&&(r=(f.sx[3]+f.sx[4])/(f.JM[3]+f.JM[4])|0);let l=0;if(f.JM&&f.sx&&(f.JM[6]>0||f.JM[8]>0)&&(l=(f.sx[6]+f.sx[8])/(f.JM[6]+f.JM[8])|0),f.JM&&f.QM){let t,i=0,s=f.JM[10],e=f.QM[10],o=f.tx;i===s&&(i=0,s=f.JM[11],e=f.QM[11],o=f.ix),t=i<s&&o?o[i]:-1e3;for(let a=0;a<10;a++){for(;0===a&&t>n;)this.Px(e[i++],h),i===s&&e!==f.QM[11]&&(i=0,s=f.JM[11],e=f.QM[11],o=f.ix),t=i<s&&o?o[i]:-1e3;for(;3===a&&t>r;)this.Px(e[i++],h),i===s&&e!==f.QM[11]&&(i=0,s=f.JM[11],e=f.QM[11],o=f.ix),t=i<s&&o?o[i]:-1e3;for(;5===a&&t>l;)this.Px(e[i++],h),i===s&&e!==f.QM[11]&&(i=0,s=f.JM[11],e=f.QM[11],o=f.ix),t=i<s&&o?o[i]:-1e3;const c=f.JM[a],u=f.QM[a];for(let t=0;t<c;t++)this.Px(u[t],h)}for(;-1e3!==t;)this.Px(e[i++],h),i===s&&e!==f.QM[11]&&(i=0,e=f.QM[11],s=f.JM[11],o=f.ix),t=i<s&&o?o[i]:-1e3}};Px=(t,i=!1)=>{if(f.ZM&&f.ZM[t])return void this.Dx(t,i);const s=this.bS[t],h=this.vS[t],e=this.OS[t];let r;if(f.WM&&(n.s.fk=f.WM[t]),this.yx?n.s.ck=this.yx[t]:n.s.ck=0,r=this.ES?3&this.ES[t]:0,i&&f.YM&&f.VM&&this.fx&&this.ux&&this.dx)n.s.WR(f.YM[s],f.VM[s],f.YM[h],f.VM[h],n.s.NO[this.fx[t]]),n.s.WR(f.YM[h],f.VM[h],f.YM[e],f.VM[e],n.s.NO[this.ux[t]]),n.s.WR(f.YM[e],f.VM[e],f.YM[s],f.VM[s],n.s.NO[this.dx[t]]);else if(0===r&&this.fx&&this.ux&&this.dx&&f.YM&&f.VM)n.s.mk(f.YM[s],f.YM[h],f.YM[e],f.VM[s],f.VM[h],f.VM[e],this.fx[t],this.ux[t],this.dx[t]);else if(1===r&&this.fx&&f.YM&&f.VM)n.s.hM(f.YM[s],f.YM[h],f.YM[e],f.VM[s],f.VM[h],f.VM[e],n.s.NO[this.fx[t]]);else if(2===r&&this.ES&&this.eT&&this.fx&&this.ux&&this.dx&&f.YM&&f.VM&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,r=this.mx[i],l=this.px[i],o=this.Ax[i];n.s._k(f.YM[s],f.YM[h],f.YM[e],f.VM[s],f.VM[h],f.VM[e],this.fx[t],this.ux[t],this.dx[t],f.XM[r],f.jM[r],f.qM[r],f.XM[l],f.XM[o],f.jM[l],f.jM[o],f.qM[l],f.qM[o],this.eT[t])}else if(3===r&&this.ES&&this.eT&&this.fx&&f.YM&&f.VM&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,r=this.mx[i],l=this.px[i],o=this.Ax[i];n.s._k(f.YM[s],f.YM[h],f.YM[e],f.VM[s],f.VM[h],f.VM[e],this.fx[t],this.fx[t],this.fx[t],f.XM[r],f.jM[r],f.qM[r],f.XM[l],f.XM[o],f.jM[l],f.jM[o],f.qM[l],f.qM[o],this.eT[t])}};Dx=(t,i=!1)=>{let s=0;if(f.qM){const i=n.s._o,h=n.s.Co,e=this.bS[t],r=this.vS[t],l=this.OS[t],o=f.qM[e],a=f.qM[r],c=f.qM[l];if(o>=50&&f.YM&&f.VM&&this.fx)f.hx[s]=f.YM[e],f.ex[s]=f.VM[e],f.nx[s++]=this.fx[t];else if(f.XM&&f.jM&&this.fx){const u=f.XM[e],d=f.jM[e],w=this.fx[t];if(c>=50&&this.dx){const e=(50-o)*n.s.VR[c-o];f.hx[s]=i+((u+((f.XM[l]-u)*e>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[l]-d)*e>>16)<<9)/50|0),f.nx[s++]=w+((this.dx[t]-w)*e>>16)}if(a>=50&&this.ux){const e=(50-o)*n.s.VR[a-o];f.hx[s]=i+((u+((f.XM[r]-u)*e>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[r]-d)*e>>16)<<9)/50|0),f.nx[s++]=w+((this.ux[t]-w)*e>>16)}}if(a>=50&&f.YM&&f.VM&&this.ux)f.hx[s]=f.YM[r],f.ex[s]=f.VM[r],f.nx[s++]=this.ux[t];else if(f.XM&&f.jM&&this.ux){const u=f.XM[r],d=f.jM[r],w=this.ux[t];if(o>=50&&this.fx){const r=(50-a)*n.s.VR[o-a];f.hx[s]=i+((u+((f.XM[e]-u)*r>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[e]-d)*r>>16)<<9)/50|0),f.nx[s++]=w+((this.fx[t]-w)*r>>16)}if(c>=50&&this.dx){const e=(50-a)*n.s.VR[c-a];f.hx[s]=i+((u+((f.XM[l]-u)*e>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[l]-d)*e>>16)<<9)/50|0),f.nx[s++]=w+((this.dx[t]-w)*e>>16)}}if(c>=50&&f.YM&&f.VM&&this.dx)f.hx[s]=f.YM[l],f.ex[s]=f.VM[l],f.nx[s++]=this.dx[t];else if(f.XM&&f.jM&&this.dx){const u=f.XM[l],d=f.jM[l],w=this.dx[t];if(a>=50&&this.ux){const e=(50-c)*n.s.VR[a-c];f.hx[s]=i+((u+((f.XM[r]-u)*e>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[r]-d)*e>>16)<<9)/50|0),f.nx[s++]=w+((this.ux[t]-w)*e>>16)}if(o>=50&&this.fx){const r=(50-c)*n.s.VR[o-c];f.hx[s]=i+((u+((f.XM[e]-u)*r>>16)<<9)/50|0),f.ex[s]=h+((d+((f.jM[e]-d)*r>>16)<<9)/50|0),f.nx[s++]=w+((this.fx[t]-w)*r>>16)}}}const h=f.hx[0],r=f.hx[1],l=f.hx[2],o=f.ex[0],a=f.ex[1],c=f.ex[2];if(!((h-r)*(c-a)-(o-a)*(l-r)<=0))if(n.s.fk=!1,3===s){let s;if((h<0||r<0||l<0||h>e.s.uk||r>e.s.uk||l>e.s.uk)&&(n.s.fk=!0),s=this.ES?3&this.ES[t]:0,i)n.s.WR(h,r,o,a,f.nx[0]),n.s.WR(r,l,a,c,f.nx[1]),n.s.WR(l,h,c,o,f.nx[2]);else if(0===s)n.s.mk(h,r,l,o,a,c,f.nx[0],f.nx[1],f.nx[2]);else if(1===s&&this.fx)n.s.hM(h,r,l,o,a,c,n.s.NO[this.fx[t]]);else if(2===s&&this.ES&&this.eT&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,s=this.mx[i],e=this.px[i],u=this.Ax[i];n.s._k(h,r,l,o,a,c,f.nx[0],f.nx[1],f.nx[2],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t])}else if(3===s&&this.ES&&this.eT&&this.fx&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,s=this.mx[i],e=this.px[i],u=this.Ax[i];n.s._k(h,r,l,o,a,c,this.fx[t],this.fx[t],this.fx[t],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t])}}else if(4===s){let s;if((h<0||r<0||l<0||h>e.s.uk||r>e.s.uk||l>e.s.uk||f.hx[3]<0||f.hx[3]>e.s.uk)&&(n.s.fk=!0),s=this.ES?3&this.ES[t]:0,i)n.s.WR(h,r,o,a,f.nx[0]),n.s.WR(r,l,a,c,f.nx[1]),n.s.WR(l,f.hx[3],c,f.ex[3],f.nx[2]),n.s.WR(f.hx[3],h,f.ex[3],o,f.nx[3]);else if(0===s)n.s.mk(h,r,l,o,a,c,f.nx[0],f.nx[1],f.nx[2]),n.s.mk(h,l,f.hx[3],o,c,f.ex[3],f.nx[0],f.nx[2],f.nx[3]);else if(1===s){if(this.fx){const i=n.s.NO[this.fx[t]];n.s.hM(h,r,l,o,a,c,i),n.s.hM(h,l,f.hx[3],o,c,f.ex[3],i)}}else if(2===s&&this.ES&&this.eT&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,s=this.mx[i],e=this.px[i],u=this.Ax[i];n.s._k(h,r,l,o,a,c,f.nx[0],f.nx[1],f.nx[2],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t]),n.s._k(h,l,f.hx[3],o,c,f.ex[3],f.nx[0],f.nx[2],f.nx[3],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t])}else if(3===s&&this.ES&&this.eT&&this.fx&&f.XM&&f.jM&&f.qM){const i=this.ES[t]>>2,s=this.mx[i],e=this.px[i],u=this.Ax[i];n.s._k(h,r,l,o,a,c,this.fx[t],this.fx[t],this.fx[t],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t]),n.s._k(h,l,f.hx[3],o,c,f.ex[3],this.fx[t],this.fx[t],this.fx[t],f.XM[s],f.jM[s],f.qM[s],f.XM[e],f.XM[u],f.jM[e],f.jM[u],f.qM[e],f.qM[u],this.eT[t])}}};Rx=(t,i,s,h,e)=>{if(!h)return;const r=h.Pr;if(0===e){let e=0;f.Ce=0,f.rx=0,f.Ee=0;for(let t=0;t<r;t++){if(!this.ob)continue;const i=h[t];if(i<this.ob.Pr){const t=this.ob[i];if(t)for(let i=0;i<t.Pr;i++){const s=t[i];f.Ce+=this.sb[s],f.rx+=this.eb[s],f.Ee+=this.hb[s],e++}}}e>0?(f.Ce=(f.Ce/e|0)+t,f.rx=(f.rx/e|0)+i,f.Ee=(f.Ee/e|0)+s):(f.Ce=t,f.rx=i,f.Ee=s)}else if(1===e)for(let e=0;e<r;e++){const n=h[e];if(!this.ob||n>=this.ob.Pr)continue;const r=this.ob[n];if(r)for(let h=0;h<r.Pr;h++){const e=r[h];this.sb[e]+=t,this.eb[e]+=i,this.hb[e]+=s}}else if(2===e)for(let e=0;e<r;e++){const r=h[e];if(!this.ob||r>=this.ob.Pr)continue;const l=this.ob[r];if(l)for(let h=0;h<l.Pr;h++){const e=l[h];this.sb[e]-=f.Ce,this.eb[e]-=f.rx,this.hb[e]-=f.Ee;const r=8*(255&t),o=8*(255&i),a=8*(255&s);let c,u;if(0!==a){c=n.s.Eo[a],u=n.s.vo[a];const t=this.eb[e]*c+this.sb[e]*u>>16;this.eb[e]=this.eb[e]*u-this.sb[e]*c>>16,this.sb[e]=t}if(0!==r){c=n.s.Eo[r],u=n.s.vo[r];const t=this.eb[e]*u-this.hb[e]*c>>16;this.hb[e]=this.eb[e]*c+this.hb[e]*u>>16,this.eb[e]=t}if(0!==o){c=n.s.Eo[o],u=n.s.vo[o];const t=this.hb[e]*c+this.sb[e]*u>>16;this.hb[e]=this.hb[e]*u-this.sb[e]*c>>16,this.sb[e]=t}this.sb[e]+=f.Ce,this.eb[e]+=f.rx,this.hb[e]+=f.Ee}}else if(3===e)for(let e=0;e<r;e++){const n=h[e];if(!this.ob||n>=this.ob.Pr)continue;const r=this.ob[n];if(r)for(let h=0;h<r.Pr;h++){const e=r[h];this.sb[e]-=f.Ce,this.eb[e]-=f.rx,this.hb[e]-=f.Ee,this.sb[e]=this.sb[e]*t/128|0,this.eb[e]=this.eb[e]*i/128|0,this.hb[e]=this.hb[e]*s/128|0,this.sb[e]+=f.Ce,this.eb[e]+=f.rx,this.hb[e]+=f.Ee}}else if(5===e&&this.lb&&this.yx)for(let i=0;i<r;i++){const s=h[i];if(s>=this.lb.Pr)continue;const e=this.lb[s];if(e)for(let i=0;i<e.Pr;i++){const s=e[i];this.yx[s]+=8*t,this.yx[s]<0&&(this.yx[s]=0),this.yx[s]>255&&(this.yx[s]=255)}}};Mx=()=>{this.ub=0,this.WO=0,this.AS=0,this.IS=999999,this.gS=-999999,this.CS=-99999,this._S=99999;for(let t=0;t<this.ib;t++){const i=this.sb[t],s=this.eb[t],h=this.hb[t];i<this.IS&&(this.IS=i),i>this.gS&&(this.gS=i),h<this._S&&(this._S=h),h>this.CS&&(this.CS=h),-s>this.ub&&(this.ub=-s),s>this.AS&&(this.AS=s);const e=i*i+h*h;e>this.WO&&(this.WO=e)}this.WO=0|Math.sqrt(this.WO),this.gx=0|Math.sqrt(this.WO*this.WO+this.ub*this.ub),this.Ix=this.gx+(0|Math.sqrt(this.WO*this.WO+this.AS*this.AS))};Nx=(t,i,s,h,e,n,r,l)=>!(i<s&&i<h&&i<e)&&(!(i>s&&i>h&&i>e)&&(!(t<n&&t<r&&t<l)&&(t<=n||t<=r||t<=l)));Fx=t=>{if(!(f.YM&&f.VM&&this.fx&&this.ux&&this.dx))return;const i=this.bS[t],s=this.vS[t],h=this.OS[t];n.s.WR(f.YM[i],f.VM[i],f.YM[s],f.VM[s],n.s.NO[1e3]),n.s.WR(f.YM[s],f.VM[s],f.YM[h],f.VM[h],n.s.NO[1e3]),n.s.WR(f.YM[h],f.VM[h],f.YM[i],f.VM[i],n.s.NO[1e3])}}},6542:(t,i,s)=>{s.t(i,{s:()=>l});var h=s(2991),e=s(2383),n=s(6327),r=s(5147);class l extends n.s{Xa;Yr;Vr;yc;mc;jl;zu;Dg(t,i){super(),this.Xa=new Int32Array(t*i),this.Yr=this.jl=t,this.Vr=this.zu=i,this.yc=this.mc=0}static dc=async(t,i)=>{const s=t.Ur(i+'.dat');if(!s)throw new Error(`${i} jpeg not found!`);const h=await(0,r.gE)(s),e=new l(h.Yr,h.Vr),n=e.Xa,o=h.xc;for(let t=0;t<n.Pr;t++){const i=4*t;n[t]=o[i+3]<<24|o[i]<<16|o[i+1]<<8|o[i+2]<<0}return e};static xa=(t,i,s=0)=>{const h=new e.s(t.Ur(i+'.dat')),n=new e.s(t.Ur('index.dat'));n.Nc=h.Gy;const r=n.Gy,o=n.Gy,a=[],c=n.Yy-1;for(let t=0;t<c;t++)a[t+1]=n.OT,0===a[t+1]&&(a[t+1]=1);for(let t=0;t<s;t++)n.Nc+=2,h.Nc+=n.Gy*n.Gy,n.Nc+=1;if(h.Nc>h.xc.Pr||n.Nc>n.xc.Pr)throw new Error;const f=n.Yy,u=n.Yy,d=n.Gy,w=n.Gy,y=new l(d,w);y.yc=f,y.mc=u,y.jl=r,y.zu=o;const m=n.Yy;if(0===m){const t=y.Yr*y.Vr;for(let i=0;i<t;i++)y.Xa[i]=a[h.Yy]}else if(1===m){const t=y.Yr;for(let i=0;i<t;i++){const s=y.Vr;for(let e=0;e<s;e++)y.Xa[i+e*t]=a[h.Yy]}}return y};rc=()=>{h.s.rc(this.Xa,this.Yr,this.Vr)};il=(t,i)=>{t|=0,i|=0;let s=(t+=this.yc)+(i+=this.mc)*h.s.Sb,e=0,n=this.Vr,r=this.Yr,l=h.s.Sb-r,o=0;if(i<h.s.Cl){const t=h.s.Cl-i;n-=t,i=h.s.Cl,e+=t*r,s+=t*h.s.Sb}if(i+n>h.s.Tl&&(n-=i+n-h.s.Tl),t<h.s._l){const i=h.s._l-t;r-=i,t=h.s._l,e+=i,s+=i,o+=i,l+=i}if(t+r>h.s.El){const i=t+r-h.s.El;r-=i,o+=i,l+=i}r>0&&n>0&&this.Ux(r,n,this.Xa,e,o,h.s.Xa,s,l)};Xl=(t,i,s)=>{i|=0,s|=0;let e=(i+=this.yc)+(s+=this.mc)*h.s.Sb,n=0,r=this.Vr,l=this.Yr,o=h.s.Sb-l,a=0;if(s<h.s.Cl){const t=h.s.Cl-s;r-=t,s=h.s.Cl,n+=t*l,e+=t*h.s.Sb}if(s+r>h.s.Tl&&(r-=s+r-h.s.Tl),i<h.s._l){const t=h.s._l-i;l-=t,i=h.s._l,n+=t,e+=t,a+=t,o+=t}if(i+l>h.s.El){const t=i+l-h.s.El;l-=t,a+=t,o+=t}l>0&&r>0&&this.Bx(l,r,this.Xa,n,a,h.s.Xa,e,o,t)};Ga=(t,i)=>{t|=0,i|=0;let s=(t+=this.yc)+(i+=this.mc)*h.s.Sb,e=0,n=this.Vr,r=this.Yr,l=h.s.Sb-r,o=0;if(i<h.s.Cl){const t=h.s.Cl-i;n-=t,i=h.s.Cl,e+=t*r,s+=t*h.s.Sb}if(i+n>h.s.Tl&&(n-=i+n-h.s.Tl),t<h.s._l){const i=h.s._l-t;r-=i,t=h.s._l,e+=i,s+=i,o+=i,l+=i}if(t+r>h.s.El){const i=t+r-h.s.El;r-=i,o+=i,l+=i}r>0&&n>0&&this.Gx(r,n,this.Xa,e,o,h.s.Xa,s,l)};Ua=()=>{const t=this.Xa,i=this.Yr,s=this.Vr;for(let h=0;h<s;h++){const s=i/2|0;for(let e=0;e<s;e++){const s=e+h*i,n=i-e-1+h*i,r=t[s];t[s]=t[n],t[n]=r}}};Ba=()=>{const t=this.Xa,i=this.Yr,s=this.Vr;for(let h=0;h<(s/2|0);h++)for(let e=0;e<i;e++){const n=e+h*i,r=e+(s-h-1)*i,l=t[n];t[n]=t[r],t[r]=l}};Wa=(t,i,s)=>{for(let h=0;h<this.Xa.Pr;h++){const e=this.Xa[h];if(0!==e){let n=e>>16&255;n+=t,n<1?n=1:n>255&&(n=255);let r=e>>8&255;r+=i,r<1?r=1:r>255&&(r=255);let l=255&e;l+=s,l<1?l=1:l>255&&(l=255),this.Xa[h]=(n<<16)+(r<<8)+l}}};Db=(t,i,s,e)=>{t|=0,i|=0,s|=0,e|=0;try{const n=this.Yr;let r=0,l=0;const o=this.jl,a=this.zu,c=(o<<16)/s|0,f=(a<<16)/e|0;t+=(this.yc*s+o-1)/o|0,i+=(this.mc*e+a-1)/a|0,this.yc*s%o!=0&&(r=(o-this.yc*s%o<<16)/s|0),this.mc*e%a!=0&&(l=(a-this.mc*e%a<<16)/e|0),s=s*(this.Yr-(r>>16))/o|0,e=e*(this.Vr-(l>>16))/a|0;let u=t+i*h.s.Sb,d=h.s.Sb-s;if(i<h.s.Cl){const t=h.s.Cl-i;e-=t,i=0,u+=t*h.s.Sb,l+=f*t}if(i+e>h.s.Tl&&(e-=i+e-h.s.Tl),t<h.s._l){const i=h.s._l-t;s-=i,t=0,u+=i,r+=c*i,d+=i}if(t+s>h.s.El){const i=t+s-h.s.El;s-=i,d+=i}this.cb(s,e,this.Xa,r,l,h.s.Xa,d,u,n,c,f)}catch(t){console.Ja('error in sprite clipping routine')}};Hu=(t,i,s,e,n,r,l,o,a,c)=>{t|=0,i|=0,s|=0,e|=0;try{const f=-s/2|0,u=-e/2|0,d=65536*Math.Eo(a/326.11)|0,w=65536*Math.vo(a/326.11)|0,y=d*c>>8,m=w*c>>8;let p=(l<<16)+u*y+f*m,A=u*m-f*y+(o<<16),I=t+i*h.s.Sb;for(let t=0;t<e;t++){const i=n[t];let s=I+i,e=p+m*i,l=A-y*i;for(let i=-r[t];i<0;i++)h.s.Xa[s++]=this.Xa[(e>>16)+(l>>16)*this.Yr],e+=m,l-=y;p+=y,A+=m,I+=h.s.Sb}}catch(t){}};Vu=(t,i,s)=>{t|=0,i|=0;let e=(t+=this.yc)+(i+=this.mc)*h.s.Sb,n=0,r=this.Vr,l=this.Yr,o=h.s.Sb-l,a=0;if(i<h.s.Cl){const t=h.s.Cl-i;r-=t,i=h.s.Cl,n+=t*l,e+=t*h.s.Sb}if(i+r>h.s.Tl&&(r-=i+r-h.s.Tl),t<h.s._l){const i=h.s._l-t;l-=i,t=h.s._l,n+=i,e+=i,a+=i,o+=i}if(t+l>h.s.El){const i=t+l-h.s.El;l-=i,a+=i,o+=i}l>0&&r>0&&this.Hx(l,r,this.Xa,a,n,h.s.Xa,e,o,s.Xa)};cb=(t,i,s,h,e,n,r,l,o,a,c)=>{try{const f=h;for(let u=-i;u<0;u++){const i=(e>>16)*o;for(let e=-t;e<0;e++){const t=s[(h>>16)+i];0===t?l++:n[l++]=t,h+=a}e+=c,h=f,l+=r}}catch(t){console.Ja('error in plot_scale')}};Gx=(t,i,s,h,e,n,r,l)=>{const o=-(t>>2);t=-(3&t);for(let a=-i;a<0;a++){for(let t=o;t<0;t++)n[r++]=s[h++],n[r++]=s[h++],n[r++]=s[h++],n[r++]=s[h++];for(let i=t;i<0;i++)n[r++]=s[h++];r+=l,h+=e}};Bx=(t,i,s,h,e,n,r,l,o)=>{const a=256-o;for(let c=-i;c<0;c++){for(let i=-t;i<0;i++){const t=s[h++];if(0===t)r++;else{const i=n[r];n[r++]=((16711935&t)*o+(16711935&i)*a&4278255360)+((65280&t)*o+(65280&i)*a&16711680)>>8}}r+=l,h+=e}};Ux=(t,i,s,h,e,n,r,l)=>{const o=-(t>>2);t=-(3&t);for(let a=-i;a<0;a++){for(let t=o;t<0;t++){let t=s[h++];0===t?r++:n[r++]=t,t=s[h++],0===t?r++:n[r++]=t,t=s[h++],0===t?r++:n[r++]=t,t=s[h++],0===t?r++:n[r++]=t}for(let i=t;i<0;i++){const t=s[h++];0===t?r++:n[r++]=t}r+=l,h+=e}};Hx=(t,i,s,h,e,n,r,l,o)=>{const a=-(t>>2);t=-(3&t);for(let c=-i;c<0;c++){for(let t=a;t<0;t++){let t=s[e++];0!==t&&0===o[r]?n[r++]=t:r++,t=s[e++],0!==t&&0===o[r]?n[r++]=t:r++,t=s[e++],0!==t&&0===o[r]?n[r++]=t:r++,t=s[e++],0!==t&&0===o[r]?n[r++]=t:r++}for(let i=t;i<0;i++){const t=s[e++];0!==t&&0===o[r]?n[r++]=t:r++}r+=l,e+=h}}}},664:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(2991),e=s(2383),n=s(6327);class r extends n.s{Xa;Yr;Vr;yc;mc;jl;zu;NO;Dg(t,i,s){super(),this.Xa=new Int8Array(t*i),this.Yr=this.jl=t,this.Vr=this.zu=i,this.yc=this.mc=0,this.NO=s}static xa=(t,i,s=0)=>{const h=new e.s(t.Ur(i+'.dat')),n=new e.s(t.Ur('index.dat'));n.Nc=h.Gy;const l=n.Gy,o=n.Gy,a=n.Yy,c=new Int32Array(a);for(let t=1;t<a;t++)c[t]=n.OT,0===c[t]&&(c[t]=1);for(let t=0;t<s;t++)n.Nc+=2,h.Nc+=n.Gy*n.Gy,n.Nc+=1;if(h.Nc>h.xc.Pr||n.Nc>n.xc.Pr)throw new Error;const f=n.Yy,u=n.Yy,d=n.Gy,w=n.Gy,y=new r(d,w,c);y.yc=f,y.mc=u,y.jl=l,y.zu=o;const m=y.Xa,p=n.Yy;if(0===p){const t=y.Yr*y.Vr;for(let i=0;i<t;i++)m[i]=h.Wy}else if(1===p){const t=y.Yr,i=y.Vr;for(let s=0;s<t;s++)for(let e=0;e<i;e++)m[s+e*t]=h.Wy}return y};il=(t,i)=>{t|=0,i|=0;let s=(t+=this.yc)+(i+=this.mc)*h.s.Sb,e=0,n=this.Vr,r=this.Yr,l=h.s.Sb-r,o=0;if(i<h.s.Cl){const t=h.s.Cl-i;n-=t,i=h.s.Cl,e+=t*r,s+=t*h.s.Sb}if(i+n>h.s.Tl&&(n-=i+n-h.s.Tl),t<h.s._l){const i=h.s._l-t;r-=i,t=h.s._l,e+=i,s+=i,o+=i,l+=i}if(t+r>h.s.El){const i=t+r-h.s.El;r-=i,o+=i,l+=i}r>0&&n>0&&this.Wx(r,n,this.Xa,e,o,h.s.Xa,s,l)};Ua=()=>{const t=this.Xa,i=this.Yr,s=this.Vr;for(let h=0;h<s;h++){const s=i/2|0;for(let e=0;e<s;e++){const s=e+h*i,n=i-e-1+h*i,r=t[s];t[s]=t[n],t[n]=r}}};Ba=()=>{const t=this.Xa,i=this.Yr,s=this.Vr;for(let h=0;h<(s/2|0);h++)for(let e=0;e<i;e++){const n=e+h*i,r=e+(s-h-1)*i,l=t[n];t[n]=t[r],t[r]=l}};Wa=(t,i,s)=>{for(let h=0;h<this.NO.Pr;h++){let e=this.NO[h]>>16&255;e+=t,e<0?e=0:e>255&&(e=255);let n=this.NO[h]>>8&255;n+=i,n<0?n=0:n>255&&(n=255);let r=255&this.NO[h];r+=s,r<0?r=0:r>255&&(r=255),this.NO[h]=(e<<16)+(n<<8)+r}};tM=()=>{this.jl|=0,this.zu|=0,this.jl/=2,this.zu/=2,this.jl|=0,this.zu|=0;const t=new Int8Array(this.jl*this.zu);let i=0;for(let s=0;s<this.Vr;s++)for(let h=0;h<this.Yr;h++)t[(h+this.yc>>1)+(s+this.mc>>1)*this.jl]=this.Xa[i++];this.Xa=t,this.Yr=this.jl,this.Vr=this.zu,this.yc=0,this.mc=0};Db=()=>{if(this.Yr===this.jl&&this.Vr===this.zu)return;const t=new Int8Array(this.jl*this.zu);let i=0;for(let s=0;s<this.Vr;s++)for(let h=0;h<this.Yr;h++)t[h+this.yc+(s+this.mc)*this.jl]=this.Xa[i++];this.Xa=t,this.Yr=this.jl,this.Vr=this.zu,this.yc=0,this.mc=0};Wx=(t,i,s,h,e,n,r,l)=>{const o=-(t>>2);t=-(3&t);for(let a=-i;a<0;a++){for(let t=o;t<0;t++){let t=s[h++];0===t?r++:n[r++]=this.NO[255&t],t=s[h++],0===t?r++:n[r++]=this.NO[255&t],t=s[h++],0===t?r++:n[r++]=this.NO[255&t],t=s[h++],0===t?r++:n[r++]=this.NO[255&t]}for(let i=t;i<0;i++){const t=s[h++];0===t?r++:n[r++]=this.NO[255&t]}r+=l,h+=e}}}},4628:(t,i,s)=>{s.t(i,{s:()=>o});var h=s(2991),e=s(2383),n=s(6327);class r{Zx;Dg(t){this.Zx=(t^BigInt(25214903917))&BigInt((1n<<48n)-1n)}Yx=t=>{this.Zx=(t^BigInt(25214903917))&BigInt((1n<<48n)-1n)};Uy=()=>this.fA(32);fA=t=>(this.Zx=this.Zx*BigInt(25214903917)+BigInt(11)&BigInt((1n<<48n)-1n),Number(this.Zx)>>>48-t)}var l=s(312);class o extends n.s{static Oc='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!"£$%^&*()-_=+[{]};:\'@#~,<.>/?\\| ';static Vx=[];static{for(let t=0;t<256;t++){let i=o.Oc.co(String.fromCharCode(t));-1===i&&(i=74),o.Vx[t]=i}}zx=[];Xx=new Int32Array(94);jx=new Int32Array(94);qx=new Int32Array(94);$x=new Int32Array(94);Kx=new Int32Array(95);Jx=new Int32Array(256);Ha=new r(BigInt(Date.now()));Vr=0;static xa=(t,i)=>{const s=new e.s(t.Ur(i+'.dat')),h=new e.s(t.Ur('index.dat'));h.Nc=s.Gy+4;const n=h.Yy;n>0&&(h.Nc+=3*(n-1));const r=new o;for(let t=0;t<94;t++){r.qx[t]=h.Yy,r.$x[t]=h.Yy;const i=r.Xx[t]=h.Gy,e=r.jx[t]=h.Gy,n=h.Yy,l=i*e;if(r.zx[t]=new Int8Array(l),0===n)for(let h=0;h<i*e;h++)r.zx[t][h]=s.Wy;else if(1===n)for(let h=0;h<i;h++)for(let n=0;n<e;n++)r.zx[t][h+n*i]=s.Wy;e>r.Vr&&(r.Vr=e),r.qx[t]=1,r.Kx[t]=i+2;{let s=0;for(let h=e/7|0;h<e;h++)s+=r.zx[t][h*i];s<=(e/7|0)&&(r.Kx[t]--,r.qx[t]=0)}{let s=0;for(let h=e/7|0;h<e;h++)s+=r.zx[t][i+h*i-1];s<=(e/7|0)&&r.Kx[t]--}}r.Kx[94]=r.Kx[8];for(let t=0;t<256;t++)r.Jx[t]=r.Kx[o.Vx[t]];return r};ql=(t,i,s,h)=>{if(!s)return;t|=0,i|=0;const e=s.Pr;i-=this.Vr;for(let n=0;n<e;n++){const e=o.Vx[s.IR(n)];94!==e&&this.Qx(this.zx[e],t+this.qx[e],i+this.$x[e],this.Xx[e],this.jx[e],h),t+=this.Kx[e]}};mo=(t,i,s,h,e)=>{t|=0,i|=0;const n=s.Pr;i-=this.Vr;for(let r=0;r<n;r++)if('@'===s.Lc(r)&&r+4<n&&'@'===s.Lc(r+4))h=this.tN(s.fo(r+1,r+4)),r+=4;else{const n=o.Vx[s.IR(r)];94!==n&&(e&&this.Qx(this.zx[n],t+this.qx[n]+1,i+this.$x[n]+1,this.Xx[n],this.jx[n],l.s.Kl),this.Qx(this.zx[n],t+this.qx[n],i+this.$x[n],this.Xx[n],this.jx[n],h)),t+=this.Kx[n]}};du=t=>{if(!t)return 0;const i=t.Pr;let s=0;for(let h=0;h<i;h++)'@'===t.Lc(h)&&h+4<i&&'@'===t.Lc(h+4)?h+=4:s+=this.Jx[t.IR(h)];return s};wo=(t,i,s,h,e)=>{t|=0,i|=0,this.mo(t-this.du(s)/2,i,s,h,e)};lc=(t,i,s,h)=>{s&&(t|=0,i|=0,this.ql(t-this.du(s)/2,i,s,h))};pd=(t,i,s,h,e,n)=>{t|=0,i|=0,this.Ha.Yx(BigInt(n));const r=192+(31&this.Ha.Uy()),a=i-this.Vr;for(let i=0;i<s.Pr;i++)if('@'===s.Lc(i)&&i+4<s.Pr&&'@'===s.Lc(i+4))h=this.tN(s.fo(i+1,i+4)),i+=4;else{const n=o.Vx[s.IR(i)];94!==n&&(e&&this.iN(t+this.qx[n]+1,a+this.$x[n]+1,this.Xx[n],this.jx[n],l.s.Kl,192,this.zx[n]),this.iN(t+this.qx[n],a+this.$x[n],this.Xx[n],this.jx[n],h,r,this.zx[n])),t+=this.Kx[n],0==(3&this.Ha.Uy())&&t++}};vu=(t,i,s,h,e=!0)=>{t|=0,i|=0,e&&this.ql(t-this.du(s)+1,i+1,s,l.s.Kl),this.ql(t-this.du(s),i,s,h)};Tu=(t,i,s,h,e)=>{if(!s)return;t|=0,i|=0,t-=this.du(s)/2|0;const n=i-this.Vr;for(let i=0;i<s.Pr;i++){const r=o.Vx[s.IR(i)];94!=r&&this.Qx(this.zx[r],t+this.qx[r],n+this.$x[r]+(5*Math.Eo(i/2+e/5)|0),this.Xx[r],this.jx[r],h),t+=this.Kx[r]}};Qx=(t,i,s,e,n,r)=>{e|=0,n|=0;let l=(i|=0)+(s|=0)*h.s.Sb,o=h.s.Sb-e,a=0,c=0;if(s<h.s.Cl){const t=h.s.Cl-s;n-=t,s=h.s.Cl,c+=t*e,l+=t*h.s.Sb}if(s+n>=h.s.Tl&&(n-=s+n+1-h.s.Tl),i<h.s._l){const t=h.s._l-i;e-=t,i=h.s._l,c+=t,l+=t,a+=t,o+=t}if(i+e>=h.s.El){const t=i+e+1-h.s.El;e-=t,a+=t,o+=t}e>0&&n>0&&this.sN(e,n,t,c,a,h.s.Xa,l,o,r)};iN=(t,i,s,e,n,r,l)=>{s|=0,e|=0;let o=(t|=0)+(i|=0)*h.s.Sb,a=h.s.Sb-s,c=0,f=0;if(i<h.s.Cl){const t=h.s.Cl-i;e-=t,i=h.s.Cl,f+=t*s,o+=t*h.s.Sb}if(i+e>=h.s.Tl&&(e-=i+e+1-h.s.Tl),t<h.s._l){const i=h.s._l-t;s-=i,t=h.s._l,f+=i,o+=i,c+=i,a+=i}if(t+s>=h.s.El){const i=t+s+1-h.s.El;s-=i,c+=i,a+=i}s>0&&e>0&&this.hN(s,e,h.s.Xa,o,a,l,f,c,n,r)};sN=(t,i,s,h,e,n,r,l,o)=>{const a=-((t|=0)>>2);t=-(3&t);for(let c=-(i|=0);c<0;c++){for(let t=a;t<0;t++)0===s[h++]?r++:n[r++]=o,0===s[h++]?r++:n[r++]=o,0===s[h++]?r++:n[r++]=o,0===s[h++]?r++:n[r++]=o;for(let i=t;i<0;i++)0===s[h++]?r++:n[r++]=o;r+=l,h+=e}};hN=(t,i,s,h,e,n,r,l,o,a)=>{t|=0;const c=((16711935&o)*a&4278255360)+((65280&o)*a&16711680)>>8,f=256-a;for(let o=-(i|=0);o<0;o++){for(let i=-t;i<0;i++)if(0===n[r++])h++;else{const t=s[h];s[h++]=(((16711935&t)*f&4278255360)+((65280&t)*f&16711680)>>8)+c}h+=e,r+=l}};tN=t=>'red'===t?l.s.la:'gre'===t?l.s.ua:'blu'===t?l.s.Ic:'yel'===t?l.s.Jl:'cya'===t?l.s.Ac:'mag'===t?l.s.gc:'whi'===t?l.s.Rl:'bla'===t?l.s.Kl:'lre'===t?l.s.xR:'dre'===t?l.s.Uu:'dbl'===t?l.s.Fu:'or1'===t?l.s.NR:'or2'===t?l.s.PR:'or3'===t?l.s.DR:'gr1'===t?l.s.FR:'gr2'===t?l.s.UR:'gr3'===t?l.s.BR:l.s.Kl;eN(t,i){if(0===t.Pr)return[t];const s=[];for(;t.Pr>0;){if(this.du(t)<=i&&-1===t.co('|')){s.vR(t);break}let h=t.Pr;for(let s=0;s<t.Pr;s++)if(' '===t[s]){if(this.du(t.fo(0,s))>i)break;h=s}else if('|'===t[s]){h=s;break}s.vR(t.fo(0,h)),t=t.fo(h+1)}return s}}},651:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(2991),e=s(6121);class n{nN;Yr;Vr;rN;Xa;Dg(t,i,s=e.Wr){this.rN=s,this.nN=this.rN.dM(0,0,t,i),this.Xa=new Int32Array(t*i),this.Yr=t,this.Vr=i,this.rc()}uc=()=>{this.Xa.io(0)};rc=()=>{h.s.rc(this.Xa,this.Yr,this.Vr)};il=(t,i)=>{this.#t(),this.rN.lN(this.nN,t,i)};#t=()=>{const t=this.nN.xc;for(let i=0;i<this.Xa.Pr;i++){const s=this.Xa[i],h=4*i;t[h]=s>>16&255,t[h+1]=s>>8&255,t[h+2]=s>>0&255,t[h+3]=255}}}},2157:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(2383),e=s(9345);class n{static Tr=[];static za=t=>{const i=new h.s(t.Ur('base_head.dat')),s=new h.s(t.Ur('base_type.dat')),r=new h.s(t.Ur('base_label.dat')),l=i.Gy;i.Nc+=2;for(let t=0;t<l;t++){const t=i.Gy,h=i.Yy,l=new Uint8Array(h),o=new e.Ii(h,null);for(let t=0;t<h;t++){l[t]=s.Yy;const i=r.Yy,h=new Uint8Array(i);for(let t=0;t<i;t++)h[t]=r.Yy;o[t]=h}this.Tr[t]=new n,this.Tr[t].Pr=h,this.Tr[t].Sx=l,this.Tr[t].kx=o}};Pr=0;Sx=null;kx=null}},8762:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(2157),e=s(2383);class n{static Tr=[];static za=t=>{const i=new e.s(t.Ur('frame_head.dat')),s=new e.s(t.Ur('frame_tran1.dat')),r=new e.s(t.Ur('frame_tran2.dat')),l=new e.s(t.Ur('frame_del.dat')),o=i.Gy;i.Nc+=2;const a=new Int32Array(500),c=new Int32Array(500),f=new Int32Array(500),u=new Int32Array(500);for(let t=0;t<o;t++){const t=i.Gy,e=this.Tr[t]=new n;e.yl=l.Yy;const o=i.Gy,d=h.s.Tr[o];e.Ox=d;const w=i.Yy;let y=-1,m=0;for(let t=0;t<w;t++){if(!d.Sx)throw new Error('SeqBase not loaded!!!');const i=s.Yy;if(i>0){if(0!==d.Sx[t])for(let i=t-1;i>y;i--)if(0===d.Sx[i]){a[m]=i,c[m]=0,f[m]=0,u[m]=0,m++;break}a[m]=t;let s=0;3===d.Sx[a[m]]&&(s=128),c[m]=0==(1&i)?s:r.ox,f[m]=0==(2&i)?s:r.ox,u[m]=0==(4&i)?s:r.ox,y=t,m++}}e.Pr=m,e.Lx=new Int32Array(m),e.Ll=new Int32Array(m),e.Sl=new Int32Array(m),e.Wf=new Int32Array(m);for(let t=0;t<m;t++)e.Lx[t]=a[t],e.Ll[t]=c[t],e.Sl[t]=f[t],e.Wf[t]=u[t]}};yl=0;Ox=null;Pr=0;Lx=null;Ll=null;Sl=null;Wf=null}},9995:(t,i,s)=>{var h;s.t(i,{s:()=>e}),function(t){t[t.$y=150]="REBUILD_GETMAPS",t[t.vf=70]="IDLE_TIMER",t[t.Lf=108]="NO_TIMEOUT",t[t.$c=81]="EVENT_TRACKING",t[t.nf=189]="EVENT_CAMERA_POSITION",t[t.Iw=7]="ANTICHEAT_OPLOGIC1",t[t.Dd=88]="ANTICHEAT_OPLOGIC2",t[t.Md=30]="ANTICHEAT_OPLOGIC3",t[t.Gd=176]="ANTICHEAT_OPLOGIC4",t[t.Ld=220]="ANTICHEAT_OPLOGIC5",t[t.Cw=66]="ANTICHEAT_OPLOGIC6",t[t.dw=17]="ANTICHEAT_OPLOGIC7",t[t.$d=2]="ANTICHEAT_OPLOGIC8",t[t.mw=238]="ANTICHEAT_OPLOGIC9",t[t.ty=233]="ANTICHEAT_CYCLELOGIC1",t[t.Zf=146]="ANTICHEAT_CYCLELOGIC2",t[t.uf=215]="ANTICHEAT_CYCLELOGIC3",t[t.Of=236]="ANTICHEAT_CYCLELOGIC4",t[t.QI=85]="ANTICHEAT_CYCLELOGIC5",t[t.gI=219]="ANTICHEAT_CYCLELOGIC6",t[t.iw=140]="OPOBJ1",t[t.nw=40]="OPOBJ2",t[t.ew=200]="OPOBJ3",t[t.sw=178]="OPOBJ4",t[t.hw=247]="OPOBJ5",t[t._w=138]="OPOBJT",t[t.Wd=239]="OPOBJU",t[t.Bd=194]="OPNPC1",t[t.Pd=8]="OPNPC2",t[t.Fd=27]="OPNPC3",t[t.Ud=113]="OPNPC4",t[t.Hd=100]="OPNPC5",t[t.Qd=134]="OPNPCT",t[t.qd=202]="OPNPCU",t[t.Yd=245]="OPLOC1",t[t.rw=172]="OPLOC2",t[t.Tw=96]="OPLOC3",t[t.gw=97]="OPLOC4",t[t.Ew=116]="OPLOC5",t[t.tw=9]="OPLOCT",t[t.Od=75]="OPLOCU",t[t.Td=164]="OPPLAYER1",t[t.Kd=53]="OPPLAYER2",t[t.Jd=185]="OPPLAYER3",t[t.Ed=206]="OPPLAYER4",t[t.Mw=177]="OPPLAYERT",t[t.Ow=248]="OPPLAYERU",t[t.xd=195]="OPHELD1",t[t.Nd=71]="OPHELD2",t[t.Rd=133]="OPHELD3",t[t.Sd=157]="OPHELD4",t[t.kd=211]="OPHELD5",t[t.zd=48]="OPHELDT",t[t.Vd=130]="OPHELDU",t[t.yw=31]="INV_BUTTON1",t[t.Aw=59]="INV_BUTTON2",t[t.uw=212]="INV_BUTTON3",t[t.pw=38]="INV_BUTTON4",t[t.ww=6]="INV_BUTTON5",t[t.fw=155]="IF_BUTTON",t[t.jd=235]="RESUME_PAUSEBUTTON",t[t.Ny=231]="CLOSE_MODAL",t[t.ry=237]="RESUME_P_COUNTDIALOG",t[t.Nf=175]="TUTORIAL_CLICKSIDE",t[t.TA=93]="MOVE_OPCLICK",t[t.jw=190]="BUG_REPORT",t[t.EA=165]="MOVE_MINIMAPCLICK",t[t.of=159]="INV_BUTTOND",t[t.uy=171]="IGNORELIST_DEL",t[t.fy=79]="IGNORELIST_ADD",t[t.Vw=52]="IF_PLAYERDESIGN",t[t.ny=244]="CHAT_SETMODE",t[t.iy=148]="MESSAGE_PRIVATE",t[t.cy=11]="FRIENDLIST_DEL",t[t.ay=118]="FRIENDLIST_ADD",t[t.ly=4]="CLIENT_CHEAT",t[t.oy=158]="MESSAGE_PUBLIC",t[t.CA=181]="MOVE_GAMECLICK"}(h||(h={}));const e=h},1812:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(1519);class e{oN;aN=[];cN=void 0;fN=0;ek=0;static kc=async t=>await new Promise(((i,s)=>{const h=t.Rc.ga('https'),e=h?'wss':'ws',n=t.Rc.fo(t.Rc.co('//')+2),r=h?t.ba+2:t.ba+1,l=new WebSocket(`${e}://${n}:${r}`,'binary');l.uN='arraybuffer',l.Gg('open',(()=>{console.log('connection open!'),i(l)})),l.Gg('error',(()=>{console.log('connection error!'),s(l)}))}));Dg(t){t.dN=this.dN,t.wN=this.wN,t.yN=this.yN,this.oN=t}get Rc(){return this.oN.mN.eN('/')[2]}get ba(){return parseInt(this.oN.mN.eN(':')[2],10)}get Fy(){return this.fN}Hc=(t,i,s)=>{if(this.oN.pN!==WebSocket.id)throw new Error('Socket is not able to write!');const e=new Uint8Array(i);(0,h.pc)(t,s,e,0,i),this.oN.AN(e)};Ur=async()=>{if(this.oN.pN!==WebSocket.id&&this.fN<1)throw new Error('Socket is not able to read!');if(this.fN<1)return await(0,h.Mr)(1),this.Ur();if(this.cN||(this.cN=this.aN.IN(),this.cN&&(this.ek=0)),!this.cN)return this.Ur();const t=255&this.cN[this.ek];return this.ek++,this.fN--,this.ek===this.cN.Pr&&(this.cN=void 0),t};Mc=async(t,i,s)=>{if(this.oN.pN!==WebSocket.id&&this.fN<1)throw new Error('Socket is not able to read!');if(!(s<1)){if(this.fN<1)return await(0,h.Mr)(1),this.Mc(t,i,s);for(let h=0;h<s;h++)t[i+h]=await this.Ur()}};_r=()=>{this.oN.pN===WebSocket.id&&this.oN._r()};uc=()=>{this.oN.pN===WebSocket.id&&this.oN._r(),this.aN.Pr=0,this.fN=0,this.cN=void 0,this.ek=0};dN=t=>{const i=new Int8Array(t.xc);this.fN+=i.Pr,this.aN.vR(i)};wN=t=>{console.log('connection close!')};yN=t=>{console.log('connection error!')}}},8432:(t,i,s)=>{s.t(i,{s:()=>h});class h{F;Dg(t){t.yN=this.yN,t.wN=this.wN,this.F=t}static Ma=async()=>await new Promise(((t,i)=>{const s=indexedDB.gN('lostcity',1);s._N=i=>{const s=i.HI;console.log('database success!'),t(s.CN)},s.EN=t=>{t.HI.CN.TN('cache')},s.yN=t=>{const s=t.HI;console.Ja('database error!: ',s.Ja),i(s.CN)}}));Lr=async t=>await new Promise((i=>{const s=this.F.vN('cache','readonly').bN('cache').xo(t);s._N=()=>{i(s.CN)},s.yN=t=>{i(void 0)}}));xr=async(t,i)=>await new Promise(((s,h)=>{const e=this.F.vN('cache','readwrite').bN('cache').hT(i,t);e._N=()=>{s()},e.yN=t=>{h()}}));wN=t=>{console.log('database close!')};yN=t=>{console.log('database error!')};ON=t=>{const i=t._d();let s=0;for(let t=0;t<i.Pr&&t<12;t++){const h=i.Lc(t);s*=37,h>='A'&&h<='Z'?s+=h.IR(0)+1-65:h>='a'&&h<='z'?s+=h.IR(0)+1-97:h>='0'&&h<='9'&&(s+=h.IR(0)+27-48)}return s}}},7576:(t,i,s)=>{s.t(i,{s:()=>h});class h{Gw=0;LN=new Int32Array(256);SN=new Int32Array(256);Sa=0;NC=0;PC=0;Dg(t){for(let i=0;i<t.Pr;i++)this.LN[i]=t[i];this.$a()}get Uy(){return 0==this.Gw--&&(this.kN(),this.Gw=255),this.LN[this.Gw]}$a=()=>{let t=2654435769,i=2654435769,s=2654435769,h=2654435769,e=2654435769,n=2654435769,r=2654435769,l=2654435769;for(let o=0;o<4;o++)t^=i<<11,h+=t,i+=s,i^=s>>>2,e+=i,s+=h,s^=h<<8,n+=s,h+=e,h^=e>>>16,r+=h,e+=n,e^=n<<10,l+=e,n+=r,n^=r>>>4,t+=n,r+=l,r^=l<<8,i+=r,l+=t,l^=t>>>9,s+=l,t+=i;for(let o=0;o<256;o+=8)t+=this.LN[o],i+=this.LN[o+1],s+=this.LN[o+2],h+=this.LN[o+3],e+=this.LN[o+4],n+=this.LN[o+5],r+=this.LN[o+6],l+=this.LN[o+7],t^=i<<11,h+=t,i+=s,i^=s>>>2,e+=i,s+=h,s^=h<<8,n+=s,h+=e,h^=e>>>16,r+=h,e+=n,e^=n<<10,l+=e,n+=r,n^=r>>>4,t+=n,r+=l,r^=l<<8,i+=r,l+=t,l^=t>>>9,s+=l,t+=i,this.SN[o]=t,this.SN[o+1]=i,this.SN[o+2]=s,this.SN[o+3]=h,this.SN[o+4]=e,this.SN[o+5]=n,this.SN[o+6]=r,this.SN[o+7]=l;for(let o=0;o<256;o+=8)t+=this.SN[o],i+=this.SN[o+1],s+=this.SN[o+2],h+=this.SN[o+3],e+=this.SN[o+4],n+=this.SN[o+5],r+=this.SN[o+6],l+=this.SN[o+7],t^=i<<11,h+=t,i+=s,i^=s>>>2,e+=i,s+=h,s^=h<<8,n+=s,h+=e,h^=e>>>16,r+=h,e+=n,e^=n<<10,l+=e,n+=r,n^=r>>>4,t+=n,r+=l,r^=l<<8,i+=r,l+=t,l^=t>>>9,s+=l,t+=i,this.SN[o]=t,this.SN[o+1]=i,this.SN[o+2]=s,this.SN[o+3]=h,this.SN[o+4]=e,this.SN[o+5]=n,this.SN[o+6]=r,this.SN[o+7]=l;this.kN(),this.Gw=256};kN=()=>{this.PC++,this.NC+=this.PC;for(let t=0;t<256;t++){const i=this.SN[t],s=3&t;let h;0===s?this.Sa^=this.Sa<<13:1===s?this.Sa^=this.Sa>>>6:2===s?this.Sa^=this.Sa<<2:3===s&&(this.Sa^=this.Sa>>>16),this.Sa+=this.SN[t+128&255],this.SN[t]=h=this.SN[i>>>2&255]+this.Sa+this.NC,this.LN[t]=this.NC=this.SN[h>>>8>>>2&255]+i}}}},2028:(t,i,s)=>{s.t(i,{s:()=>n});var h=s(2383),e=s(5810);class n{static ON=t=>{let i=0;t=t._R();for(let s=0;s<t.Pr;s++)i=61*i+t.IR(s)-32|0;return i};cN;RN;MN;xN;NN;PN;DN;FN=[];Dg(t){t instanceof Uint8Array&&(t=new Int8Array(t));let i=new h.s(new Uint8Array(t));const s=i.OT,n=i.OT;s===n?(this.cN=t,this.RN=!1):(this.cN=e.s.Ur(s,t,n,6),i=new h.s(new Uint8Array(this.cN)),this.RN=!0),this.MN=i.Gy,this.xN=[],this.NN=[],this.PN=[],this.DN=[];let r=i.Nc+10*this.MN;for(let t=0;t<this.MN;t++)this.xN.vR(i.Fr),this.NN.vR(i.OT),this.PN.vR(i.OT),this.DN.vR(r),r+=this.PN[t]}Ur=t=>{const i=n.ON(t),s=this.xN.co(i);return-1===s?null:this.UN(s)};UN=t=>{if(t<0||t>=this.MN)return null;if(this.FN[t])return this.FN[t];const i=this.DN[t],s=i+this.PN[t];if(this.RN){const h=Uint8Array.from(this.cN.BN(i,i+s));return this.FN[t]=h,h}{const i=Uint8Array.from(e.s.Ur(this.NN[t],this.cN,this.PN[t],this.DN[t]));return this.FN[t]=i,i}}}},2383:(t,i,s)=>{s.t(i,{s:()=>r});var h=s(1519),e=s(9080),n=s(6327);class r extends n.s{static GN=3988292384;static HN=new Int32Array(256);static WN=new Uint32Array(33);static ZN=new e.s;static YN=new e.s;static VN=new e.s;static zN=0;static XN=0;static jN=0;static{for(let t=0;t<32;t++)r.WN[t]=(1<<t)-1;r.WN[32]=4294967295;for(let t=0;t<256;t++){let i=t;for(let t=0;t<8;t++)1==(1&i)?i=i>>>1^r.GN:i>>>=1;r.HN[t]=i}}static Sr=t=>{let i=4294967295;for(let s=0;s<t.Pr;s++)i=i>>>8^r.HN[255&(i^t[s])];return~i};xc;Nc;xA=0;Ha=null;Dg(t){if(!t)throw new Error('Input src packet array was null!');super(),t instanceof Int8Array?this.xc=new Uint8Array(t):this.xc=t,this.Nc=0}get Pr(){return this.xc.Pr}get Fy(){return this.xc.Pr-this.Nc}static Z=t=>{let i=null;return 0===t&&r.zN>0?(r.zN--,i=r.ZN.zS()):1===t&&r.XN>0?(r.XN--,i=r.YN.zS()):2===t&&r.jN>0&&(r.jN--,i=r.VN.zS()),i?(i.Nc=0,i):new r(0===t?new Uint8Array(100):1===t?new Uint8Array(5e3):new Uint8Array(3e4))};Jc=()=>{this.Nc=0,100===this.xc.Pr&&r.zN<1e3?(r.ZN.fg(this),r.zN++):5e3===this.xc.Pr&&r.XN<250?(r.YN.fg(this),r.XN++):3e4===this.xc.Pr&&r.jN<50&&(r.VN.fg(this),r.jN++)};get Yy(){return this.xc[this.Nc++]}get Wy(){return this.xc[this.Nc++]<<24>>24}get Gy(){return this.xc[this.Nc++]<<8|this.xc[this.Nc++]}get Vm(){let t=this.xc[this.Nc++]<<8|this.xc[this.Nc++];return t>32767&&(t-=65536),t}get OT(){return this.xc[this.Nc++]<<16|this.xc[this.Nc++]<<8|this.xc[this.Nc++]}get Fr(){return this.xc[this.Nc++]<<24|this.xc[this.Nc++]<<16|this.xc[this.Nc++]<<8|this.xc[this.Nc++]}get Pc(){return(0xffffffffn&BigInt(this.Fr))<<32n|0xffffffffn&BigInt(this.Fr)}get ox(){return this.xc[this.Nc]<128?this.Yy-64:this.Gy-49152}get HO(){return this.xc[this.Nc]<128?this.Yy:this.Gy-32768}get sm(){let t='';for(;10!==this.xc[this.Nc]&&this.Nc<this.xc.Pr;)t+=String.fromCharCode(this.xc[this.Nc++]);return this.Nc++,t}Em=(t,i,s)=>{for(let h=i;h<i+t;h++)s[h]=this.xc[this.Nc++]};qc=t=>{this.xc[this.Nc++]=t+(this.Ha?.Uy??0)&255};Dc=t=>{this.xc[this.Nc++]=t};Kc=t=>{this.xc[this.Nc++]=t>>>8,this.xc[this.Nc++]=t};qN=t=>{this.xc[this.Nc++]=t,this.xc[this.Nc++]=t>>>8};df=t=>{this.xc[this.Nc++]=t>>>16,this.xc[this.Nc++]=t>>>8,this.xc[this.Nc++]=t};Fc=t=>{this.xc[this.Nc++]=t>>>24,this.xc[this.Nc++]=t>>>16,this.xc[this.Nc++]=t>>>8,this.xc[this.Nc++]=t};$N=t=>{this.xc[this.Nc++]=t,this.xc[this.Nc++]=t>>>8,this.xc[this.Nc++]=t>>>16,this.xc[this.Nc++]=t>>>24};qw=t=>{this.Fc(Number(t>>32n)),this.Fc(Number(0xffffffffn&t))};Uc=t=>{for(let i=0;i<t.Pr;i++)this.xc[this.Nc++]=t.IR(i);this.xc[this.Nc++]=10};Gc=(t,i,s)=>{for(let h=s;h<s+i;h++)this.xc[this.Nc++]=t[h]};Yf=t=>{this.xc[this.Nc-t-1]=t};SA=()=>{this.xA=8*this.Nc};NA=()=>{this.Nc=(this.xA+7)/8|0};kA=t=>{let i=this.xA>>>3,s=8-(7&this.xA),h=0;for(this.xA+=t;t>s;s=8)h+=(this.xc[i++]&r.WN[s])<<t-s,t-=s;return h+=t===s?this.xc[i]&r.WN[s]:this.xc[i]>>>s-t&r.WN[t],h};Bc=(t,i)=>{const s=new Uint8Array(this.Nc);(0,h.pc)(this.xc,0,s,0,this.Nc);const e=(0,h.KN)(s),n=(0,h.JN)(e,i,t),r=(0,h.QN)(n);this.Nc=0,this.Dc(r.Pr),this.Gc(r,r.Pr,0)}}},741:(t,i,s)=>{s.t(i,{s:()=>h});class h{static tP=[95,218,67,50,253,222,194,60,101,128,8,251,92,111,24,33,223,66,232,59,227,113,153,105,126,98,167,102,177,238,62,190,147,23,150,151,156,144,193,155,81,0,198,22,137,210,179,16,168,170,32,181,248,141,58,87,208,106,180,191,221,241,40,176,196,154,65,145,230,78,30,161,188,41,14,129,18,199,47,247,225,34,51,10,159,75,12,56,61,31,39,91,46,242,134,5,122,123,209,228,104,195,21,3,11,44,107,172,6,186,110,215,205,103,27,185,124,77,252,117,86,115,127,207,52,79,43,97,219,116,169,7,118,162,108,36,20,233,88,135,80,19,42,237,57,152,71,9,250,17,4,119,234,130,26,200,189,163,254,245,197,171,220,235,140,244,184,94,211,231,99,246,121,212,112,204,63,148,83,178,1,255,131,13,183,142,236,45,55,35,243,136,37,85,100,160,38,224,146,174,82,48,109,132,125,90,143,138,240,173,165,164,192,175,29,74,28,114,213,73,64,206,76,139,96,2,229,15,93,25,239,202,49,70,214,201,72,203,68,89,69,157,216,217,249,120,226,84,149,187,54,53,158,166,182,133,0];static By=[0,-2,4,6,-1,0,0,2,0,0,0,0,5,4,2,2,0,0,0,0,2,-2,2,14,0,6,3,0,4,0,0,0,3,0,0,0,0,0,0,0,0,-1,4,2,6,0,6,0,0,3,7,0,0,0,-1,0,0,0,0,4,0,0,0,0,0,0,0,0,1,15,0,0,0,0,6,0,2,0,0,0,2,0,0,0,1,0,0,4,0,0,0,0,0,0,0,0,0,0,-2,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-2,0,0,2,0,0,0,2,9,0,0,0,0,0,4,0,0,0,3,7,9,0,0,0,0,0,0,0,0,0,-2,0,0,0,0,3,2,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,-2,2,0,0,0,0,0,6,0,0,0,2,0,2,0,0,0,-2,0,0,4,0,0,0,0,6,0,0,-2,-2,0,0,0,0,0,0,-2,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0]}},9782:(t,i,s)=>{var h;s.t(i,{s:()=>e}),function(t){t[t.Zm=14]="IF_OPENCHATMODAL",t[t.Am=28]="IF_OPENMAINSIDEMODAL",t[t.Ap=129]="IF_CLOSE",t[t._m=167]="IF_OPENSIDEOVERLAY",t[t.fp=168]="IF_OPENMAINMODAL",t[t.Hm=195]="IF_OPENSIDEMODAL",t[t.up=2]="IF_SETCOLOUR",t[t.yp=26]="IF_SETHIDE",t[t.lp=46]="IF_SETOBJECT",t[t.ep=84]="IF_SHOWSIDE",t[t.tp=87]="IF_SETMODEL",t[t.Bm=103]="IF_SETRECOL",t[t.gm=146]="IF_SETANIM",t[t.Jy=197]="IF_SETPLAYERHEAD",t[t.Ip=201]="IF_SETTEXT",t[t.Fm=204]="IF_SETNPCHEAD",t[t.Ym=209]="IF_SETPOSITION",t[t.Mm=126]="TUTORIAL_FLASHSIDE",t[t.ip=185]="TUTORIAL_OPENCHAT",t[t.km=15]="UPDATE_INV_STOP_TRANSMIT",t[t.vm=98]="UPDATE_INV_FULL",t[t.Tp=213]="UPDATE_INV_PARTIAL",t[t.zm=3]="CAM_LOOKAT",t[t.Ep=13]="CAM_SHAKE",t[t.hp=74]="CAM_MOVETO",t[t.pp=239]="CAM_RESET",t[t.Xy=1]="NPC_INFO",t[t.bp=184]="PLAYER_INFO",t[t.Tm=133]="FINISH_TRACKING",t[t.Om=226]="ENABLE_TRACKING",t[t.np=4]="MESSAGE_GAME",t[t.mp=21]="UPDATE_IGNORELIST",t[t.Gm=32]="CHAT_FILTER_SETTINGS",t[t.iy=41]="MESSAGE_PRIVATE",t[t.Zy=152]="UPDATE_FRIENDLIST",t[t.nm=19]="UNSET_MAP_FLAG",t[t.Cp=22]="UPDATE_RUNWEIGHT",t[t.tm=25]="HINT_ARROW",t[t.Vy=43]="UPDATE_REBOOT_TIMER",t[t.gp=44]="UPDATE_STAT",t[t.sp=68]="UPDATE_RUNENERGY",t[t.dp=136]="RESET_ANIMS",t[t.rm=139]="UPDATE_UID192",t[t.Rm=140]="LAST_LOGIN_INFO",t[t.hm=142]="LOGOUT",t[t.Sm=243]="P_COUNTDIALOG",t[t.Nm=254]="SET_MULTIWAY",t[t.em=20]="DATA_LOC_DONE",t[t.zy=80]="DATA_LAND_DONE",t[t.Jm=132]="DATA_LAND",t[t.Cm=220]="DATA_LOC",t[t.qy=237]="REBUILD_NORMAL",t[t.Hy=150]="VARP_SMALL",t[t.Im=175]="VARP_LARGE",t[t.Qm=193]="RESET_CLIENT_VARCACHE",t[t.Pm=12]="SYNTH_SOUND",t[t.im=54]="MIDI_SONG",t[t.xm=212]="MIDI_JINGLE",t[t.Um=7]="UPDATE_ZONE_PARTIAL_FOLLOWS",t[t.Xm=135]="UPDATE_ZONE_FULL_FOLLOWS",t[t._p=162]="UPDATE_ZONE_PARTIAL_ENCLOSED",t[t.om=23]="LOC_MERGE",t[t.wm=42]="LOC_ANIM",t[t.um=49]="OBJ_DEL",t[t.am=50]="OBJ_REVEAL",t[t.mm=59]="LOC_ADD_CHANGE",t[t.fm=69]="MAP_PROJANIM",t[t.ym=76]="LOC_DEL",t[t.lm=151]="OBJ_COUNT",t[t.cm=191]="MAP_ANIM",t[t.dm=223]="OBJ_ADD"}(h||(h={}));const e=h},6970:(t,i,s)=>{s.t(i,{s:()=>l});class h{Qg=0;iP=0;sP=0;Pr=0;hP=null;eP=null;nP=0;rP=0;lP=0;oP=0;aP=0;Ur=t=>{this.sP=t.Yy,this.Qg=t.Fr,this.iP=t.Fr,this.Pr=t.Yy,this.hP=new Int32Array(this.Pr),this.eP=new Int32Array(this.Pr);for(let i=0;i<this.Pr;i++)this.hP[i]=t.Gy,this.eP[i]=t.Gy};Dy=()=>{this.nP=0,this.rP=0,this.lP=0,this.oP=0,this.aP=0};cP=t=>(this.aP>=this.nP&&this.eP&&this.hP&&(this.oP=this.eP[this.rP++]<<15,this.rP>=this.Pr&&(this.rP=this.Pr-1),this.nP=this.hP[this.rP]/65536*t|0,this.nP>this.aP&&(this.lP=((this.eP[this.rP]<<15)-this.oP)/(this.nP-this.aP)|0)),this.oP+=this.lP,this.aP++,this.oP-this.lP>>15)}class e{static cN=null;static pO=null;static Eo=null;static fP=new Int32Array(5);static uP=new Int32Array(5);static dP=new Int32Array(5);static wP=new Int32Array(5);static yP=new Int32Array(5);mP=null;pP=null;AP=null;IP=null;gP=null;_P=null;Jc=null;CP=null;EP=new Int32Array(5);TP=new Int32Array(5);bP=new Int32Array(5);Qg=0;Pr=500;vP=100;OP=0;static $a=()=>{this.pO=new Int32Array(32768);for(let t=0;t<32768;t++)Math.Ha()>.5?this.pO[t]=1:this.pO[t]=-1;this.Eo=new Int32Array(32768);for(let t=0;t<32768;t++)this.Eo[t]=16384*Math.Eo(t/5215.1903)|0;this.cN=new Int32Array(220500)};zc=(t,i)=>{for(let i=0;i<t;i++)e.cN[i]=0;if(i<10)return e.cN;const s=t/i|0;this.mP?.Dy(),this.pP?.Dy();let h=0,n=0,r=0;this.AP&&this.IP&&(this.AP.Dy(),this.IP.Dy(),h=32.768*(this.AP.iP-this.AP.Qg)/s|0,n=32.768*this.AP.Qg/s|0);let l=0,o=0,a=0;this.gP&&this._P&&(this.gP.Dy(),this._P.Dy(),l=32.768*(this.gP.iP-this.gP.Qg)/s|0,o=32.768*this.gP.Qg/s|0);for(let t=0;t<5;t++)this.mP&&0!==this.EP[t]&&(e.fP[t]=0,e.uP[t]=this.bP[t]*s,e.dP[t]=(this.EP[t]<<14)/100|0,e.wP[t]=32.768*(this.mP.iP-this.mP.Qg)*Math.pow(1.0057929410678534,this.TP[t])/s|0,e.yP[t]=32.768*this.mP.Qg/s|0);if(this.mP&&this.pP)for(let i=0;i<t;i++){let s=this.mP.cP(t),c=this.pP.cP(t);if(this.AP&&this.IP){const i=this.AP.cP(t),e=this.IP.cP(t);s+=this.LP(e,r,this.AP.sP)>>1,r+=(i*h>>16)+n}if(this.gP&&this._P){const i=this.gP.cP(t),s=this._P.cP(t);c=c*(32768+(this.LP(s,a,this.gP.sP)>>1))>>15,a+=(i*l>>16)+o}for(let h=0;h<5;h++)if(0!==this.EP[h]){const n=i+e.uP[h];n<t&&(e.cN[n]+=this.LP(c*e.dP[h]>>15,e.fP[h],this.mP.sP),e.fP[h]+=(s*e.wP[h]>>16)+e.yP[h])}}if(this.Jc&&this.CP){this.Jc.Dy(),this.CP.Dy();let i=0,s=!0;for(let h=0;h<t;h++){const n=this.Jc.cP(t),r=this.CP.cP(t);let l;l=s?this.Jc.Qg+((this.Jc.iP-this.Jc.Qg)*n>>8):this.Jc.Qg+((this.Jc.iP-this.Jc.Qg)*r>>8),i+=256,i>=l&&(i=0,s=!s),s&&(e.cN[h]=0)}}if(this.OP>0&&this.vP>0){const i=this.OP*s;for(let s=i;s<t;s++)e.cN[s]+=e.cN[s-i]*this.vP/100|0,e.cN[s]|=0}for(let i=0;i<t;i++)e.cN[i]<-32768&&(e.cN[i]=-32768),e.cN[i]>32767&&(e.cN[i]=32767);return e.cN};LP=(t,i,s)=>1===s?(32767&i)<16384?t:-t:2===s?e.Eo[32767&i]*t>>14:3===s?((32767&i)*t>>14)-t:4===s?e.pO[32767&(i/2607|0)]*t:0;Ur=t=>{this.mP=new h,this.mP.Ur(t),this.pP=new h,this.pP.Ur(t),0!==t.Yy&&(t.Nc--,this.AP=new h,this.AP.Ur(t),this.IP=new h,this.IP.Ur(t)),0!==t.Yy&&(t.Nc--,this.gP=new h,this.gP.Ur(t),this._P=new h,this._P.Ur(t)),0!==t.Yy&&(t.Nc--,this.Jc=new h,this.Jc.Ur(t),this.CP=new h,this.CP.Ur(t));for(let i=0;i<10;i++){const s=t.HO;if(0===s)break;this.EP[i]=s,this.TP[i]=t.ox,this.bP[i]=t.HO}this.OP=t.HO,this.vP=t.HO,this.Pr=t.Gy,this.Qg=t.Gy}}var n=s(2383),r=s(9345);class l{static Dm=new Int32Array(1e3);static SP=null;static kP=null;static RP=new r.Ii(1e3,null);MP=new r.Ii(10,null);xP=0;NP=0;static za=t=>{const i=new n.s(t.Ur('sounds.dat'));for(this.SP=new Uint8Array(441e3),this.kP=new n.s(this.SP),e.$a();;){const t=i.Gy;if(65535===t)break;const s=new l;s.Ur(i),this.RP[t]=s,this.Dm[t]=s._d()}};static zc=(t,i)=>{if(!this.RP[t])return null;const s=this.RP[t];return s?.PP(i)??null};Ur=t=>{for(let i=0;i<10;i++)0!==t.Yy&&(t.Nc--,this.MP[i]=new e,this.MP[i]?.Ur(t));this.xP=t.Gy,this.NP=t.Gy};_d=()=>{let t=9999999;for(let i=0;i<10;i++)this.MP[i]&&(this.MP[i].Qg/20|0)<t&&(t=this.MP[i].Qg/20|0);if(this.xP<this.NP&&(this.xP/20|0)<t&&(t=this.xP/20|0),9999999===t||0===t)return 0;for(let i=0;i<10;i++)this.MP[i]&&(this.MP[i].Qg-=20*t);return this.xP<this.NP&&(this.xP-=20*t,this.NP-=20*t),t};PP=t=>{const i=this.zc(t);return l.kP.Nc=0,l.kP?.Fc(1380533830),l.kP?.$N(i+36),l.kP?.Fc(1463899717),l.kP?.Fc(1718449184),l.kP?.$N(16),l.kP?.qN(1),l.kP?.qN(1),l.kP?.$N(22050),l.kP?.$N(22050),l.kP?.qN(1),l.kP?.qN(8),l.kP?.Fc(1684108385),l.kP?.$N(i),l.kP.Nc+=i,l.kP};zc=t=>{let i=0;for(let t=0;t<10;t++)this.MP[t]&&this.MP[t].Pr+this.MP[t].Qg>i&&(i=this.MP[t].Pr+this.MP[t].Qg);if(0===i)return 0;let s=22050*i/1e3|0,h=22050*this.xP/1e3|0,e=22050*this.NP/1e3|0;(h<0||e<0||e>s||h>=e)&&(t=0);let n=s+(e-h)*(t-1);for(let t=44;t<n+44;t++)l.SP&&(l.SP[t]=-128);for(let t=0;t<10;t++)if(this.MP[t]){const i=22050*this.MP[t].Pr/1e3|0,s=22050*this.MP[t].Qg/1e3|0,h=this.MP[t].zc(i,this.MP[t].Pr);for(let t=0;t<i;t++)l.SP&&(l.SP[t+s+44]+=h[t]>>8<<24>>24)}if(t>1){h+=44,e+=44,s+=44,n+=44;const i=n-s;for(let t=s-1;t>=e;t--)l.SP&&(l.SP[t+i]=l.SP[t]);for(let i=1;i<t;i++){const t=(e-h)*i;for(let i=h;i<e;i++)l.SP&&(l.SP[i+t]=l.SP[i])}n-=44}return n}}},9345:(t,i,s)=>{s.t(i,{Fa:()=>a,qO:()=>e,En:()=>n,Xe:()=>o,VO:()=>r,Ii:()=>h,Da:()=>l});class h extends Array{Dg(t,i){super(t);for(let s=0;s<t;s++)this[s]=i}}class e extends Array{Dg(t,i,s){super(t);for(let h=0;h<t;h++){this[h]=new Array(i);for(let t=0;t<i;t++)this[h][t]=s}}}class n extends Array{Dg(t,i,s,h){super(t);for(let e=0;e<t;e++){this[e]=new Array(i);for(let t=0;t<i;t++){this[e][t]=new Array(s);for(let i=0;i<s;i++)this[e][t][i]=h}}}}class r extends Array{Dg(t,i,s,h,e){super(t);for(let n=0;n<t;n++){this[n]=new Array(i);for(let t=0;t<i;t++){this[n][t]=new Array(s);for(let i=0;i<s;i++){this[n][t][i]=new Array(h);for(let s=0;s<h;s++)this[n][t][i][s]=e}}}}}class l extends Array{Dg(t,i,s){super(t);for(let h=0;h<t;h++){this[h]=new Array(i);for(let t=0;t<i;t++)this[h][t]=new Uint8Array(s)}}}class o extends Array{Dg(t,i){super(t);for(let s=0;s<t;s++)this[s]=new Int32Array(i)}}class a extends Array{Dg(t,i,s){super(t);for(let h=0;h<t;h++){this[h]=new Array(i);for(let t=0;t<i;t++)this[h][t]=new Int32Array(s)}}}},1519:(t,i,s)=>{s.t(i,{Oa:()=>n,Rr:()=>e,Mr:()=>h,pc:()=>r,QN:()=>o,KN:()=>l,JN:()=>a});const h=async t=>new Promise((i=>setTimeout(i,t))),e=async t=>new Int8Array(await(await fetch(t)).Ra()),n=async t=>(await fetch(t)).eo(),r=(t,i,s,h,e)=>{for(;e--;)s[h++]=t[i++]},l=t=>{let i=0n;for(let s=0;s<t.Pr;s++)i=(i<<8n)+BigInt(t[s]);return i},o=t=>{const i=[];for(;t>0n;)i.DP(Number(255n&t)),t>>=8n;return new Uint8Array(i)},a=(t,i,s)=>{let h=1n;for(;i>0n;)i%2n===1n&&(h=h*t%s),t=t*t%s,i>>=1n;return h}},9897:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(2383);class e{static FP=new Uint16Array(['d','o','t'].gR('').eN('').UP((t=>t.IR(0))));static BP=new Uint16Array(['(','a',')'].gR('').eN('').UP((t=>t.IR(0))));static GP=new Uint16Array(['s','l','a','s','h'].gR('').eN('').UP((t=>t.IR(0))));static HP=['cook',"cook's",'cooks','seeks','sheet'];static WP=[];static ZP=[];static YP=[];static VP=[];static zP=[];static XP=[];static za=t=>{const i=new h.s(t.Ur('fragmentsenc.txt')),s=new h.s(t.Ur('badenc.txt')),e=new h.s(t.Ur('domainenc.txt')),n=new h.s(t.Ur('tldlist.txt'));this.Ur(s,e,i,n)};static ey=t=>{const i=[...t];this.jP(i);const s=i.gR('')._d(),h=s.Cd(),e=[...h];this.qP(e),this.$P(e),this.KP(e),this.JP(e);for(let t=0;t<this.HP.Pr;t++){let i=-1;for(;-1!==(i=h.co(this.HP[t],i+1));){const s=[...this.HP[t]];for(let t=0;t<s.Pr;t++)e[t+i]=s[t]}}return this.QP(e,[...s]),this.tD(e),e.gR('')._d()};static Ur=(t,i,s,h)=>{this.iD(t),this.sD(i),this.hD(s),this.eD(h)};static eD=t=>{const i=t.Fr;for(let s=0;s<i;s++)this.ZP[s]=t.Yy,this.WP[s]=new Uint16Array(t.Yy).UP((()=>t.Yy))};static iD=t=>{const i=t.Fr;for(let s=0;s<i;s++){this.YP[s]=new Uint16Array(t.Yy).UP((()=>t.Yy));const i=new Array(t.Yy).io([]).UP((()=>[t.Wy,t.Wy]));i.Pr>0&&(this.VP[s]=i)}};static sD=t=>{const i=t.Fr;for(let s=0;s<i;s++)this.zP[s]=new Uint16Array(t.Yy).UP((()=>t.Yy))};static hD=t=>{const i=t.Fr;for(let s=0;s<i;s++)this.XP[s]=t.Gy};static qP=t=>{const i=[...t],s=[...t];this.nD(null,i,this.FP),this.nD(null,s,this.GP);for(let h=0;h<this.WP.Pr;h++)this.rD(s,this.ZP[h],t,this.WP[h],i)};static $P=t=>{for(let i=0;i<2;i++)for(let i=this.YP.Pr-1;i>=0;i--)this.nD(this.VP[i],t,this.YP[i])};static KP=t=>{const i=[...t],s=[...t];this.nD(null,i,this.BP),this.nD(null,s,this.FP);for(let h=this.zP.Pr-1;h>=0;h--)this.lD(s,i,this.zP[h],t)};static JP=t=>{for(let i=0;i<t.Pr;){const s=this.oD(t,i);if(-1===s)return;let h=!1;for(let e=i;e>=0&&e<s&&!h;e++)this.aD(t[e])||this.cD(t[e])||(h=!0);let e=0;h&&(e=0),0===e&&(e=1,i=s);let n=0;for(let h=s;h<t.Pr&&h<i;h++)n=10*n+t[h].IR(0)-48;n<=255&&i-s<=8?e++:e=0,4===e&&(this.fD(s,i,t),e=0),i=this.uD(i,t)}};static dD=t=>{if(this.wD(t))return!0;const i=this.yD(t),s=this.XP,h=s.Pr;if(i===s[0]||i===s[h-1])return!0;let e=0,n=h-1;for(;e<=n;){const t=Math.floor((e+n)/2);if(i===s[t])return!0;i<s[t]?n=t-1:e=t+1}return!1};static yD=t=>{if(t.Pr>6)return 0;let i=0;for(let s=0;s<t.Pr;s++){const h=t[t.Pr-s-1];if(this.mD(h))i=38*i+h.IR(0)+1-'a'.IR(0);else if("'"===h)i=38*i+27;else if(this.pD(h))i=38*i+h.IR(0)+28-'0'.IR(0);else if('\0'!==h)return 0}return i};static oD=(t,i)=>{for(let s=i;s<t.Pr&&s>=0;s++)if(this.pD(t[s]))return s;return-1};static uD=(t,i)=>{for(let s=t;s<i.Pr&&s>=0;s++)if(!this.pD(i[s]))return s;return i.Pr};static AD=(t,i,s)=>i===s||'o'===i&&'0'===s?1:'o'===i&&'('===s&&')'===t?2:'c'!==i||'('!==s&&'<'!==s&&'['!==s?'e'===i&&'€'===s||'s'===i&&'$'===s||'l'===i&&'i'===s?1:0:1;static lD=(t,i,s,h)=>{const e=s.Pr,n=h.Pr;for(let r=0;r<=n-e;r++){const{ID:e,gD:n}=this._D(r,s,h);if(!e)continue;const l=this.CD(r,h,3,i,['@']),o=this.ED(n-1,h,3,t,['.',',']);(l>2||o>2)&&this.fD(r,n,h)}};static _D=(t,i,s)=>{const h=i.Pr;let e=t,n=0;for(;e<s.Pr&&n<h;){const r=s[e],l=e+1<s.Pr?s[e+1]:'\0',o=this.AD(l,String.fromCharCode(i[n]),r);if(o>0)e+=o,n++;else{if(0===n)break;const s=this.AD(l,String.fromCharCode(i[n-1]),r);if(s>0)e+=s,1===n&&t++;else{if(n>=h||!this.aD(r))break;e++}}}return{ID:n>=h,gD:e}};static nD=(t,i,s)=>{if(!(s.Pr>i.Pr))for(let h=0;h<=i.Pr-s.Pr;h++){let e=h;const{gD:n,TD:r,bD:l,vD:o,OD:a}=this.LD(i,s,e);e=n;let c=i[e],f=e+1<i.Pr?i[e+1]:'\0';if(!(r>=s.Pr)||o&&a)continue;let u,d=!0;if(l){let t=!1,s=!1;if((h-1<0||this.aD(i[h-1])&&"'"!==i[h-1])&&(t=!0),(e>=i.Pr||this.aD(i[e])&&"'"!==i[e])&&(s=!0),!t||!s){let s=!1;for(u=h-2,t&&(u=h);!s&&u<e;){if(u>=0&&(!this.aD(i[u])||"'"===i[u])){const t=[];let h;for(h=0;h<3&&u+h<i.Pr&&(!this.aD(i[u+h])||"'"===i[u+h]);h++)t[h]=i[u+h];let e=!0;0===h&&(e=!1),h<3&&u-1>=0&&(!this.aD(i[u-1])||"'"===i[u-1])&&(e=!1),e&&!this.dD(t)&&(s=!0)}u++}s||(d=!1)}}else{c=' ',h-1>=0&&(c=i[h-1]),f=' ',e<i.Pr&&(f=i[e]);const s=this.SD(c),n=this.SD(f);t&&this.kD(s,t,n)&&(d=!1)}if(!d)continue;let w=0,y=0;for(let t=h;t<e;t++)this.pD(i[t])?w++:this.RD(i[t])&&y++;w<=y&&this.fD(h,e,i)}};static LD=(t,i,s)=>{let h=s,e=0,n=0,r=!1,l=!1,o=!1;for(;h<t.Pr&&(!l||!o)&&!(h>=t.Pr||l&&o);){const a=t[h],c=h+1<t.Pr?t[h+1]:'\0';let f;if(e<i.Pr&&(f=this.MD(c,String.fromCharCode(i[e]),a))>0)1===f&&this.pD(a)&&(l=!0),2===f&&(this.pD(a)||this.pD(c))&&(l=!0),h+=f,e++;else{if(0===e)break;let t;if((t=this.MD(c,String.fromCharCode(i[e-1]),a))>0)h+=t;else{if(e>=i.Pr||!this.cD(a))break;if(this.aD(a)&&"'"!==a&&(r=!0),this.pD(a)&&(o=!0),h++,n++,100*n/(h-s)>90)break}}}return{gD:h,TD:e,bD:r,vD:l,OD:o}};static MD=(t,i,s)=>{if(i===s)return 1;if(i>='a'&&i<='m'){if('a'===i)return'4'!==s&&'@'!==s&&'^'!==s?'/'===s&&'\\'===t?2:0:1;if('b'===i)return'6'!==s&&'8'!==s?'1'===s&&'3'===t?2:0:1;if('c'===i)return'('!==s&&'<'!==s&&'{'!==s&&'['!==s?0:1;if('d'===i)return'['===s&&')'===t?2:0;if('e'===i)return'3'!==s&&'€'!==s?0:1;if('f'===i)return'p'===s&&'h'===t?2:'£'===s?1:0;if('g'===i)return'9'!==s&&'6'!==s?0:1;if('h'===i)return'#'===s?1:0;if('i'===i)return'y'!==s&&'l'!==s&&'j'!==s&&'1'!==s&&'!'!==s&&':'!==s&&';'!==s&&'|'!==s?0:1;if('j'===i)return 0;if('k'===i)return 0;if('l'===i)return'1'!==s&&'|'!==s&&'i'!==s?0:1;if('m'===i)return 0}if(i>='n'&&i<='z'){if('n'===i)return 0;if('o'===i)return'0'!==s&&'*'!==s?'('===s&&')'===t||'['===s&&']'===t||'{'===s&&'}'===t||'<'===s&&'>'===t?2:0:1;if('p'===i)return 0;if('q'===i)return 0;if('r'===i)return 0;if('s'===i)return'5'!==s&&'z'!==s&&'$'!==s&&'2'!==s?0:1;if('t'===i)return'7'!==s&&'+'!==s?0:1;if('u'===i)return'v'===s?1:'\\'===s&&'/'===t||'\\'===s&&'|'===t||'|'===s&&'/'===t?2:0;if('v'===i)return'\\'===s&&'/'===t||'\\'===s&&'|'===t||'|'===s&&'/'===t?2:0;if('w'===i)return'v'===s&&'v'===t?2:0;if('x'===i)return')'===s&&'('===t||'}'===s&&'{'===t||']'===s&&'['===t||'>'===s&&'<'===t?2:0;if('y'===i)return 0;if('z'===i)return 0}return i>='0'&&i<='9'?'0'===i?'o'===s||'O'===s?1:'('===s&&')'===t||'{'===s&&'}'===t||'['===s&&']'===t?2:0:'1'===i&&'l'===s?1:0:','===i?'.'===s?1:0:'.'===i?','===s?1:0:'!'===i&&'i'===s?1:0};static kD=(t,i,s)=>{let h=0,e=i.Pr-1;for(;h<=e;){const n=Math.floor((h+e)/2);if(i[n][0]===t&&i[n][1]===s)return!0;t<i[n][0]||t===i[n][0]&&s<i[n][1]?e=n-1:h=n+1}return!1};static SD=t=>this.mD(t)?t.IR(0)+1-'a'.IR(0):"'"===t?28:this.pD(t)?t.IR(0)+29-'0'.IR(0):27;static rD=(t,i,s,h,e)=>{if(!(h.Pr>s.Pr))for(let n=0;n<=s.Pr-h.Pr;n++){const{gD:r,xD:l}=this.ND(s,h,n);if(l<h.Pr)continue;let o=!1;const a=this.CD(n,s,3,e,[',','.']),c=this.ED(r-1,s,5,t,['\\','/']);if(1===i&&a>0&&c>0&&(o=!0),2===i&&(a>2&&c>0||a>0&&c>2)&&(o=!0),3===i&&a>0&&c>2&&(o=!0),!o)continue;let f,u=n,d=r-1,w=!1;if(a>2){if(4===a)for(w=!1,f=n-1;f>=0;f--)if(w){if('*'!==e[f])break;u=f}else'*'===e[f]&&(u=f,w=!0);for(w=!1,f=u-1;f>=0;f--)if(w){if(this.aD(s[f]))break;u=f}else this.aD(s[f])||(w=!0,u=f)}if(c>2){if(4===c)for(w=!1,f=d+1;f<s.Pr;f++)if(w){if('*'!==t[f])break;d=f}else'*'===t[f]&&(d=f,w=!0);for(w=!1,f=d+1;f<s.Pr;f++)if(w){if(this.aD(s[f]))break;d=f}else this.aD(s[f])||(w=!0,d=f)}this.fD(u,d+1,s)}};static ND=(t,i,s)=>{let h=0;for(;s<t.Pr&&h<i.Pr;){const e=t[s],n=s+1<t.Pr?t[s+1]:'\0';let r;if((r=this.AD(n,String.fromCharCode(i[h]),e))>0)s+=r,h++;else{if(0===h)break;let t;if((t=this.AD(n,String.fromCharCode(i[h-1]),e))>0)s+=t;else{if(!this.aD(e))break;s++}}}return{gD:s,xD:h}};static aD=t=>!this.RD(t)&&!this.pD(t);static cD=t=>!this.mD(t)||('v'===t||'x'===t||'j'===t||'q'===t||'z'===t);static RD=t=>this.mD(t)||this.PD(t);static pD=t=>t>='0'&&t<='9';static mD=t=>t>='a'&&t<='z';static PD=t=>t>='A'&&t<='Z';static wD=t=>{for(let i=0;i<t.Pr;i++)if(!this.pD(t[i])&&'\0'!==t[i])return!1;return!0};static fD=(t,i,s)=>{for(let h=t;h<i;h++)s[h]='*'};static DD=(t,i)=>{let s=0;for(let h=i-1;h>=0&&this.aD(t[h]);h--)'*'===t[h]&&s++;return s};static FD=(t,i)=>{let s=0;for(let h=i+1;h<t.Pr&&this.aD(t[h]);h++)'*'===t[h]&&s++;return s};static UD=(t,i,s,h,e)=>(e?this.DD(i,s):this.FD(i,s))>=h?4:this.aD(e?t[s-1]:t[s+1])?1:0;static CD=(t,i,s,h,e)=>{if(0===t)return 2;for(let s=t-1;s>=0&&this.aD(i[s]);s--)if(e.h_(i[s]))return 3;return this.UD(i,h,t,s,!0)};static ED=(t,i,s,h,e)=>{if(t+1===i.Pr)return 2;for(let s=t+1;s<i.Pr&&this.aD(i[s]);s++)if(e.h_(i[s]))return 3;return this.UD(i,h,t,s,!1)};static jP=t=>{let i=0;for(let s=0;s<t.Pr;s++)this.BD(t[s])?t[i]=t[s]:t[i]=' ',0!==i&&' '===t[i]&&' '===t[i-1]||i++;for(let s=i;s<t.Pr;s++)t[s]=' '};static BD=t=>t>=' '&&t<=''||' '===t||'\n'===t||'\t'===t||'£'===t||'€'===t;static QP=(t,i)=>{for(let s=0;s<i.Pr;s++)'*'!==t[s]&&this.PD(i[s])&&(t[s]=i[s])};static tD=t=>{let i=!0;for(let s=0;s<t.Pr;s++){const h=t[s];this.RD(h)?i?this.mD(h)&&(i=!1):this.PD(h)&&(t[s]=String.fromCharCode(h.IR(0)+'a'.IR(0)-65)):i=!0}}}},6054:(t,i,s)=>{s.t(i,{s:()=>h});class h{static GD=[' ','e','t','a','o','i','h','n','s','r','d','l','u','m','w','c','y','f','g','p','b','v','k','x','j','q','z','0','1','2','3','4','5','6','7','8','9',' ','!','?','.',',',':',';','(',')','-','&','*','\\','\'','@','#','+','=','£','$','%','"','[',']'];static HD=[];static za=(t,i)=>{let s,h=0,e=-1;for(let n=0;n<i&&h<100;n++){const i=t.Yy;s=i>>4&15,-1!==e?(this.HD[h++]=this.GD[(e<<4)+s-195],e=-1):s<13?this.HD[h++]=this.GD[s]:e=s,s=15&i,-1!==e?(this.HD[h++]=this.GD[(e<<4)+s-195],e=-1):s<13?this.HD[h++]=this.GD[s]:e=s}let n=!0;for(let t=0;t<h;t++){const i=this.HD[t];n&&i>='a'&&i<='z'&&(this.HD[t]=i._R(),n=!1),'.'!==i&&'!'!==i||(n=!0)}return this.HD.Dr(0,h).gR('')};static sy=(t,i)=>{i.Pr>80&&(i=i.fo(0,80)),i=i.Cd();let s=-1;for(let h=0;h<i.Pr;h++){const e=i.Lc(h);let n=0;for(let t=0;t<this.GD.Pr;t++)if(e===this.GD[t]){n=t;break}n>12&&(n+=195),-1===s?n<13?s=n:t.Dc(n):n<13?(t.Dc((s<<4)+n),s=-1):(t.Dc((s<<4)+(n>>4)),s=15&n)}-1!==s&&t.Dc(s<<4)}}},5810:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(937);class e{static WD=null;static bg=null;static ka=async t=>{const i=new WebAssembly.Module(t),s=await(0,h.hC)(i,{ZD:void 0});this.WD=s,this.bg=s.YD()};static Ur=(t,i,s,h)=>{if(!this.WD||!this.bg)throw new Error('bz2 not found!!');return this.WD.Ur(t,i,s,h,this.bg)}}},3584:(t,i,s)=>{let h;async function e(t,i){n(i);try{const i=await window.audioContext.decodeAudioData(Uint8Array.from(t).cN);let s=window.audioContext.createBufferSource();s.cN=i,s.VD(h),s.Qg()}catch(t){console.log(t)}}function n(t){h||(h=window.audioContext.createGain(),h.VD(window.audioContext.destination)),h.XD.zD=t/256}function r(t,i){window._tinyMidiPlay&&window._tinyMidiPlay(t,i/256)}function l(t){window._tinyMidiVolume&&window._tinyMidiVolume(t/256)}function o(){window._tinyMidiStop&&window._tinyMidiStop()}s.t(i,{Br:()=>r,Zp:()=>n,Wp:()=>l,Cr:()=>o,Xc:()=>e})},937:(t,i,s)=>{async function h(t,i={}){const s={ZD:Object.assign(Object.create(globalThis),i.ZD||{},{jD(t,i,s,h){t=r(t>>>0),i=r(i>>>0),s>>>=0,h>>>=0,(()=>{throw Error(`${t} in ${i}:${s}:${h}`)})()}})},{qD:h}=await WebAssembly.instantiate(t,s),e=h.$D||i.ZD.$D,n=Object.setPrototypeOf({YD(){return(t=h.YD()>>>0)?{H:a(Int8Array,g(t+0)),KD:a(Int8Array,g(t+4)),JD:I(t+8),QD:I(t+12),tF:I(t+16),iF:I(t+20),sF:I(t+24),hF:I(t+28),eF:I(t+32),nF:I(t+36),rF:A(t+40),lF:I(t+44),oF:0!=A(t+48),aF:I(t+52),cF:I(t+56),fF:I(t+60),uF:I(t+64),dF:I(t+68),wF:I(t+72),yF:I(t+76),mF:I(t+80),pF:I(t+84),AF:f(I,2,g(t+88)),IF:f(I,2,g(t+92)),gF:f(I,2,g(t+96)),_F:f((t=>0!=A(t)),0,g(t+100)),CF:f((t=>0!=A(t)),0,g(t+104)),EF:f(A,0,g(t+108)),TF:f(A,0,g(t+112)),bF:f(I,2,g(t+116)),vF:f(A,0,g(t+120)),OF:f(A,0,g(t+124)),LF:l((t=>f(A,0,g(t))),2,g(t+128)),SF:l((t=>f(I,2,g(t))),2,g(t+132)),Ox:l((t=>f(I,2,g(t))),2,g(t+136)),kF:l((t=>f(I,2,g(t))),2,g(t+140)),RF:f(I,2,g(t+144))}:null;var t},Ur(t,i,s,e,n){i=function(t){if(t){const i=d.xo(t);i?d.gg(t,i+1):d.gg(h.MF(t),1)}return t}(c(Int8Array,6,0,i)||w()),n=function(t){if(null==t)return 0;const i=h.MF(h.xF(148,5));return p(i+0,c(Int8Array,6,0,t.H)||w()),p(i+4,c(Int8Array,6,0,t.KD)||w()),p(i+8,t.JD),p(i+12,t.QD),p(i+16,t.tF),p(i+20,t.iF),p(i+24,t.sF),p(i+28,t.hF),p(i+32,t.eF),p(i+36,t.nF),m(i+40,t.rF),p(i+44,t.lF),m(i+48,t.oF?1:0),p(i+52,t.aF),p(i+56,t.cF),p(i+60,t.fF),p(i+64,t.uF),p(i+68,t.dF),p(i+72,t.wF),p(i+76,t.yF),p(i+80,t.mF),p(i+84,t.pF),p(i+88,u(p,4,2,t.AF,Int32Array)||w()),p(i+92,u(p,4,2,t.IF,Int32Array)||w()),p(i+96,u(p,4,2,t.gF,Int32Array)||w()),p(i+100,u(m,7,0,t._F,Uint8Array)||w()),p(i+104,u(m,7,0,t.CF,Uint8Array)||w()),p(i+108,u(m,8,0,t.EF,Uint8Array)||w()),p(i+112,u(m,8,0,t.TF,Uint8Array)||w()),p(i+116,u(p,4,2,t.bF,Int32Array)||w()),p(i+120,u(m,8,0,t.vF,Uint8Array)||w()),p(i+124,u(m,8,0,t.OF,Uint8Array)||w()),p(i+128,o(((t,i)=>{p(t,u(m,8,0,i,Uint8Array)||w())}),9,2,t.LF)||w()),p(i+132,o(((t,i)=>{p(t,u(p,4,2,i,Int32Array)||w())}),10,2,t.SF)||w()),p(i+136,o(((t,i)=>{p(t,u(p,4,2,i,Int32Array)||w())}),10,2,t.Ox)||w()),p(i+140,o(((t,i)=>{p(t,u(p,4,2,i,Int32Array)||w())}),10,2,t.kF)||w()),p(i+144,u(p,4,2,t.RF,Int32Array)||w()),h.NF(i),i}(n)||w();try{return a(Int8Array,h.Ur(t,i,s,e,n)>>>0)}finally{!function(t){if(t){const i=d.xo(t);if(1===i)h.NF(t),d.aT(t);else{if(!i)throw Error(`invalid refcount '${i}' for reference '${t}'`);d.gg(t,i-1)}}}(i)}}},h);function r(t){if(!t)return null;const i=t+new Uint32Array(e.cN)[t-4>>>2]>>>1,s=new Uint16Array(e.cN);let h=t>>>1,n="";for(;i-h>1024;)n+=String.fromCharCode(...s.BN(h,h+=1024));return n+String.fromCharCode(...s.BN(h,i))}function l(t,i,s){if(!s)return null;const h=g(s+4),e=y.PF(s+12,!0),n=new Array(e);for(let s=0;s<e;++s)n[s]=t(h+(s<<i>>>0));return n}function o(t,i,s,e){if(null==e)return 0;const n=e.Pr,r=h.MF(h.xF(n<<s,1))>>>0,l=h.MF(h.xF(16,i))>>>0;p(l+0,r),y.DF(l+4,r,!0),y.DF(l+8,n<<s,!0),y.DF(l+12,n,!0);for(let i=0;i<n;++i)t(r+(i<<s>>>0),e[i]);return h.NF(r),h.NF(l),l}function a(t,i){return i?new t(e.cN,g(i+4),y.PF(i+8,!0)/t.FF).Dr():null}function c(t,i,s,n){if(null==n)return 0;const r=n.Pr,l=h.MF(h.xF(r<<s,1))>>>0,o=h.xF(12,i)>>>0;return p(o+0,l),y.DF(o+4,l,!0),y.DF(o+8,r<<s,!0),new t(e.cN,l,r).gg(n),h.NF(l),o}function f(t,i,s){if(!s)return null;const h=g(s-4)>>>i,e=new Array(h);for(let n=0;n<h;++n)e[n]=t(s+(n<<i>>>0));return e}function u(t,i,s,n,r){if(null==n)return 0;const l=n.Pr,o=h.MF(h.xF(l<<s,i))>>>0;if(r)new r(e.cN,o,l).gg(n);else for(let i=0;i<l;i++)t(o+(i<<s>>>0),n[i]);return h.NF(o),o}const d=new Map;function w(){throw TypeError("value must not be null")}let y=new DataView(e.cN);function m(t,i){try{y.UF(t,i,!0)}catch{y=new DataView(e.cN),y.UF(t,i,!0)}}function p(t,i){try{y.DF(t,i,!0)}catch{y=new DataView(e.cN),y.DF(t,i,!0)}}function A(t){try{return y.BF(t,!0)}catch{return y=new DataView(e.cN),y.BF(t,!0)}}function I(t){try{return y.GF(t,!0)}catch{return y=new DataView(e.cN),y.GF(t,!0)}}function g(t){try{return y.PF(t,!0)}catch{return y=new DataView(e.cN),y.PF(t,!0)}}return n}s.t(i,{hC:()=>h})},1527:(t,i,s)=>{var h=s(1928);!function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(window.audioContext=new window.AudioContext);var t=function(i){if(window.audioContext){var s=window.audioContext.createBuffer(1,1,22050),h=window.audioContext.createBufferSource();h.cN=s,h.VD(window.audioContext.destination),h.Qg?h.Qg(0):h.HF?h.HF(0):h.WF&&h.WF(0)}document.removeEventListener('touchstart',t),document.removeEventListener('touchend',t),document.removeEventListener('click',t)};document.Gg('touchstart',t),document.Gg('touchend',t),document.Gg('click',t)}(),(async()=>{let t=new Float32Array,i=window.audioContext.createGain();i.XD.zD=.1,i.VD(window.audioContext.destination);let s=window.audioContext.currentTime,e=[];const n=new h.s({ZF:30,YF:i=>{let s=new Float32Array(i.cN),h=new Float32Array(t.Pr+s.Pr);h.gg(t,0),h.gg(s,t.Pr),t=h},VF:t=>{},zF:102400});await n.$a();const r=await fetch('./SCC1_Florestan.sf2'),l=new Uint8Array(await r.Ra());function o(){if(!window.audioContext||!t.Pr)return;let h=window.audioContext.createBufferSource();const n=t.Pr/2,r=window.audioContext.createBuffer(2,n,44100);for(let i=0;i<2;i++){const s=r.XF(i);let h=i;for(let i=0;i<n;i++)s[i]=t[h],h+=2}s<window.audioContext.currentTime&&(s=window.audioContext.currentTime),h.cN=r,h.VD(i),h.Qg(s),e.vR(h),s+=r.tv,t=new Float32Array}let a;n.jF(l),window._tinyMidiStop=async()=>{if(a&&clearInterval(a),t=new Float32Array,e.Pr){let t=i.XD.zD;i.XD.zD=0,e.qF((t=>{t.bm(window.audioContext.currentTime)})),e=[],i.XD.zD=t}},window._tinyMidiVolume=(t=1)=>{i.XD.zD=t},window._tinyMidiPlay=async(t,i=1)=>{t&&(await window._tinyMidiStop(),-1!=i&&window._tinyMidiVolume(i),s=window.audioContext.currentTime,a=setInterval(o,250),n.$F(t))}})()},1928:(t,i,s)=>{s.t(i,{s:()=>e});var h=s(1885);const e=class{Dg(t={}){this.KF=void 0,this.JF=0,this.QF=0,this.tU=0,this.ZF=t.ZF||100,this.iU=t.iU||44100,this.sU=t.sU||2,this.XD=t.XD||0,t.zF?this.zF=t.zF:this.hU(1),this.YF=t.YF||(()=>{}),this.VF=t.VF||(()=>{}),this.eU=void 0,this.nU=0}async $a(){if(!this.KF){if('undefined'!=typeof process){const{rU:t}=await import('path'),{lU:i}=await import('module');globalThis.__dirname=t("file:///home/runner/work/Client2/Client2/src/js/vendor/tinymidipcm/index.js"),globalThis.require=i("file:///home/runner/work/Client2/Client2/src/js/vendor/tinymidipcm/index.js")}this.KF=await(0,h.s)(),this.oU=this.KF.aU(this.zF),this.cU=this.KF.aU(8)}}hU(t){this.zF=4*this.iU*this.sU*t}fU(){if(!this.KF)throw new Error(`${this.Dg.No} not initalized. call .init()`)}jF(t){this.fU();const{aU:i,uU:s,dU:h,wU:e,yU:n,mU:r,pU:l}=this.KF;s(this.JF),this.JF=i(t.Pr),this.KF.AU.gg(t,this.JF),this.QF=h(this.JF,t.Pr),e(this.QF,2===this.sU?0:2,this.iU,this.XD)}IU(){this.fU();const t=new Uint8Array(this.zF);return t.gg(this.KF.AU.BN(this.oU,this.oU+this.zF)),t}gU(t){const{aU:i,uU:s,_U:h}=this.KF;return s(this.tU),this.tU=i(t.Pr),this.KF.AU.gg(t,this.tU),h(this.tU,t.Pr)}CU(t){const{EU:i}=this.KF;return i(this.QF,t,this.sU,this.iU,this.oU,this.zF,this.cU)}$F(t){if(this.fU(),!this.QF)throw new Error('no soundfont buffer set. call .setSoundfont');window.clearTimeout(this.eU);const{TU:i,bU:s}=this.KF;i(this.cU,0,'double'),this.KF.vU(this.QF),this.KF.yU(this.QF,9,128,0),t[0]==='R'.IR(0)&&(t=t.Dr(20));let h=this.gU(t);const e=()=>{h=this.CU(h);const t=this.IU();this.YF(t),h?this.eU=setTimeout(e,this.ZF):this.VF(s(this.cU,'double'))};this.eU=setTimeout(e,16)}}},5621:(t,i,s)=>{t.qD=s.VC+"9f86b5397894e28b5ae2.wasm"},1885:(t,i,s)=>{var h;s.t(i,{s:()=>e});const e=(h="file:///home/runner/work/Client2/Client2/src/js/vendor/tinymidipcm/tinymidipcm.mjs",function(t){var i,e,n=void 0!==(t=t||{})?t:{};n.OU=new Promise((function(t,s){i=t,e=s})),["_tsf_load_memory","_tsf_set_output","_tsf_channel_set_bank_preset","_tsf_set_max_voices","_tsf_channel_set_presetnumber","_tsf_reset","_tsf_close","_tml_load_memory","_midi_render","_malloc","_realloc","_free","_fflush","onRuntimeInitialized"].qF((t=>{Object.getOwnPropertyDescriptor(n.OU,t)||Object.defineProperty(n.OU,t,{xo:()=>X('You are getting '+t+' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js'),gg:()=>X('You are setting '+t+' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js')})}));var r=Object.assign({},n),l=[],o='object'==typeof window,a='function'==typeof importScripts,c='object'==typeof process&&'object'==typeof process.versions&&'string'==typeof process.versions.node,f=!o&&!c&&!a;if(n.LU)throw new Error('Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)');var u,d,w,y='';if(c){if('undefined'==typeof process||!process.Jc||'node'!==process.Jc.No)throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');var m,p;y=a?require('path').rU(y)+'/':__dirname+'/';var A=()=>{p||(m=require('fs'),p=require('path'))};u=(t,i)=>(A(),t=p.SU(t),m.kU(t,i?void 0:'utf8')),w=t=>{var i=u(t,!0);return i.cN||(i=new Uint8Array(i)),N(i.cN),i},d=(t,i,s)=>{A(),t=p.SU(t),m.RU(t,(function(t,h){t?s(t):i(h.cN)}))},process.argv.Pr>1&&process.argv[1].va(/\\/g,'/'),l=process.argv.Dr(2),process.on('uncaughtException',(function(t){if(!(t instanceof et))throw t})),process.on('unhandledRejection',(function(t){throw t})),n.MU=function(){return'[Emscripten Module object]'}}else if(f){if('object'==typeof process&&'function'==typeof require||'object'==typeof window||'function'==typeof importScripts)throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');'undefined'!=typeof read&&(u=function(t){return read(t)}),w=function(t){let i;return'function'==typeof readbuffer?new Uint8Array(readbuffer(t)):(i=read(t,'binary'),N('object'==typeof i),i)},d=function(t,i,s){setTimeout((()=>i(w(t))),0)},'undefined'!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),'undefined'!=typeof print&&('undefined'==typeof console&&(console={}),console.log=print,console.warn=console.Ja='undefined'!=typeof printErr?printErr:print)}else{if(!o&&!a)throw new Error('environment detection error');if(a?y=self.location.href:'undefined'!=typeof document&&document.currentScript&&(y=document.currentScript.lM),h&&(y=h),y=0!==y.co('blob:')?y.xU(0,y.va(/[?#].*/,"").QE('/')+1):'','object'!=typeof window&&'function'!=typeof importScripts)throw new Error('not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)');u=t=>{var i=new XMLHttpRequest;return i.gN('GET',t,!1),i.AN(null),i.NU},a&&(w=t=>{var i=new XMLHttpRequest;return i.gN('GET',t,!1),i.PU='arraybuffer',i.AN(null),new Uint8Array(i.DU)}),d=(t,i,s)=>{var h=new XMLHttpRequest;h.gN('GET',t,!0),h.PU='arraybuffer',h.oM=()=>{200==h.FU||0==h.FU&&h.DU?i(h.DU):s()},h.yN=s,h.AN(null)}}n.UU||console.log.rc(console);var I,g,_=n.BU||console.warn.rc(console);function C(t,i){Object.getOwnPropertyDescriptor(n,t)||Object.defineProperty(n,t,{GU:!0,xo:function(){X('Module.'+t+' has been replaced with plain '+i+' (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)')}})}function E(t){return'FS_createPath'===t||'FS_createDataFile'===t||'FS_createPreloadedFile'===t||'FS_unlink'===t||'addRunDependency'===t||'FS_createLazyFile'===t||'FS_createDevice'===t||'removeRunDependency'===t}Object.assign(n,r),r=null,I='fetchSettings',Object.getOwnPropertyDescriptor(n,I)&&X('`Module.'+I+'` was supplied but `'+I+'` not included in INCOMING_MODULE_JS_API'),n.HU&&(l=n.HU),C('arguments','arguments_'),n.WU&&n.WU,C('thisProgram','thisProgram'),n.ZU&&n.ZU,C('quit','quit_'),N(void 0===n.YU,'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead'),N(void 0===n.VU,'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead'),N(void 0===n.zU,'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead'),N(void 0===n.XU,'Module.filePackagePrefixURL option was removed, use Module.locateFile instead'),N(void 0===n.Ur,'Module.read option was removed (modify read_ in JS)'),N(void 0===n.jU,'Module.readAsync option was removed (modify readAsync in JS)'),N(void 0===n.qU,'Module.readBinary option was removed (modify readBinary in JS)'),N(void 0===n.$U,'Module.setWindowTitle option was removed (modify setWindowTitle in JS)'),N(void 0===n.KU,'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY'),C('read','read_'),C('readAsync','readAsync'),C('readBinary','readBinary'),C('setWindowTitle','setWindowTitle'),N(!f,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable."),n.JU&&(g=n.JU),C('wasmBinary','wasmBinary');var T;n.QU;C('noExitRuntime','noExitRuntime'),'object'!=typeof WebAssembly&&X('no native wasm support detected');var b,v,O,L,S,k,R,M,x=!1;function N(t,i){t||X('Assertion failed'+(i?': '+i:''))}function P(t){b=t,n.tB=v=new Int8Array(t),n.iB=L=new Int16Array(t),n.sB=S=new Int32Array(t),n.AU=O=new Uint8Array(t),n.hB=new Uint16Array(t),n.eB=k=new Uint32Array(t),n.nB=R=new Float32Array(t),n.rB=M=new Float64Array(t)}'undefined'!=typeof TextDecoder&&new TextDecoder('utf8');var D=5242880;n.lB&&N(D===n.lB,'the stack size can no longer be determined at runtime');var F=n.oB||16777216;function U(){if(!x){var t=ft(),i=k[t>>2],s=k[t+4>>2];34821223==i&&2310721022==s||X('Stack overflow! Stack cookie has been overwritten at 0x'+t._u(16)+', expected hex dwords 0x89BACDFE and 0x2135467, but received 0x'+s._u(16)+' 0x'+i._u(16)),1668509029!==k[0]&&X('Runtime error: The application has corrupted its heap memory area (address zero)!')}}C('INITIAL_MEMORY','INITIAL_MEMORY'),N(F>=D,'INITIAL_MEMORY should be larger than TOTAL_STACK, was '+F+'! (TOTAL_STACK='+D+')'),N('undefined'!=typeof Int32Array&&'undefined'!=typeof Float64Array&&null!=Int32Array.prototype.BN&&null!=Int32Array.prototype.gg,'JS engine does not provide full typed array support'),N(!n.aB,'Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally'),N(16777216==F,'Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically'),function(){var t=new Int16Array(1),i=new Int8Array(t.cN);if(t[0]=25459,115!==i[0]||99!==i[1])throw'Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)'}();var B=[],G=[],H=[],W=!1;N(Math.imul,'This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill'),N(Math.fround,'This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill'),N(Math.clz32,'This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill'),N(Math.trunc,'This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill');var Z=0,Y=null,V=null,z={};function X(t){n.cB&&n.cB(t),_(t='Aborted('+t+')'),x=!0;var i=new WebAssembly.RuntimeError(t);throw e(i),i}var j={Ja:function(){X('Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM')},$a:function(){j.Ja()},fB:function(){j.Ja()},uB:function(){j.Ja()},dB:function(){j.Ja()},gN:function(){j.Ja()},wB:function(){j.Ja()},yB:function(){j.Ja()},mB:function(){j.Ja()},pB:function(){j.Ja()},AB:function(){j.Ja()}};n.IB=j.fB,n.gB=j.uB;var q,$,K,J,Q='data:application/octet-stream;base64,';function tt(t){return t.ga(Q)}function it(t){return t.ga('file://')}function st(t,i){return function(){var s=t,h=i;return i||(h=n._B),N(W,'native function `'+s+'` called before runtime initialization'),h[t]||N(h[t],'exported native function `'+s+'` not found'),h[t].CB(null,arguments)}}function ht(t){try{if(t==q&&g)return new Uint8Array(g);if(w)return w(t);throw"both async and sync fetching of the wasm failed"}catch(t){X(t)}}function et(t){this.No='ExitStatus',this.EB='Program terminated with exit('+t+')',this.FU=t}function nt(t){for(;t.Pr>0;)t.IN()(n)}function rt(t){rt.TB||(rt.TB={}),rt.TB[t]||(rt.TB[t]=1,c&&(t='warning: '+t),_(t))}function lt(t){try{return T.bB(t-b.vB+65535>>>16),P(T.cN),1}catch(i){_('emscripten_realloc_buffer: Attempted to grow heap from '+b.vB+' bytes to '+t+' bytes, but got error: '+i)}}n.OB?tt(q='tinymidipcm.wasm')||($=q,q=n.OB?n.OB($,y):y+$):q=new URL(s(5621),s.NC)._u();var ot,at={LB:function(t,i,s){O.SB(t,i,i+s)},kB:function(t){var i=O.Pr;N((t>>>=0)>i);var s,h,e=2147483648;if(t>e)return _('Cannot enlarge memory, asked to go up to '+t+' bytes, but the limit is '+e+' bytes!'),!1;for(var n=1;n<=4;n*=2){var r=i*(1+.2/n);r=Math.min(r,t+100663296);var l=Math.min(e,(s=Math.max(t,r))+((h=65536)-s%h)%h);if(lt(l))return!0}return _('Failed to grow the heap from '+i+' bytes to '+l+' bytes, not enough memory!'),!1}},ct=(function(){var t,i={ZD:at,RB:at};function s(t,i){var s,h=t.qD;n._B=h,N(T=n._B.$D,"memory not found in wasm exports"),P(T.cN),N(n._B.MB,"table not found in wasm exports"),s=n._B.xB,G.DP(s),function(t){if(Z--,n.NB&&n.NB(Z),t?(N(z[t]),delete z[t]):_('warning: run dependency removed without ID'),0==Z&&(null!==Y&&(clearInterval(Y),Y=null),V)){var i=V;V=null,i()}}('wasm-instantiate')}t='wasm-instantiate',Z++,n.NB&&n.NB(Z),t?(N(!z[t]),z[t]=1,null===Y&&'undefined'!=typeof setInterval&&(Y=setInterval((function(){if(x)return clearInterval(Y),void(Y=null);var t=!1;for(var i in z)t||(t=!0,_('still waiting on run dependencies:')),_('dependency: '+i);t&&_('(end of list)')}),1e4))):_('warning: run dependency added without ID');var h=n;function r(t){N(n===h,'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?'),h=null,s(t.PB)}function l(t){return function(){if(!g&&(o||a)){if('function'==typeof fetch&&!it(q))return fetch(q,{FB:'same-origin'})._c((function(t){if(!t.UB)throw"failed to load wasm binary file at '"+q+"'";return t.Ra()})).DB((function(){return ht(q)}));if(d)return new Promise((function(t,i){d(q,(function(i){t(new Uint8Array(i))}),i)}))}return Promise.resolve()._c((function(){return ht(q)}))}()._c((function(t){return WebAssembly.instantiate(t,i)}))._c((function(t){return t}))._c(t,(function(t){_('failed to asynchronously prepare wasm: '+t),it(q)&&_('warning: Loading from a file URI ('+q+') is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing'),X(t)}))}if(n.BB)try{return n.BB(i,s)}catch(t){_('Module.instantiateWasm callback failed with error: '+t),e(t)}(g||'function'!=typeof WebAssembly.instantiateStreaming||tt(q)||it(q)||c||'function'!=typeof fetch?l(r):fetch(q,{FB:'same-origin'})._c((function(t){return WebAssembly.instantiateStreaming(t,i)._c(r,(function(t){return _('wasm streaming compile failed: '+t),_('falling back to ArrayBuffer instantiation'),l(r)}))}))).DB(e)}(),n.GB=st("__wasm_call_ctors"),n.aU=st("malloc"),n.uU=st("free"),n.dU=st("tsf_load_memory"),n.HB=st("tsf_close"),n.vU=st("tsf_reset"),n.wU=st("tsf_set_output"),n.mU=st("tsf_set_max_voices"),n.WB=st("realloc"),n.pU=st("tsf_channel_set_presetnumber"),n.yU=st("tsf_channel_set_bank_preset"),n._U=st("tml_load_memory"),n.EU=st("midi_render"),n.ZB=st("__errno_location"),n.YB=st("fflush"),n.VB=function(){return(ct=n.VB=n._B.zB).CB(null,arguments)}),ft=(n.XB=function(){return(n.XB=n._B.jB).CB(null,arguments)},n.qB=function(){return(n.qB=n._B.$B).CB(null,arguments)},n.KB=function(){return(ft=n.KB=n._B.JB).CB(null,arguments)});function ut(){var t;ct(),N(0==(3&(t=ft()))),k[t>>2]=34821223,k[t+4>>2]=2310721022,k[0]=1668509029}function dt(t){function s(){ot||(ot=!0,n.QB=!0,x||(N(!W),W=!0,U(),nt(G),i(n),n.tG&&n.tG(),N(!n.iG,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(U(),n.sG)for('function'==typeof n.sG&&(n.sG=[n.sG]);n.sG.Pr;)t=n.sG.IN(),H.DP(t);var t;nt(H)}()))}t=t||l,Z>0||(ut(),function(){if(n.hG)for('function'==typeof n.hG&&(n.hG=[n.hG]);n.hG.Pr;)t=n.hG.IN(),B.DP(t);var t;nt(B)}(),Z>0||(n.eG?(n.eG('Running...'),setTimeout((function(){setTimeout((function(){n.eG('')}),1),s()}),1)):s(),U()))}if(n.nG=st("stackSave"),n.rG=st("stackRestore"),n.lG=st("stackAlloc"),n.TU=function(t,i,s="i8"){switch(s.rp('*')&&(s='*'),s){case'i1':case'i8':v[t>>0]=i;break;case'i16':L[t>>1]=i;break;case'i32':S[t>>2]=i;break;case'i64':J=[i>>>0,(K=i,+Math.abs(K)>=1?K>0?(0|Math.min(+Math.floor(K/4294967296),4294967295))>>>0:~~+Math.ceil((K-+(~~K>>>0))/4294967296)>>>0:0)],S[t>>2]=J[0],S[t+4>>2]=J[1];break;case'float':R[t>>2]=i;break;case'double':M[t>>3]=i;break;case'*':k[t>>2]=i;break;default:X('invalid type for setValue: '+s)}},n.bU=function(t,i="i8"){switch(i.rp('*')&&(i='*'),i){case'i1':case'i8':return v[t>>0];case'i16':return L[t>>1];case'i32':case'i64':return S[t>>2];case'float':return R[t>>2];case'double':return M[t>>3];case'*':return k[t>>2];default:X('invalid type for getValue: '+i)}return null},['run','UTF8ArrayToString','UTF8ToString','stringToUTF8Array','stringToUTF8','lengthBytesUTF8','addOnPreRun','addOnInit','addOnPreMain','addOnExit','addOnPostRun','addRunDependency','removeRunDependency','FS_createFolder','FS_createPath','FS_createDataFile','FS_createPreloadedFile','FS_createLazyFile','FS_createLink','FS_createDevice','FS_unlink','getLEB','getFunctionTables','alignFunctionTables','registerFunctions','prettyPrint','getCompilerSetting','print','printErr','callMain','abort','keepRuntimeAlive','wasmMemory','stackAlloc','stackSave','stackRestore','getTempRet0','setTempRet0','writeStackCookie','checkStackCookie','ptrToString','zeroMemory','stringToNewUTF8','exitJS','getHeapMax','emscripten_realloc_buffer','ENV','ERRNO_CODES','ERRNO_MESSAGES','setErrNo','inetPton4','inetNtop4','inetPton6','inetNtop6','readSockaddr','writeSockaddr','DNS','getHostByName','Protocols','Sockets','getRandomDevice','warnOnce','traverseStack','UNWIND_CACHE','convertPCtoSourceLocation','readAsmConstArgsArray','readAsmConstArgs','mainThreadEM_ASM','jstoi_q','jstoi_s','getExecutableName','listenOnce','autoResumeAudioContext','dynCallLegacy','getDynCaller','dynCall','handleException','runtimeKeepalivePush','runtimeKeepalivePop','callUserCallback','maybeExit','safeSetTimeout','asmjsMangle','asyncLoad','alignMemory','mmapAlloc','writeI53ToI64','writeI53ToI64Clamped','writeI53ToI64Signaling','writeI53ToU64Clamped','writeI53ToU64Signaling','readI53FromI64','readI53FromU64','convertI32PairToI53','convertI32PairToI53Checked','convertU32PairToI53','getCFunc','ccall','cwrap','uleb128Encode','sigToWasmTypes','generateFuncType','convertJsFunctionToWasm','freeTableIndexes','functionsInTableMap','getEmptyTableSlot','updateTableMap','addFunction','removeFunction','reallyNegative','unSign','strLen','reSign','formatString','PATH','PATH_FS','intArrayFromString','intArrayToString','AsciiToString','stringToAscii','UTF16Decoder','UTF16ToString','stringToUTF16','lengthBytesUTF16','UTF32ToString','stringToUTF32','lengthBytesUTF32','allocateUTF8','allocateUTF8OnStack','writeStringToMemory','writeArrayToMemory','writeAsciiToMemory','SYSCALLS','getSocketFromFD','getSocketAddress','JSEvents','registerKeyEventCallback','specialHTMLTargets','maybeCStringToJsString','findEventTarget','findCanvasEventTarget','getBoundingClientRect','fillMouseEventData','registerMouseEventCallback','registerWheelEventCallback','registerUiEventCallback','registerFocusEventCallback','fillDeviceOrientationEventData','registerDeviceOrientationEventCallback','fillDeviceMotionEventData','registerDeviceMotionEventCallback','screenOrientation','fillOrientationChangeEventData','registerOrientationChangeEventCallback','fillFullscreenChangeEventData','registerFullscreenChangeEventCallback','JSEvents_requestFullscreen','JSEvents_resizeCanvasForFullscreen','registerRestoreOldStyle','hideEverythingExceptGivenElement','restoreHiddenElements','setLetterbox','currentFullscreenStrategy','restoreOldWindowedStyle','softFullscreenResizeWebGLRenderTarget','doRequestFullscreen','fillPointerlockChangeEventData','registerPointerlockChangeEventCallback','registerPointerlockErrorEventCallback','requestPointerLock','fillVisibilityChangeEventData','registerVisibilityChangeEventCallback','registerTouchEventCallback','fillGamepadEventData','registerGamepadEventCallback','registerBeforeUnloadEventCallback','fillBatteryEventData','battery','registerBatteryEventCallback','setCanvasElementSize','getCanvasElementSize','demangle','demangleAll','jsStackTrace','stackTrace','ExitStatus','getEnvStrings','checkWasiClock','flush_NO_FILESYSTEM','dlopenMissingError','createDyncallWrapper','setImmediateWrapped','clearImmediateWrapped','polyfillSetImmediate','uncaughtExceptionCount','exceptionLast','exceptionCaught','ExceptionInfo','exception_addRef','exception_decRef','Browser','setMainLoop','wget','FS','MEMFS','TTY','PIPEFS','SOCKFS','_setNetworkCallback','tempFixedLengthArray','miniTempWebGLFloatBuffers','heapObjectForWebGLType','heapAccessShiftForWebGLHeap','GL','emscriptenWebGLGet','computeUnpackAlignedImageSize','emscriptenWebGLGetTexPixelData','emscriptenWebGLGetUniform','webglGetUniformLocation','webglPrepareUniformLocationsBeforeFirstUse','webglGetLeftBracePos','emscriptenWebGLGetVertexAttrib','writeGLArray','AL','SDL_unicode','SDL_ttfContext','SDL_audio','SDL','SDL_gfx','GLUT','EGL','GLFW_Window','GLFW','GLEW','IDBStore','runAndAbortIfError','ALLOC_NORMAL','ALLOC_STACK','allocate'].qF((function(t){Object.getOwnPropertyDescriptor(n,t)||Object.defineProperty(n,t,{GU:!0,xo:function(){var i="'"+t+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";E(t)&&(i+='. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you'),X(i)}})})),['ptrToString','zeroMemory','stringToNewUTF8','exitJS','setErrNo','inetPton4','inetNtop4','inetPton6','inetNtop6','readSockaddr','writeSockaddr','getHostByName','getRandomDevice','traverseStack','convertPCtoSourceLocation','readAsmConstArgs','mainThreadEM_ASM','jstoi_q','jstoi_s','getExecutableName','listenOnce','autoResumeAudioContext','dynCallLegacy','getDynCaller','dynCall','runtimeKeepalivePush','runtimeKeepalivePop','callUserCallback','maybeExit','safeSetTimeout','asmjsMangle','asyncLoad','alignMemory','mmapAlloc','writeI53ToI64','writeI53ToI64Clamped','writeI53ToI64Signaling','writeI53ToU64Clamped','writeI53ToU64Signaling','readI53FromI64','readI53FromU64','convertI32PairToI53','convertI32PairToI53Checked','convertU32PairToI53','getCFunc','ccall','cwrap','uleb128Encode','sigToWasmTypes','generateFuncType','convertJsFunctionToWasm','getEmptyTableSlot','updateTableMap','addFunction','removeFunction','reallyNegative','unSign','strLen','reSign','formatString','intArrayFromString','intArrayToString','AsciiToString','stringToAscii','UTF16ToString','stringToUTF16','lengthBytesUTF16','UTF32ToString','stringToUTF32','lengthBytesUTF32','allocateUTF8','allocateUTF8OnStack','writeStringToMemory','writeAsciiToMemory','getSocketFromFD','getSocketAddress','registerKeyEventCallback','maybeCStringToJsString','findEventTarget','findCanvasEventTarget','getBoundingClientRect','fillMouseEventData','registerMouseEventCallback','registerWheelEventCallback','registerUiEventCallback','registerFocusEventCallback','fillDeviceOrientationEventData','registerDeviceOrientationEventCallback','fillDeviceMotionEventData','registerDeviceMotionEventCallback','screenOrientation','fillOrientationChangeEventData','registerOrientationChangeEventCallback','fillFullscreenChangeEventData','registerFullscreenChangeEventCallback','JSEvents_requestFullscreen','JSEvents_resizeCanvasForFullscreen','registerRestoreOldStyle','hideEverythingExceptGivenElement','restoreHiddenElements','setLetterbox','softFullscreenResizeWebGLRenderTarget','doRequestFullscreen','fillPointerlockChangeEventData','registerPointerlockChangeEventCallback','registerPointerlockErrorEventCallback','requestPointerLock','fillVisibilityChangeEventData','registerVisibilityChangeEventCallback','registerTouchEventCallback','fillGamepadEventData','registerGamepadEventCallback','registerBeforeUnloadEventCallback','fillBatteryEventData','battery','registerBatteryEventCallback','setCanvasElementSize','getCanvasElementSize','getEnvStrings','checkWasiClock','flush_NO_FILESYSTEM','createDyncallWrapper','setImmediateWrapped','clearImmediateWrapped','polyfillSetImmediate','ExceptionInfo','exception_addRef','exception_decRef','setMainLoop','_setNetworkCallback','heapObjectForWebGLType','heapAccessShiftForWebGLHeap','emscriptenWebGLGet','computeUnpackAlignedImageSize','emscriptenWebGLGetTexPixelData','emscriptenWebGLGetUniform','webglGetUniformLocation','webglPrepareUniformLocationsBeforeFirstUse','webglGetLeftBracePos','emscriptenWebGLGetVertexAttrib','writeGLArray','SDL_unicode','SDL_ttfContext','SDL_audio','GLFW_Window','runAndAbortIfError','ALLOC_NORMAL','ALLOC_STACK','allocate'].qF((function(t){'undefined'==typeof globalThis||Object.getOwnPropertyDescriptor(globalThis,t)||Object.defineProperty(globalThis,t,{GU:!0,xo:function(){var i='`'+t+'` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line';E(t)&&(i+='. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you'),rt(i)}})})),V=function t(){ot||dt(),ot||(V=t)},n.oG)for('function'==typeof n.oG&&(n.oG=[n.oG]);n.oG.Pr>0;)n.oG.OR()();return dt(),t.OU})}},n={};function r(t){var i=n[t];if(void 0!==i)return i.qD;var s=n[t]={qD:{}};return e[t](s,s.qD,r),s.qD}r.cg=e,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",i="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",h=t=>{t&&t.t<1&&(t.t=1,t.qF((t=>t.XC--)),t.qF((t=>t.XC--?t.XC++:t())))},r.Sa=(e,n,r)=>{var l;r&&((l=[]).t=-1);var o,a,c,f=new Set,u=e.qD,d=new Promise(((t,i)=>{c=i,a=t}));d[i]=u,d[t]=t=>(l&&t(l),f.qF(t),d.DB((t=>{}))),e.qD=d,n((e=>{var n;o=(e=>e.UP((e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e._c){var n=[];n.t=0,e._c((t=>{r[i]=t,h(n)}),(t=>{r[s]=t,h(n)}));var r={};return r[t]=t=>t(n),r}}var l={};return l[t]=t=>{},l[i]=e,l})))(e);var r=()=>o.UP((t=>{if(t[s])throw t[s];return t[i]})),a=new Promise((i=>{(n=()=>i(r)).XC=0;var s=t=>t!==l&&!f.aG(t)&&(f.Bv(t),t&&!t.t&&(n.XC++,t.vR(n)));o.UP((i=>i[t](s)))}));return n.XC?a:r()}),(t=>(t?c(d[s]=t):a(u),h(l)))),l&&l.t<0&&(l.t=0)},r.t=(t,i)=>{for(var s in i)r.YC(i,s)&&!r.YC(t,s)&&Object.defineProperty(t,s,{cG:!0,xo:i[s]})},r.YC=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r.VC="/Client2/",r.NC=document.baseURI||self.location.href;r(1979)})();